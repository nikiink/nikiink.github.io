<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Grammar | Xiaomi Theme</title>
    <meta name="generator" content="VuePress 1.9.9">
    <meta name="description" content="MIUI Theme Official Blog">
    <link rel="stylesheet" href="assets/0.styles.a29d4cfb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container">


<main class="page"> <div class="theme-default-content content__default">




<!-- ====== Section ====== -->
<h2 id="maml-intro"><a href="#maml-intro" class="header-anchor">#</a>Introducing MAML <i>[10th Sept 2023] [TRANSLATION IN PROGRESS]</i></h2>
<ul><li><p>MAML Engine scripting language<br>
MIUI Application Markup Language for MORE (MIUI MORE engine application markup language)</p></li> <li><p>Introduction<br>
It was originally used for the ever-changing lock screen, using xml to describe the lock screen interface with a specific syntax. Later, the functions were continuously enhanced, and gradually evolved into a set of near-universal interface description language and graphics rendering engine, which can be used to develop user interfaces with various styles under certain requirements. It is convenient to change the interface style, animation and even interaction mode by changing the skin.</p>
<p>MAML language is similar to Android's interface description xml. The difference is that Android describes a static interface, and changes to interface elements depend on java code. MAML describes a static interface + dynamic attributes. The UI is constantly refreshed on the timeline at a certain frame rate, and the UI display is updated in real time based on the calculation results of the variable expressions of the element attributes. The MAML language and runtime engine have been separated from the lock screen as MIUI's built-in general framework. In addition to displaying time and date, it also supports querying standard Content Providers to obtain various information such as weather. Display various elements such as pictures and texts, various animations, and interface interactive controls such as sliding and clicking, which are suitable for displaying information or interfaces with simple interactive operations. Such as clock, weather widget, alarm clock interface</p>
<p>The framework supports dynamic frame rate, it does not need to keep rendering at a fixed frame rate, stop rendering when there is no animation and update, and only takes up very little at this time Resources, use low frame rate rendering for slowly changing animations, and adjust to high frame rate full speed rendering immediately after high dynamic animation starts. When rendering at full speed, the full-screen frame rate can basically reach 60-120 frames. Used wisely, it can be both cool and cheap. </p></li></ul>
<p><strong>Application of MAML in the ever-changing lock screen</strong></p>
<p>The lockscreen/advance of the ever-changing lock screen in the theme package, under the directory, the manifest.xml file is a description script.</p>

<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useHardwareCanvas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Unlocker</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Unlocker</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span><span class="token punctuation">/&gt;</span></span>
    …
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>

<table><thead><tr>
    <th style="text-align:left;">Attribute</th>
    <th style="text-align:center;">Type</th>
    <th style="text-align:center;">Expression/Variable</th>
    <th style="text-align:left;">Description</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td style="text-align:left;">frameRate</td>
        <td style="text-align:center;">int</td>
        <td style="text-align:center;">x/x</td>
        <td style="text-align:left;">Specify the frame rate. If the animation is slow, you can specify a smaller value to save power. The default is 30.</td>
    </tr>
    <tr>
        <td style="text-align:left;">screenWidth</td>
        <td style="text-align:center;">int</td>
        <td style="text-align:center;">x/x</td>
        <td style="text-align:left;">
            Sets the screen width standard. If it is specified as 720, the positions of all elements in the lock screen will be written according to the layout of 720p, and phones with 1080p, 480p and other resolutions will automatically scale.
            <br>If it is specified as 1080px, the positions of all elements in the lock screen are written according to the layout of 1080px, for example:
            <code>screenWidth=&quot;1080&quot;</code></td>
    </tr>
    <tr><td style="text-align:left;">displayDesktop</td>
        <td style="text-align:center;">boolean</td>
        <td style="text-align:center;">x/x</td>
        <td style="text-align:left;">The default is false, perspective to the desktop, if there is no lock screen wallpaper or the lock screen wallpaper can be removed or transparent, you can see the desktop launcher or the application before the lock screen. (<strong>currently not supported</strong>).</td>
    </tr>
    <tr>
        <td style="text-align:left;">showSysWallpaper</td>
        <td style="text-align:center;">boolean</td>
        <td style="text-align:center;">x/x</td>
        <td style="text-align:left;">The default is false, whether to display the desktop wallpaper on the lock screen. If you do not specify a lock screen wallpaper <code>&lt;Wallpaper/&gt;</code> after enabling it, the desktop wallpaper will be used as the lock screen wallpaper (<strong>Currently the system does not support it</strong>).</td>
    </tr>
    <tr>
        <td style="text-align:left;">useHardwareCanvas</td>
        <td style="text-align:center;">boolean</td>
        <td style="text-align:center;">x/x</td>
        <td style="text-align:left;">Enable hardware acceleration for devices that support hardware acceleration. <font color="#ff0000">since MIUI13</font></td>
    </tr>
    </tbody>
</table>

    <p><strong>Application of MAML in Variety Wallpapers and Dynamic Icons</strong></p> <ul><li><strong>Variety Wallpapers</strong></li></ul>
    <p>Various wallpapers are in the miwallpaper directory of the theme package, and the description file is also manifest.xml. The root node representation is basically the same as that of the Variety lock screen:</p>
    <div class="language-xml extra-class">
    <pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MiWallpaper</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useHardwareCanvas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span><span class="token punctuation">/&gt;</span></span>
    …
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MiWallpaper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="language- extra-class">
    <pre class="language-text"><code>screenWidth                 Indicates the default resolution of the ever-changing wallpaper
wallpaper_offset_pixel_x    The number of pixels to offset (0 ~ -1*screen width)
wallpaper_offset_x          Offset percentage (0 ~ 1.0)
</code></pre></div>

    <p>To achieve the effect of elements sliding with fingers, you need to use #wallpaper*offset_pixel_x, #wallpaper_offset_x</p> <p>The relationship between the two:</p>
    <div class="language -extra-class">
    <pre class="language-text"><code>#wallpaper_offset_x * screen width = -1\_#wallpaper_offset_pixel_x</code></pre></div>
    <p>When sliding: on the first screen, wallpaper_offset_pixel_x = 0, wallpaper_offset_x = 0;<br>
    Swipe to the last screen, wallpaper_offset_pixel_x = -1*screen width, wallpaper_offset_x = 1.0<br>
    In order to adapt to models with different resolutions, it is recommended to use #wallpaper_offset_x. </p>
    <p>Suggested design approach:</p>
    <ol>
         <li>The wallpaper is cut into double screen width (screen width refers to screenWidth)</li>
         <li>Wallpaper positioning: x=&quot;-#wallpaper_offset_x * screen width&quot;</li>
         <li>Positioning of elements that need to follow the slide: x=&quot;-#wallpaper_offset_x * screen width + position relative to the wallpaper&quot;</li>
    </ol> <br>
    <ul>
         <li><strong>Dynamic icons</strong></li></ul><p>Dynamic icons are in the theme package icons\fancy_icons\ directory, each dynamic icon is a folder, and the name of the folder is the corresponding The package name of the app. For example, the dynamic icon of the calendar is a folder called &quot;com.android.calendar&quot;, which contains the manifest.xml description file. </p>
    <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>168<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>168<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useVariableUpdater</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">hideApplicationMessage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span><span class="token punctuation">/&gt;</span></span>
    …
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Icon</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>

<p><strong>hideApplicationMessage</strong>: The default is false, which hides the notification sign in the upper right corner. <br> <strong>useVariableUpdater</strong>: Specify which system variables are needed, currently including power and time, and you can specify the update cycle of time, if the time widget is updated every second, you need to specify the update cycle as 1 second, otherwise By default it will be updated every minute. If the widget or dynamic icon only displays the date, it will be updated once a day, and the update cycle can be specified as 1 day. Try to choose a longer update cycle to save system resources. </p> <p>Currently supported tags: Battery, DateTime.Day, DateTime.Hour, DateTime.Minute, DateTime.Second</p> <blockquote><p>If a gadget does not need battery or time variables , you need to use useVariableUpdater=&quot;none&quot; to specify not to update time variables. <br>
    If a widget shows system battery and changes background image every hour based on time: useVariableUpdater=&quot;Battery,DateTime.Hour&quot;<br>
    If you need to refresh multiple times per second, you can use frameRate directly</p></blockquote>





<!-- ====== Section ====== -->
<h2 id="Model Adaptation"><a href="#Model Adaptation" class="header-anchor">#</a> Model Adaptation</h2> <p>A manifest file , can run on multiple devices at the same time, you only need to set the resources and scaling ratios used on devices of different sizes or densities. </p> <ul><li><strong>Resource adaptation:</strong></li></ul> <div class="language-xml extra-class"><pre class="language-xml "><code>extraResources=&quot;sw1000-den320:den320:1.2,sw1000-den320::1.2,sw1000-den320-large:den320:1.2&quot;
</code></pre></div><p><code>sw1000-den320:den320:1.2</code> On a model with a screen width of 1000 and a density of 320, the den320 folder is used Resources, and zoom in 1.2 times;<br> <code>sw1000-den320::1.2</code> On the model with screen width 1000 and density 320, use the default resources, and zoom in 1.2 times)<br> <code>extraResources=&quot;sw2000-den480:1.8, sw1000-den320-large:1.8</code> There is only a colon in the middle of these two sentences, which means that the resources used by the sw2000-den480 model are in sw2000-den480 Resources under this folder with the same name, and enlarged by 1.8 times)</p> <ul><li><strong>Layout adaptation:</strong></li></ul> <div class="language- xml extra-class"><pre class="language-xml"><code>extraScales=&quot;sw1000-den320:1.2,sw2000-den480-large:1.8&quot;
</code></pre></div><p>Adaptation principle:</p> <ol><li>First make a list of den and sw that appear in all your customizations (such as here<code> extraResources=&quot;sw1440-den440::0.916, sw720-den320::0.667, sw480-den240::0.444</code>, the involved dens are 440, 320, 240, plus a default 480; sw has 1440, 720, 480, plus a default 1080 (corresponding to den480) </li>
<li>Then when your theme is placed on a device, first take your device density and find it in the den list above , find the closest one, and if there are multiple sws in the same den, then use the screen width of the device to find the closest one among these several sws, and thus find the most suitable swXXX-denXXX</li>
<li> Finally, the resource is the resource in the directory corresponding to this sw-den, and the scaling ratio Sr. The zoom ratio of the numbers in the code uses the Ss corresponding to sw-den.</li> <li>The last is the zoom ratio</li></ol> <div class="language- extra-class"><pre class="language-text"><code>If scaling by density (ie scaleByDensity=&quot;true&quot;): The real scaling ratio of the resource is Sr * device den / found den, and the digital scaling ratio in the code is Ss * device den / found den
If scaling according to the screen width (ie scaleByDensity=&quot;false&quot;): The real scaling ratio of the resource is Sr * device sw / found sw, and the digital scaling ratio in the code is Ss * device sw / found sw
</code></pre></div><br>






<!-- ====== Section ====== -->
<h2 id="Getting Started Tutorial"><a href="#Getting Started Tutorial" class="header-anchor">#</a>Getting Started Tutorial</h2>
<p>Before reading this tutorial, it is recommended to take a look at the introductory tutorial:
    <!-- replaced not working: https://zhuti.designer.xiaomi.com/docs/blog/introduction.html#%E9%94%81%E5%B1%8F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B -->
    <a href="https://zhuti.designer.xiaomi.com/docs/blog/LockScreenGettingStarted.html" target="_blank" rel="noopener noreferrer">
        <font color="#0055ff"><strong>Getting started with the lock screen</strong></font>
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span>
    </a>
</p><br> 



<!-- ====== Section ====== -->
<h2 id="Wallpaper elements"><a href="#Wallpaper elements" class="header-anchor">#</a>Wallpaper elements</h2>
<p>Wallpaper element refers to the wallpaper set by the system. It is the same as the Image element except that the image source cannot be specified,
     and can have animation and other property controls. Without this element no wallpaper is displayed. There can be more than one.</p> <p>Example:</p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wallpaper</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wallpaper</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255*#defaultScreen_x/2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre>
</div><br> 



<!-- ====== Section ====== -->
<h2 id="Data types"><a href="#Data types" class="header-anchor">#</a>Data types</h2>
<table>
    <thead>
        <tr>
            <th style="text-align:left;">Type</th>
            <th style="text-align:left;">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left;">int</td>
            <td style="text-align:left;">Integer data type, representing integer values such as -2, 0, 1, 100, etc.</td>
        </tr>
        <tr>
            <td style="text-align:left;">number</td>
            <td style="text-align:left;">A numeric data type that represents numeric values, including integers and floating point numbers.</td>
        </tr>
        <tr>
            <td style="text-align:left;">string</td>
            <td style="text-align:left;">String data type, representing a sequence of characters, such as "hello", "world", etc. Strings usually consist of a sequence of characters, which can be letters, numbers, or symbols.</td>
        </tr>
        <tr>
            <td style="text-align:left;">boolean</td>
            <td style="text-align:left;">Boolean data type, only two values: true (true) and false (false). It is used to represent logical values, such as the result of a conditional statement or the state of a switch.</td>
        </tr>
    </tbody>
</table> 


<!-- ====== Section ====== -->
<h2 id="Variables"><a href="#Variables" class="header-anchor">#</a>Variables</h2>
<p>The value of a variable can be changed during runtime</p>
<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- (Variables are defined with Var) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">threshold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>

<table>
    <thead>
        <tr>
            <th style="text-align:left;">Attribute</th>
            <th style="text-align:center;">Type</th>
            <th style="text-align:center;">Expression/Variable</th>
            <th style="text-align:left;">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align:left;">name</td>
            <td style="text-align:center;">string</td>
            <td style="text-align:center;">x/x</td>
            <td style="text-align:left;">Custom variable name</td>
        </tr>
        <tr>
            <td style="text-align:left;">expression</td>
            <td style="text-align:center;">number/string</td>
            <td style="text-align:center;">o/o</td>
            <td style="text-align:left;">The expression or constant corresponding to the variable. Note: String constants need an extra set of single quotes, such as expression=&quot;'I am text'&quot;</td>
        </tr>
        <tr>
            <td style="text-align:left;">type</td>
            <td style="text-align:center;">number/string</td>
            <td style="text-align:center;">x/x</td>
            <td style="text-align:left;">Define numeric variables or string variables Default: number</td>
        </tr>
        <tr>
            <td style="text-align:left;">const</td>
            <td style="text-align:center;">boolean</td>
            <td style="text-align:center;">x/x</td>
            <td style="text-align:left;"> When it is true, the variable will not be recalculated after initialization, but it can be reassigned using commands. Reasonable use of const can improve operating efficiency. </td>
        </tr>
        <tr>
            <td style="text-align:left;">persist</td>
            <td style="text-align:center;">boolean</td>
            <td style="text-align:center;">x/x</td>
            <td style="text-align:left;">Variable persistence. After specifying true, if no other value of the variable is re-given, then this value will always be saved, and will not be restored regardless of re-locking or re-applying the theme after unlocking; the default is false</td>
        </tr>
        <tr>
            <td style="text-align:left;">threshold</td>
            <td style="text-align:center;">int</td>
            <td style="text-align:center;">x/x</td>
            <td style="text-align:left;">Threshold trigger, when the change of the variable value exceeds the set threshold, some commands can be triggered. </td>
        </tr>
    </tbody>
</table>

<p><strong>Array</strong></p>

<p>Add <code>[]</code> to the variable type to declare that this is an array <code>type=&quot;number[]&quot;</code> Number type array; <code>type= &quot;string[]&quot;</code> text type array;</p>
<p>An array can be regarded as a box, which can store a series of data of the same type, such as a set of numbers or a set of strings. Each data item has a corresponding number, which is called the index of the array. </p>
<p>The value in the array can be obtained by <code>name[index]</code>, for example, the value of <code>#numVar[2]</code> below is 500, <code>@strVar[0]</code> is Aquarius. It should be noted that the index order in <code>[]</code> is from left to right and starts from 0</p>

<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- number type --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numVar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100,150,500,550,800,850<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- text type; note: the text type must contain expression=&quot;''&quot; attribute --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>strVar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Aquarius','Pisces','Aries','Taurus','Gemini','Cancer','Gemini','Virgo','Libra','Scorpio','Sagittarius','Capricorn'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><br>

<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!-- Threshold example: The following code means that every time the value of #time3 changes by 1, all commands in &lt;Trigger/&gt; will be executed. --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#minute%10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">threshold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time3_anim.visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time3_anim.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time3_anim_new.visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time_3_anim_new.visiblity<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time_3_anim_new.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="Global variables"><a href="#Global variables" class="header-anchor">#</a>Global variables</h2>

<p><strong>Touch</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#touch_x             The x coordinate of the current touch point
#touch_y             The y coordinate of the current touch point
#touch_begin_x       The initial x-coordinate when the screen is pressed
#touch_begin_y       The initial y coordinate when the screen is pressed
#touch_begin_time    time when the screen was pressed
</code></pre></div>

<div id="__screen_height"></div>
<p><strong>Screen</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#screen_width        screen width
#screen_height       screen height
#view_width          component width (only used in each plugin, such as clock)
#view_height         component height
#raw_screen_width    Physical width (the screen resolution of the current device, not affected by the screenWidth of the root node)
#raw_screen_height   physical height
</code></pre></div>

<p><strong>Date</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#time                current time, long
#time_sys            system time in milliseconds
#year                year
#month+1             month (value range is 1~12, 1 means January, 2 means February, and so on)
#date                date (value range is 1~31, 1 means 1st, 2 means 2nd, and so on)
#day_of_week-1       week (0 means Sunday, 1 means Monday, 2 means Tuesday ... 6 means Saturday)
#hour12              12 hour clock
#hour24              24 hour clock
#minute              minutes
#second              seconds
#ampm                0:am, 1:pm
#time_format         0: 12 hour format, 1: 24 hour format
</code></pre></div>

<p><strong>Lunar Calendar</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#year_lunar          Lunar year
#year_lunar1864      is used to calculate the zodiac
#month_lunar         Lunar months start at 0
#month_lunar_leap    Lunar Leap 0 no, 1 yes
#date_lunar          Lunar dates count from 1
</code></pre></div>

<p><strong>Charge</strong></p>
<div class="language-xml extra-class"><pre class="language-xml"><code>#battery_level       Current battery level, 1~100
#battery_state       0 Normal 1 Charging 2 Low battery 3 Fully charged

<span class="token comment">&lt;!-- MIUI 11 developer version support --&gt;</span>
#ChargeSpeed         0 normal charging, 1 fast charging, 2 super fast charging, 3 super fast charging (120w±)
#ChargeWireState     11 wired charging, 10 wireless charging, -1 not charging
</code></pre></div>

<p><strong>Images</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>The following imageName needs to be replaced with the name of your own image tag,
For example you have a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>, when you use it, you need to replace imageName with img

#imageName.actual_x      the x coordinate of the real-time position of the image (get (name=&quot;imageName&quot;) the x coordinate of the real-time position of the image)
#imageName.actual_y      the y coordinate of the real-time position of the image
#imageName.actual_w      image display width (get (name=&quot;imageName&quot;) image real-time width)
#imageName.actual_h      image display height
#imageName.bmp_width     the width of the image file (not affected by cropping and zooming, only find the specified image according to src, and detect the width of the file)
#imageName.bmp_height    the height of the image file
</code></pre></div>

<p><strong>Testo</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>The following textName needs to be replaced with the name of your own text label,
For example you have a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>, when you use it, you need to replace textName with aa

#textName.text_width     Text width, which can be used for typesetting (get (name=&quot;textName&quot;) text width)
#textName.text_height    text height
</code></pre></div>

<p><strong>Music</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>The following musicName needs to be replaced with the name of your own music label,
For example you have a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MusicControl</span> <span class="token attr- name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span >music<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>, you need to put replace musicName with music

#musicName.music_state           The current playing state of the music: 0 paused 1 playing (musicName is the name you defined for the music module)
#musicName.user_rating_style     Whether the playback source is the system default music APP: 0 is not 1 is
@musicName.package               The current playback source package name
@musicName.class                 The class name of the current playback source
</code></pre></div>

<p><strong>Unlock</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#unlocker.move_x     The offset of the unlocked part in the x direction
#unlocker.move_y     The offset of the unlocked part in the y direction
#unlocker.move_dist  The distance to move the unlocked part
#unlocker.state      The state of the unlocked widget: 0 normal, 1 pressed, 2 reached
</code></pre></div>

<p><strong>Fingerprint under screen</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#fod_enable          Whether the system has enabled the under-screen fingerprint: 0 is off, 1 is on
#fod_x               fingerprint area x coordinate
#fod_y               Fingerprint area y coordinate
#fod_width           fingerprint area width
#fod_height          fingerprint area height
#fod_state_msg       Fingerprint state: 1 finger pressed, 2 finger lifted, 3 recognition failed, 4 recognition successful
</code></pre></div>

<p><strong>Dark mode</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#__darkmode_wallpaper       Whether to enable dark mode and support dimming wallpaper: 0 is not enabled, 1 is enabled
#__darkmode                 Whether to enable dark mode: 0 is not enabled, 1 is enabled
#applied_light_wallpaper    The main color of the wallpaper, only effective on the desktop clock: 0 dark, 1 light (not effective when there is miwallpaper module)
</code></pre></div>

<p><strong>Other</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code>#sms_unread_count           unread text messages
#call_missed_count          missed calls count
@next_alarm_time            next alarm time
#volume_level               volume now
#volume_level_old           adjust the previous volume Value: 1-15 Determine whether to increase or decrease according to the comparison between the two
#volume_type                0 call volume, 1 system volume, 2 phone ringtone, SMS ringtone, 3 music player volume,
                            4 alarm volume, 5 notification volume, 6 Call volume when connected to Bluetooth,
                            7 System volume mandatory in some countries, 8 DTMF volume, 9 TTS volume, 10 FM volume
                            Note: Generally, you can only adjust 3 (volume player volume) under the lock screen.
                            volume_type>=0 means that the volume is being adjusted, and the value is -1 after the adjustment is completed,
                            and the volume display can be displayed or hidden according to this
#frame_rate                 current screen frame rate
@__miui_version_code        MIUI version (MIUI9=6, MIUI10=8, MIUI11=9, MIUI12=10)
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="Expressions"><a href="#Expressions" class="header-anchor">#</a>Expressions</h2>
<table>
     <thead>
         <tr>
             <th style="text-align:left;">Operator</th>
             <th style="text-align:left;">Priority</th>
             <th style="text-align:left;">Description</th>
         </tr>
     </thead>
     <tbody>
         <tr>
             <td style="text-align:left;">+</td>
             <td style="text-align:left;">4</td>
             <td style="text-align:left;">Add</td>
         </tr>
         <tr>
             <td style="text-align:left;">-</td>
             <td style="text-align:left;">4</td>
             <td style="text-align:left;">minus</td>
         </tr>
         <tr>
             <td style="text-align:left;">*</td>
             <td style="text-align:left;">3</td>
             <td style="text-align:left;">Multiply by</td>
         </tr>
         <tr>
             <td style="text-align:left;">/</td>
             <td style="text-align:left;">3</td>
             <td style="text-align:left;">divided by</td>
         </tr>
         <tr>
             <td style="text-align:left;">%</td>
             <td style="text-align:left;">3</td>
             <td style="text-align:left;">Modulo (here is not a percentage, it is a modulo, pay attention to the difference between the two)</td>
         </tr>
         <tr>
             <td style="text-align:left;">^</td>
             <td style="text-align:left;">10</td>
             <td style="text-align:left;">Bitwise XOR operation</td>
         </tr>
         <tr>
             <td style="text-align:left;">~</td>
             <td style="text-align:left;">2</td>
             <td style="text-align:left;">Bitwise negation operation</td>
         </tr>
         <tr>
             <td style="text-align:left;">{{</td>
             <td style="text-align:left;">5</td>
             <td style="text-align:left;">Left shift operator</td>
         </tr>
         <tr>
             <td style="text-align:left;">}}</td>
             <td style="text-align:left;">5</td>
             <td style="text-align:left;">Right shift operator</td>
         </tr>
         <tr>
             <td style="text-align:left;">!</td>
             <td style="text-align:left;">2</td>
             <td style="text-align:left;">Logical not, equivalent to the previous not</td>
         </tr>
         <tr>
             <td style="text-align:left;">==</td>
             <td style="text-align:left;">7</td>
             <td style="text-align:left;">equal to</td>
         </tr>
         <tr>
             <td style="text-align:left;">!=</td>
             <td style="text-align:left;">7</td>
             <td style="text-align:left;">not equal to</td>
         </tr>
         <tr>
             <td style="text-align:left;">**</td>
             <td style="text-align:left;">11</td>
             <td style="text-align:left;"> and must be satisfied at the same time to be true</td>
         </tr>
         <tr>
             <td style="text-align:left;">||</td>
             <td style="text-align:left;">12</td>
             <td style="text-align:left;">Or, if one of the two conditions is met, it will be true</td>
         </tr>
         <tr>
             <td style="text-align:left;">}</td>
             <td style="text-align:left;">6</td>
             <td style="text-align:left;">greater than</td>
         </tr>
         <tr>
             <td style="text-align:left;">}=</td>
             <td style="text-align:left;">6</td>
             <td style="text-align:left;">greater than or equal to</td>
         </tr>
         <tr>
             <td style="text-align:left;">{</td>
             <td style="text-align:left;">6</td>
             <td style="text-align:left;">less than</td>
         </tr>
         <tr>
             <td style="text-align:left;">{=</td>
             <td style="text-align:left;">6</td>
             <td style="text-align:left;">less than or equal to</td>
         </tr>
     </tbody>
</table>
<br>
<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--example 1: #num != #num-1--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#num != #show<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--example 2: #num ** #num-1--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#num ** #show<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--example 3: #num == #num-1--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#num == #show<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>

<br>

<p><strong>In the table below: eq, ne, ge, gt, le, lt, not, etc. are old conditional judgments.
Currently, both MIUI11 and MIUI12 supports the above new expression conditional judgments,
and it is recommended to use the new expressions.</strong></p>

<table>
     <thead>
         <tr>
             <th style="text-align:left;">Expression</th>
             <th style="text-align:left;">Description</th>
         </tr>
     </thead>
     <tbody>
         <tr>
             <td style="text-align:left;">eq(x, y)</td>
             <td style="text-align:left;">x==y (x is equal to y, the result is 1, otherwise it is 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">ne(x, y)</td>
             <td style="text-align:left;">x!=y (x is not equal to y, the result is 1, otherwise it is 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">ge(x, y)</td>
             <td style="text-align:left;">x&gt;=y (x is greater than or equal to y, the result is 1, otherwise it is 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">gt(x, y)</td>
             <td style="text-align:left;">x&gt;y (x is greater than y, the result is 1, otherwise 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">le(x, y)</td>
             <td style="text-align:left;">x&lt;=y (x is less than or equal to y, the result is 1, otherwise it is 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">lt(x, y)</td>
             <td style="text-align:left;">x&lt;y (x is less than y, the result is 1, otherwise 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">not(x)</td>
             <td style="text-align:left;">Logical NOT; x=0, not(x) is 1; x=1, not(x) is 0</td>
         </tr>
         <tr>
             <td style="text-align:left;">ifelse(x, y, z)</td>
             <td style="text-align:left;">x&gt;0 (if x is greater than 0, the result is y; otherwise it takes the value z)</td>
         </tr>
         <tr>
             <td style="text-align:left;">ifelse(x1, y1, x2, y2, ... , z)</td>
             </td>
         </tr>
         <tr>
             <td style="text-align:left;">+</td>
             <td style="text-align:left;"> Strings can be concatenated; <code>'qwe'+'asd'</code> The result is <code>'qweasd'</code>
             </td>
         </tr>
         <tr>
             <td style="text-align:left;">eqs(@string1, @string2)</td>
             <td style="text-align:left;">string comparison function, such as: when @string1 and @string2 have the same result, the result of <code>eqs(@string1, @string2)</code> is 1, otherwise it is 0</td>
         </tr>
     </tbody>
</table>

<br>


<!-- ====== Section ====== -->
<h2 id="Built-in functions"><a href="#Built-in functions" class="header-anchor">#</a>Built-in functions</h2>
<p><strong>sin, cos, tan, asin, acos, atan, sinh, cosh, sqrt, abs, min, max, pow</strong></p>
<table>
     <thead>
         <tr>
             <th style="text-align:left;">Expression</th>
             <th style="text-align:left;">Description</th>
         </tr>
     </thead>
     <tbody>
         <tr>
             <td style="text-align:left;">len(number)</td>
             <td style="text-align:left;">Get variable and string digits</td>
         </tr>
         <tr>
             <td style="text-align:left;">digit(number, number)</td>
             <td style="text-align:left;">Get the number of the given number<code>digit(12345, 2) = 4</code> (Note: the original number cannot exceed 10 digits, the subscript From right to left, and starting from 1)</td>
         </tr>
         <tr>
             <td style="text-align:left;">substr(original string, string start position, string length)</td>
             <td style="text-align:left;">substr('It's so hot today',1,2) = 'Naive' (note: the character position is from left to right, and starts from 0)</td>
         </tr>
         <tr>
             <td style="text-align:left;">strIsEmpty(string variable)</td>
             <td style="text-align:left;"> Determine whether the string variable is empty <code>strIsEmpty(@abc)</code> If it is empty, it will be 1, if it is not empty, it will be 0</td>
         </tr>
         <tr>
             <td style="text-align:left;">isnull (numeric variable)</td>
             <td style="text-align:left;">Judge whether the variable is empty <code>isnull(#abc)</code> If it is empty, it will be 1, if it is not empty, it will be 0</td>
         </tr>
         <tr>
             <td style="text-align:left;">ceil()</td>
             <td style="text-align:left;"> Round up; such as: 6.1 or 6.99 both take the value 7</td>
         </tr>
         <tr>
             <td style="text-align:left;">int()</td>
             <td style="text-align:left;"> Round down; such as: 6.1 or 6.99 both take the value of 6</td>
         </tr>
         <tr>
             <td style="text-align:left;">round()</td>
             <td style="text-align:left;">rounding off</td>
         </tr>
         <tr>
             <td style="text-align:left;">rand()</td>
             <td style="text-align:left;">Take a random number between 0 and 1; if you need to randomly generate a random number from 0-100, you can write <code>rand()*100</code>
             </td>
         </tr>
         <tr>
             <td style="text-align:left;">formatDate('string',#time_sys)</td>
             <td style="text-align:left;">Date is formatted as a string; 'string' is written as 'HH:mm'</td>
         </tr>
         <tr>
             <td style="text-align:left;">strStartsWith('123456789','12')</td>
             <td style="text-align:left;">Judge whether the string is at the beginning of a certain string, if it is, it will be 1, if not, it will be 0</td>
         </tr>
         <tr>
             <td style="text-align:left;">strEndsWith('123456789','89')</td>
             </td>
         </tr>
         <tr>
             <td style="text-align:left;">strIndexOf(@string_a,'string_b')</td>
             <td style="text-align:left;">The position where the character string_b first appears in the string @string_a For example: strIndexOf('string','str')=0</td>
         </tr>
         <tr>
             <td style="text-align:left;">strLastIndexOf(@string_a,'string_b')</td>
             <td style="text-align:left;">The last position of character string_b in string @string_a such as: strLastIndexOf('starina','a')=6</td>
         </tr>
         <tr>
             <td style="text-align:left;">strContains(@string_a,'string_b')</td>
             <td style="text-align:left;">Whether the string @string_a contains the character string_b such as: strContains('string','str')=1 or (true)</td>
         </tr>
         <tr>
             <td style="text-align:left;">strReplaceAll(@string_a,'string_b','string_c')</td>
             <td style="text-align:left;">Replace all string_b in @string_a with string_c (strReplaceAll('abc','a','1')='1bc', support regular expressions.</td >
         </tr>
         <tr>
             <td style="text-align:left;">preciseeval('@string_a',3)</td>
             <td style="text-align:left;"> Calculate the value of the string and be accurate to 3 decimal places, such as: preciseeval('5*5+0.333',3)==25.333, the smallest number of decimal places is 1</td>
         </tr>
         <tr>
             <td style="text-align:left;">formatFloat('%.3f',#accx)</td>
             <td style="text-align:left;"> Format the decimal places and convert them into strings (%.3f means rounding to 3 decimal places). Unlike preciseeval, formatFloat will occupy a place, such as 3.000 </td>
         </tr>
         <tr>
             <td style="text-align:left;">strMatches(@str,'.<em>[\+</em>/-]$')</td>
             <td style="text-align:left;">regular expression</td>
         </tr>
         <tr>
             <td style="text-align:left;">strTrim(' 123 ')</td>
             <td style="text-align:left;">Cut off spaces, tabs, carriage returns ('123') at the beginning and end of the string</td>
         </tr>
         <tr>
             <td style="text-align:left;">strReplaceFirst('ABCdefABC','ABC','666')</td>
             <td style="text-align:left;">Replace the first;666defABC</td>
         </tr>
         <tr>
             <td style="text-align:left;">strToLowerCase('ABCdef')</td>
             <td style="text-align:left;">Convert to lowercase;abcdef</td>
         </tr>
         <tr>
             <td style="text-align:left;">strToUpperCase('ABCdef')</td>
             <td style="text-align:left;">Convert to uppercase;ABCDEF</td>
         </tr>
     </tbody>
</table>


<!-- ====== Section ====== -->
<h2 id="Lock screen elements"><a href="#Lock screen elements" class="header-anchor">#</a>Lock screen elements</h2>
<p><strong>Add text to lock screen</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>48<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello,world!<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-xml extra-class">
<pre class="language-xml"><code>color           supports hexadecimal color values: #FFFFFF; supports string variables, such as: @abc; supports function argb(255,255,255,255)
size            text size
text            text content
</code></pre></div>

<p><strong>Insert picture on lock screen</strong></p>
<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lock_bg.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>src             image name path
</code></pre></div>

<p><strong>Element related content detailed explanation</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>48<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello,world!<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255*0.8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>512<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>512<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lock_bg.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255*0.8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>x y             coordinates relative to the upper left corner of the screen
h w             width and height (this need not be explained)
align           coordinate point horizontal alignment left, center, right
alignV          coordinate point vertical alignment top, center, bottom
alpha           Transparency 0-255, less than or equal to 0 does not display
visibility      supports expressions, it will be displayed when it is greater than 0
</code></pre></div>

<p><strong>Dates and time</strong></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!--Image type format--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Time</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">space</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>HH:mm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--Text style format--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formatExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#time_format,'HH:mm','h:mm')<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fontFamily</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui-thin<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>space           The gap between pictures, you can use this function to typesetting time pictures, support positive and negative values
format          Standard date format; when the time type is a picture, you can leave it blank, and follow the system by default. Whether to display 24-hour format
formatExp       date expression format
fontFamily      specifies the font, and the fonts that can be used are listed in the "callable font preview" later
</code></pre></div><br>


<!-- ====== Section ====== -->
<h2 id="Add unlock"><a href="#Add unlock" class="header-anchor">#</a>Add unlock</h2>
<p><strong>Swipe a distance with Button to unlock</strong></p>
<p>Although the amount of code is more than Unlocker, it is actually simpler and easier to understand than Unlocker, and it brings possibilities for future expansion, such as making gestures that do not conflict with sliding left and right and sliding up to unlock.</p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!--Unlock text hints--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-100-#unlockMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>向上滑动解锁<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--Unlock related variables, animations, buttons--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Unlock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--实时变量--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#unlockDown==1,max(#touch_begin_y-#touch_y,0),max(#touch_begin_y-#touch_y,0) { 300,max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--animation--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockBack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BounceEaseOut<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--unlock button--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockBack.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--condition execution condition, unlock when max(#touch_begin_y-#touch_y,0) is greater than or equal to 300px--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max(#touch_begin_y-#touch_y,0) }= 300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</div>

<p>Can't understand this unlock? It doesn't matter, the next chapter introduces the various uses and writing methods of 
<a href="#__Button"><font color="#0055ff"><strong>buttons</strong></font></a>, some variables are also used here.
If you don’t understand the variables, you can simply read them first in <a href="#Global variables">
<font color="#0055ff"><strong>global variables</strong></font></a> <br></p>

<p><strong>Unlocker and Slider</strong></p>
<p>The usage of Unlocker and Slider is the same, both activate certain operations by sliding, but Unlocker can be directly unlocked, and Slider needs to add an unlock command.
<a href="#Unlocker_Slider"><font color="#0055ff"><strong>Click here to view a more detailed introduction</strong></font></a></p>

<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!--Unlock text hints--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-100-#Unlocker.move_dist<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide up to unlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--name=&quot;Unlocker&quot; unlock name--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Unlocker</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Unlocker<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--touch start area--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StartPoint</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--Reach the unlocked area, pay attention to write the coordinate position--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EndPoint</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-#screen_height<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Path</span> <span class="token attr-name">tolerance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--unlock path--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Path</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EndPoint</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Unlocker</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>

<p><strong>MAML practice questions: Try to make the following simple lock screen</strong></p>
<p><a href="assets/introduction_lock.psd" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>Lock Screen PSD example</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> <p><img src="assets/Exercises.svg" alt="练习题"></p> <br> 



<!-- ====== Section ====== -->
<h2 id="Text introduction">
<a href="#Text introduction" class="header-anchor">#</a>Text introduction</h2>
<p><strong>Text</strong></p> <div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>48<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>hello,world!'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre>
</div>

<table>
     <thead>
         <tr>
             <th style="text-align:left;">Attribute</th>
             <th style="text-align:center;">Type</th>
             <th style="text-align:center;">expression/variable</th>
             <th style="text-align:left;">Description</th>
         </tr>
     </thead>
     <tbody>
         <tr>
             <td style="text-align:left;">x</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Coordinates relative to the upper left corner of the screen</td>
         </tr>
         <tr>
             <td style="text-align:left;">y</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Coordinates relative to the upper left corner of the screen</td>
         </tr>
         <tr>
             <td style="text-align:left;">color</td>
             <td style="text-align:center;">string</td>
             <td style="text-align:center;">x/o</td>
             <td style="text-align:left;">Text color, supports constants: #ffffff; supports string variables, @abc; supports function argb(255,255,255,255)(argb(transparency, red, green, blue), not supported Expression.</td>
         </tr>
         <tr>
             <td style="text-align:left;">size</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Text size</td>
         </tr>
         <tr>
             <td style="text-align:left;">bold</td>
             <td style="text-align:center;">boolean</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Bold, true means bold</td>
         </tr>
         <tr>
             <td style="text-align:left;">format</td>
             <td style="text-align:center;">string/numbe</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">If the variable in paras is a numeric type, use %d, if it is a string type, use %s</td>
         </tr>
         <tr>
             <td style="text-align:left;">paras</td>
             <td style="text-align:center;">string/number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">If format is specified, the variable expressions corresponding to %d and %d need to be specified in paras. There can be multiple variable expressions separated by &quot;,&quot;< /td>
         </tr>
         <tr>
             <td style="text-align:left;">text</td>
             <td style="text-align:center;">string/number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Text display content and subsequent parameters with Exp indicate that the parameter supports expression</td>
         </tr>
         <tr>
             <td style="text-align:left;">textExp</td>
             <td style="text-align:center;">string/number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Text display content expression, you can directly call variables, etc. For example: "The current time is 9 o'clock" can be written as textExp=&quot;'The current time is'+#hour12+' Click '&quot;</td>
         </tr>
         <tr>
             <td style="text-align:left;">width</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Text width, when the text exceeds the specified width, it will be cut off. If multiple lines of display are specified, the lines will be displayed. If text scrolling is specified, the text will be scrolled and displayed at the specified position</td>
         </tr>
         <tr>
             <td style="text-align:left;">marqueeSpeed</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Text scrolling speed, use marqueeSpeed=&quot;30&quot;</td>
         </tr>
         <tr>
             <td style="text-align:left;">marqueeGap</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Scroll interval. The interval between when the text appears again after it is displayed, defaults to the width of four Chinese characters</td>
         </tr>
         <tr>
             <td style="text-align:left;">rotation</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Rotation angle</td>
         </tr>
         <tr>
             <td style="text-align:left;">multiLine</td>
             <td style="text-align:center;">boolean</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">true/false Whether to support multi-line display, default false. Supports line breaks (&amp;#10; and \n) when enabled</td>
         </tr>
         <tr>
             <td style="text-align:left;">spacingMult</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Line spacing multiple default 1</td>
         </tr>
         <tr>
             <td style="text-align:left;">spacingAdd</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Line spacing increase default 0</td>
         </tr>
         <tr>
             <td style="text-align:left;">shadowDx</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">The offset distance of the horizontal shadow relative to the text</td>
         </tr>
         <tr>
             <td style="text-align:left;">shadowDy</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">The offset distance of the vertical shadow relative to the text</td>
         </tr>
         <tr>
             <td style="text-align:left;">shadowRadius</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">The blur radius of the shadow can achieve a blurry shadow effect</td>
         </tr>
         <tr>
             <td style="text-align:left;">align</td>
             <td style="text-align:center;">string</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Horizontal alignment of coordinate points left, center, right</td>
         </tr>
         <tr>
             <td style="text-align:left;">alignV</td>
             <td style="text-align:center;">string</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Vertical alignment of coordinate points top, center, bottom</td>
         </tr>
         <tr>
             <td style="text-align:left;">shadowColor</td>
             <td style="text-align:center;">string</td>
             <td style="text-align:center;">x/o</td>
             <td style="text-align:left;">Shadow color, supports transparency</td>
         </tr>
         <tr>
             <td style="text-align:left;">alpha</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Opacity 0 - 255</td>
         </tr>
         <tr>
             <td style="text-align:left;">visibility</td>
             <td style="text-align:center;">number/string</td>
             <td style="text-align:center;">o/o</td>
             <td style="text-align:left;">Element visibility supports the expression {=0 invisible,}0 visible</td>
         </tr>
         <tr>
             <td style="text-align:left;">text.text_width</td>
             <td style="text-align:center;">number</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">The width of a certain line of text can be used for typesetting</td>
         </tr>
         <tr>
             <td style="text-align:left;">fontFamily</td>
             <td style="text-align:center;">string</td>
             <td style="text-align:center;">x/x</td>
             <td style="text-align:left;">Supports specified system fonts; view: <a href="#Font preview">
                     <font color="#0055ff">
                         <strong>Font preview available</strong>
                     </font>
                 </a>
             </td>
         </tr>
     </tbody>
</table>

<blockquote><p>Notice:</p>
  <ul>
    <li>Literals need to be quoted in single quotes in expressions, but numeric variables and string variables do not need to be; such as: 'hello, world!', @abc, #num;</li>
    <li>The alpha value can be written as a simple expression; such as alpha=&quot;255 * 0.8&quot; or alpha=&quot;2.55 * 80&quot;, both representing 80% opacity</li>
    <li>visibility supports the expression {=0 invisible, }0 visible; even if the value is 0.00001, it is visible, in short, it is visible if it is greater than 0</li>
  </ul>
</blockquote>

<br> <p>A few examples:</p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">shadowDx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">shadowDy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">shadowRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">shadowColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#9c000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">...</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">...</span><span class="token punctuation">/&gt;</span></span>   //#tt.text_width is the length of this text

Show next alarm time
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@next_alarm_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">...</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Next alarm: [%s] Battery: [%d%%]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paras</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@next_alarm_time,#battery_level<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>
<ul><li>show current time</li></ul>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>48<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>The current time is '+#hour12<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>
<p>or</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>48<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Current Temperature '+#weather_temperature+'°'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>
<blockquote><p>#hour12 As a system global variable, pass the current hour to maml,#weather_temperature The current temperature obtained for the weather interface, which will be discussed later/p></blockquote> <br> <ul><li>text scrolling</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Always believe that good things are about to happen<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div>
<h4 id="Font preview"><a href="#Callable font preview"  class="header-anchor">#</a>Callable font preview</h4> <table><thead><tr><th style="text-align:left;">
<font color="#0055ff">Mitype</font>: only supports numeric types</th>
<th style="text-align:left;">style</th> <th style="text-align:left;">Xiaomilanting font <font color="#E7333D">Pro</font>: supports Chinese/English/numeric types</th> <th style="text-align:left;">style</th></tr></thead> <tbody><tr><td style="text-align:left;">mitype-thin</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:100;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-thin</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:100;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-extralight</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:200;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-extralight</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:200;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-light</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:300;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-light</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:300;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-normal</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:400;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-normal</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:400;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-regular</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:450;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-regular</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:450;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-medium</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:500;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-medium</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:500;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-demibold</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:600;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-demibold</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:600;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-semibold</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:650;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-semibold</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:650;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-bold</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:700;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-bold</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:700;font-size:24px;">0123456789:%+-×÷</font></td></tr> <tr><td style="text-align:left;">mitype-heavy</td> <td style="text-align:left;"><font style="font-family:MiType-Mono;font-weight:900;font-size:24px;">0123456789:%+-×÷</font></td> <td style="text-align:left;">mipro-heavy</td> <td style="text-align:left;"><font style="font-family:MI Lan Pro;font-weight:900;font-size:24px;">0123456789:%+-×÷</font></td></tr></tbody></table> <br> 



<!-- ====== Section ====== -->
<h2 id="Dates and time"><a href="#Dates and time" class="header-anchor">#</a>Dates and time</h2>
<p><strong>Time</strong></p> <p>The time mentioned here is actually a picture combination composed of 10 digital pictures plus ":" pictures according to the time format.</p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!--picture class writing--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Time</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">space</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>HH:mm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--text style--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formatExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#time_format,'HH:mm','h:mm')<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fontFamily</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mitype-light<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div>

<p>src represents the prefix of the time picture, as shown below, use time_0.png, time_1.png, ... time_9.png, time_dot.png. The coordinate attribute supports variable expressions<br>
space represents the gap between time pictures. We can use this function to layout time pictures. When using positive values, the distance between pictures becomes larger. At this time, the pictures can be cut into smaller sizes to save memory. For images with projections, write space as a negative value to overlap the projections to save space</p>

<div id="__Date"></div> <h4 id="Date format">
<a href="#Date format" class="header-anchor">#</a>Date format</h4>
<div class="language-xml extra-class">
<pre class="language-xml"><code>Display date in specified format:
    formatExp:  supports date expression format (formatExp=&quot;ifelse(#time_format,'HH:mm','h:mm')&quot;)
    format:     supports standard date format (format=&quot;HH:mm&quot;)
</code></pre>
</div>
<p>Difference between Text and DateTime: 
DateTime is mainly used to display time in quick format and supports all parameters of Text.
DateTime directly uses the following parameters to display different time parameters.
<br></p>

<font color="#E7333D">[NOTE: VERIFY EXAMPLES THAT OUTPUTS IN CHINESE]</font>
<table>
     <thead>
         <tr>
             <th style="text-align:left;">Code</th>
             <th style="text-align:left;">Definition</th>
             <th style="text-align:left;">Example possible results</th>
         </tr>
     </thead>
     <tbody>
         <tr>
             <td style="text-align:left;">A</td>
             <td style="text-align:left;">Twelve Zodiac Years</td>
             <td style="text-align:left;">Rat, cow, sheep</td>
         </tr>
         <tr>
             <td style="text-align:left;">G</td>
             <td style="text-align:left;">AD</td>
             <td style="text-align:left;">AD</td>
         </tr>
         <tr>
             <td style="text-align:left;">Y</td>
             <td style="text-align:left;">Chinese Character Year (Lunar Calendar)</td>
             <td style="text-align:left;">二〇一五</td>
         </tr>
         <tr>
             <td style="text-align:left;">YY</td>
             <td style="text-align:left;">Year of Ganzhi</td>
             <td style="text-align:left;">Jia Zi</td>
         </tr>
         <tr>
             <td style="text-align:left;">yy</td>
             <td style="text-align:left;">Numerical year (2 digits)</td>
             <td style="text-align:left;">20</td>
         </tr>
         <tr>
             <td style="text-align:left;">yyyy</td>
             <td style="text-align:left;">Digital Year</td>
             <td style="text-align:left;">2020</td>
         </tr>
         <tr>
             <td style="text-align:left;">M</td>
             <td style="text-align:left;">Month</td>
             <td style="text-align:left;">1</td>
         </tr>
         <tr>
             <td style="text-align:left;">MM</td>
             <td style="text-align:left;">Month (1 - 9 plus 0)</td>
             <td style="text-align:left;">01</td>
         </tr>
         <tr>
             <td style="text-align:left;">MMM</td>
             <td style="text-align:left;">Month (Chinese character)</td>
             <td style="text-align:left;">九</td>
         </tr>
         <tr>
             <td style="text-align:left;">MMMM</td>
             <td style="text-align:left;">Full month (Chinese characters)</td>
             <td style="text-align:left;">九月</td>
         </tr>
         <tr>
             <td style="text-align:left;">N</td>
             <td style="text-align:left;">Lunar month</td>
             <td style="text-align:left;">right, two, three</td>
         </tr>
         <tr>
             <td style="text-align:left;">NN</td>
             <td style="text-align:left;">Stem and Branch Month</td>
             <td style="text-align:left;">Yichou</td>
         </tr>
         <tr>
             <td style="text-align:left;">NNNN</td>
             <td style="text-align:left;">Complete lunar calendar date + solar terms</td>
             <td style="text-align:left;">August 28 Autumnal Equinox (only applicable to DateTime)</td>
         </tr>
         <tr>
             <td style="text-align:left;">D</td>
             <td style="text-align:left;">Day of the year</td>
             <td style="text-align:left;">168</td>
         </tr>
         <tr>
             <td style="text-align:left;">d</td>
             <td style="text-align:left;">Digital Day</td>
             <td style="text-align:left;">23</td>
         </tr>
         <tr>
             <td style="text-align:left;">e</td>
             <td style="text-align:left;">Lunar calendar day</td>
             <td style="text-align:left;">Third grade</td>
         </tr>
         <tr>
             <td style="text-align:left;">ee</td>
             <td style="text-align:left;">Stem and Support Day</td>
             <td style="text-align:left;">Bingyin</td>
         </tr>
         <tr>
             <td style="text-align:left;">t</td>
             <td style="text-align:left;">Twenty-four solar terms</td>
             <td style="text-align:left;">Winter Solstice</td>
         </tr>
         <tr>
             <td style="text-align:left;">E</td>
             <td style="text-align:left;">Day of the week</td>
             <td style="text-align:left;">Wed</td>
         </tr>
         <tr>
             <td style="text-align:left;">EEEE</td>
             <td style="text-align:left;">Day of the week</td>
             <td style="text-align:left;">Wednesday</td>
         </tr>
         <tr>
             <td style="text-align:left;">EEEEE</td>
             <td style="text-align:left;">Day of the week</td>
             <td style="text-align:left;">三</td>
         </tr>
         <tr>
             <td style="text-align:left;">H</td>
             <td style="text-align:left;">24-hour clock</td>
             <td style="text-align:left;">0~23</td>
         </tr>
         <tr>
             <td style="text-align:left;">h</td>
             <td style="text-align:left;">12-hour clock</td>
             <td style="text-align:left;">0~12</td>
         </tr>
         <tr>
             <td style="text-align:left;">I</td>
             <td style="text-align:left;">Time and Earthly Branches</td>
             <td style="text-align:left;">Unitary</td>
         </tr>
         <tr>
             <td style="text-align:left;">II</td>
             <td style="text-align:left;">Time and Earthly Branches</td>
             <td style="text-align:left;">Ding You</td>
         </tr>
         <tr>
             <td style="text-align:left;">m</td>
             <td style="text-align:left;">minutes</td>
             <td style="text-align:left;">6</td>
         </tr>
         <tr>
             <td style="text-align:left;">mm</td>
             <td style="text-align:left;">minutes (two digits)</td>
             <td style="text-align:left;">06</td>
         </tr>
         <tr>
             <td style="text-align:left;">s</td>
             <td style="text-align:left;">seconds</td>
             <td style="text-align:left;">6</td>
         </tr>
         <tr>
             <td style="text-align:left;">ss</td>
             <td style="text-align:left;">Seconds</td>
             <td style="text-align:left;">06</td>
         </tr>
         <tr>
             <td style="text-align:left;">S</td>
             <td style="text-align:left;">Hao seconds</td>
             <td style="text-align:left;">666</td>
         </tr>
         <tr>
             <td style="text-align:left;">a</td>
             <td style="text-align:left;">Morning and afternoon</td>
             <td style="text-align:left;">Morning, Afternoon</td>
         </tr>
         <tr>
             <td style="text-align:left;">aa</td>
             <td style="text-align:left;">Morning and afternoon (details)</td>
             <td style="text-align:left;">Morning, afternoon, evening, early morning, night</td>
         </tr>
         <tr>
             <td style="text-align:left;">Z/ZZ/ZZZ</td>
             <td style="text-align:left;">Time zone</td>
             <td style="text-align:left;">+0800</td>
         </tr>
         <tr>
             <td style="text-align:left;">ZZZZ</td>
             <td style="text-align:left;">Time zone</td>
             <td style="text-align:left;">GMT+08:00</td>
         </tr>
         <tr>
             <td style="text-align:left;">ZZZZZ</td>
             <td style="text-align:left;">Time zone</td>
             <td style="text-align:left;">08:00</td>
         </tr>
         <tr>
             <td style="text-align:left;">zzzz</td>
             <td style="text-align:left;">Time zone</td>
             <td style="text-align:left;">China Standard Time</td>
         </tr>
     </tbody>
</table>

<br>
<p>DateTime examples</p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!-- 23:42 on the 10th day of August, 2015 (lunar calendar)--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>450<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Y年N月eH时m分<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- Today's date: 2020年09月15日 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formatExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Today's date: yyyy年MM月dd日'<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>DateTime can specify a value value. If not specified, the time will be calculated based on the current timestamp. When a timestamp is specified, the time will be calculated based on the specified timestamp.</p>
<div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">formatExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Tomorrow date: yyyy年MM月dd日'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time_sys+86400000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="Use of groups"><a href="#Use of groups" class="header-anchor">#</a>Use of groups</h2> <p><strong>Group</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">clip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeAnimation</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Time</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class">
<pre class="language-xml"><code>Group       means a container, used to contain other elements, such as pictures, time, controls, etc.
            It can be understood as a layer, which can easily adjust the position and size of multiple internal elements,
            and add various animations like Image. The coordinates of internal elements are relative coordinates 
            (relative to group coordinates)
clip        true/false, when it is true, the content beyond the w h mark range will be cropped and will not be displayed
            (when there is clip and layered, w h must be added)
</code></pre></div>

<p><strong>AutoScaleGroup</strong></p>
<p>A new AutoScaleGroup element is added, which is inherited from the Group element. The difference is that the AutoScaleGroup element will record the initial w and h. When w or h changes later,
 the scale will be done proportionally. <font color="#ff0000">Since MIUI12.5</font></p>

<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AutoScaleGroup</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">clip</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeAnimation</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Time</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AutoScaleGroup</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>

<p><strong>Group command</strong></p>
<p>If a certain group of operations will be called in many places, you can write this group of operations into an empty Group as a trigger action, and then it can be called in many places.</p>
<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- group command --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>triggersContainer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content_1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number001<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content_2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>month_num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#month_num+1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Execute group commands --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>triggersContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>performAction<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>content_1'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>triggersContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>performAction<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>content_2'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</div><br>

<p><strong>Custom function</strong></p> <p>Add function elements as functional calls. <font color="#ff0000">Since MIUI12.5</font></p>
<div class="language-xml extra-class">
<pre class="language-xml"><code><span class="token comment">&lt;!--Function is an element that imitates a function and contains various ActionCommands.--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Function</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XXXX<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XXXXCommand</span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- Conditional execution command sub-elements Consequent (if) and Alternate (else) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IfCommand</span> <span class="token attr-name">ifCondition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XXXX<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Consequent execution when ifCondition is satisfied --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Consequent</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XXXXCommand</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Consequent</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Alternate Execution when ifCondition is not met --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Alternate</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XXXXCommand</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Alternate</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IfCommand</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Function</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Add a command to call the Function --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FunctionCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XXX<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div>



<!-- ====== Section ====== -->
<h2 id="Images"><a href="#Images" class="header-anchor">#</a>Images</h2> <p>图片部件用来在锁屏界面上显示一个图片,可以指定各种属性</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">antiAlias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotZ</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotationX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotationY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotationZ</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x,y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">相对于屏幕左上角的坐标</td></tr> <tr><td style="text-align:left;">w,h</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">宽和高</td></tr> <tr><td style="text-align:left;">pivotX,pivotY</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">旋转中心</td></tr> <tr><td style="text-align:left;">rotation</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">旋转角度,一周 360 度</td></tr> <tr><td style="text-align:left;">rotationX</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">X 轴旋转角度,一周 360 度</td></tr> <tr><td style="text-align:left;">rotationY</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">Y 轴旋转角度,一周 360 度</td></tr> <tr><td style="text-align:left;">rotationZ</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">Z 轴旋转角度,一周 360 度</td></tr> <tr><td style="text-align:left;">src</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">图片名称路径</td></tr> <tr><td style="text-align:left;">srcid</td> <td style="text-align:center;">number/string</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">图片序列后缀数字,一般用变量表示,可以根据变量显示不同的图片,如果 src=&quot;pic.png&quot; srcid=&quot;1&quot;则最后会显示图片&quot;pic_1.png&quot;</td></tr> <tr><td style="text-align:left;">alpha</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">透明度 0-255,小于等于 0 不显示</td></tr> <tr><td style="text-align:left;">antiAlias</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">true/false 抗锯齿,如果为 true 图片在变形旋转时不会有锯齿,但是速度会慢</td></tr> <tr><td style="text-align:left;">srcExp</td> <td style="text-align:center;">number/string</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">图片源表达式</td></tr> <tr><td style="text-align:left;">srcFormat</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">图片源格式 srcParas中是number类型用%d,是string类型用%s</td></tr> <tr><td style="text-align:left;">srcForamtExp</td> <td style="text-align:center;">number/string</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">图片源格式表达式</td></tr> <tr><td style="text-align:left;">srcParas</td> <td style="text-align:center;">number/string</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">图片源参数,多个参数用,分隔</td></tr> <tr><td style="text-align:left;">visibility</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">支持表达式,大于 0 时则显示</td></tr> <tr><td style="text-align:left;">align/alignV</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">对齐方式</td></tr> <tr><td style="text-align:left;">tint</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/o</td> <td style="text-align:left;">色调(染色);<code>tint=&quot;#ffff0000&quot;</code> <font color="#ff0000">MIUI12 新增</font> 支持变量不支持表达式。</td></tr> <tr><td style="text-align:left;">tintmode</td> <td style="text-align:center;">int</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">色调(染色)混合模式,需要与tint一起使用,效果同图片混合xfermodeNum一致。默认<code>tintmode=&quot;5&quot;</code> <font color="#ff0000">MIUI12 新增</font> 支持变量。</td></tr></tbody></table> <p>图片的几个应用实例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>weather/weather_' + #weather_id + '.png'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather/weather.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#weather_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>上面两段代码效果相同,都会读取 weather 目录下 weather_ 对应数字的 png 文件,例如 #weather_id 传递过来的数字是 3,则会读取 weather 目录下的 weather_3.png 这张图片,可以用来根据不同的天气显示对应图标等,天气数据的获取后面会讲到。srcid 引用图片序列时,图片必须命名为类似 pic_0.png pic_1.png 这样的格式,srcExp 则直接拼接图片的路径,srcExp 可以和 srcid 一起使用,如</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>210<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>weather/'+#hour24}10+'/weather.png'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#weather_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>#hour24}13 表示当前小时数(24 小时制,后面全局变量会讲到)大于 13 点时条件成立,输出值为 1,引用 weather/1/ 这个目录下的 weather_xx.png 的序列图片,当时间小于等于 13 点时 #hour24}13 条件不成立,输出值为 0,此时引用 weather/0/ 这个目录下的 weather_xx.png 的序列图片,可以用来判断不同时间段显示不同的图片,比如白天或者晚上显示不同的图片你可以这样写</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>weather/'+#hour24}=6**#hour24{18+'/weather.png'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#weather_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>表示从时间大于等于 6 点且小于 18 点时显示 weather/1/ 目录下的图片,其他时间则显示 weather/0/目录下的图片,当然你也可以用其他变量来代替 #hour24}=6**#hour24{18 的判断,后面会讲到变量及表达式的使用</p> <p><strong>数字图片映射</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageNumber</span> <span class="token attr-name">number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">number</td> <td style="text-align:left;">要显示的数字表达式</td></tr> <tr><td style="text-align:left;">src</td> <td style="text-align:left;">图片源的文件名,支持 SourceAnimation</td></tr></tbody></table> <p>如果 <code>src=&quot;number.png&quot;</code> 则会使用 number_0.png number_1.png ... 图片文件来绘制数字。</p> <p><strong>文本图片映射</strong></p> <p>简单说就是把图片拼接在一起显示;比如需要用图片显示 <code>'2019.03.27'</code>或者 <code>'Wednesday 03.27'</code> 时,之前用 ImageNumber 或者是 Time 控件都有缺陷,要么不能显示长字符,要么不能显示两个 '.',用 ImageChars 可以完美解决这个问题。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageChars</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num/string.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">string</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formatDate('HH:mm MM.dd',#time_sys)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charNameMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.spot,:colon,%pct, space<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">string</td> <td style="text-align:left;">字符串表达式</td></tr> <tr><td style="text-align:left;">number</td> <td style="text-align:left;">数字表达式</td></tr> <tr><td style="text-align:left;">space</td> <td style="text-align:left;">显示间隔</td></tr> <tr><td style="text-align:left;">charNameMap</td> <td style="text-align:left;">映射列表,用英文逗号分隔,每项第一个字符是原字符,后面的是映射字符串,可以映射到一个或多个字符</td></tr></tbody></table> <p>示例中映射图片名称有:</p> <table><thead><tr><th style="text-align:left;">原字符</th> <th style="text-align:left;">映射名称(图片后缀)</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">.</td> <td style="text-align:left;">spot</td> <td style="text-align:left;">点</td></tr> <tr><td style="text-align:left;">:</td> <td style="text-align:left;">colon</td> <td style="text-align:left;">冒号</td></tr> <tr><td style="text-align:left;">%</td> <td style="text-align:left;">pct</td> <td style="text-align:left;">百分比</td></tr> <tr><td style="text-align:left;">(注意这里是空格)</td> <td style="text-align:left;">space</td> <td style="text-align:left;">空</td></tr></tbody></table> <p><strong>注意:</strong></p> <ul><li>因同一目录下图片名称不区分大小英文,所以大写英文命名为两个小写英文字符,以表示为大写;比如:A 图片名称为 num_aa.png</li> <li>某些字符不能直接用,需要转义才可以使用;比如:&amp;</li></ul> <br> 



<!-- ====== Section ====== -->
<h2 id="Images overlay"><a href="#Images overlay" class="header-anchor">#</a>Images overlay</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 例子:(使用时,混合范围要尽可能小,否则会卡) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xfermode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dst_in<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 或者 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xfermodeNum</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这俩个例子实现的结果是一样的,都是遮罩效果,即按照 mask.png 的形状对 test.png 进行裁剪。</p> <div class="language- extra-class"><pre class="language-text"><code>layered         和Group里面的xfermode配合使用,增加该属性旨在让xfermode只作用于Group内部的元素。
xfermode        混合模式,取值有:clear,src,dst,src_over,dst_over,src_in,dst_in,src_out,dst_out,src_atop,dst_atop,xor
xfermodeNum     混合模式支持变量表达式。表达式的取值对应一种混合模式,src, dst, src_over,...xor依次取值 1,2,3 ...11
</code></pre></div><blockquote><p>注意事项:</p> <ul><li>在 Group 使用 layered 时,请务必指定作用区域 w h,否则无法生效(使用时,混合范围要尽可能小,否则会卡)</li> <li>一个组里可以有 }=2 张图,最后一个有 xfermode 的 Image 会将这个组内前面所有的图片看作一个整体的 Image ,按照 xfermode 的取值与之混合</li></ul></blockquote> <br> <p><strong>对应关系:</strong></p> <div><svg width="652px" height="342px" viewBox="0 0 652 342" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="插件模板" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="MAML_xfermode" transform="translate(1.000000, 1.000000)"><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="0" width="110" height="40"></rect><text id="xfermodeNum" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="10.5625" y="25">xfermodeNum</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="40" width="110" height="40"></rect><text id="xfermode" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="25.375" y="65">xfermode</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="80" width="110" height="90"></rect><text id="混合效果" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="31" y="125">混合效果</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="0" width="90" height="40"></rect><text id="0" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="150.5625" y="25">0</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="40" width="90" height="40"></rect><text id="clear" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="139.554688" y="65">clear</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="80" width="90" height="90"></rect><path d="M142.630087,138 L167,138 L167,113.630087 C175.626136,115.850301 182,123.680803 182,133 C182,144.045695 173.045695,153 162,153 C152.680803,153 144.850301,146.626136 142.630087,138 L142.630087,138 Z" id="Path" fill="#01C2FD"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="0" width="90" height="40"></rect><text id="1" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="241.90625" y="25">1</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="40" width="90" height="40"></rect><text id="src" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="235.25" y="65">src</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="80" width="90" height="90"></rect><rect id="Rectangle" fill="#EC6941" x="217" y="98" width="40" height="40"></rect><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="0" width="90" height="40"></rect><text id="2" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="330.679688" y="25">2</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="40" width="90" height="40"></rect><text id="dst" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="324.890625" y="65">dst</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="80" width="90" height="90"></rect><circle id="Oval" fill="#01C2FD" cx="342" cy="133" r="20"></circle><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="0" width="90" height="40"></rect><text id="3" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="420.632812" y="25">3</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="40" width="90" height="40"></rect><text id="src_over" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="397.34375" y="65">src_over</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="80" width="90" height="90"></rect><circle id="Oval" fill="#01C2FD" cx="432" cy="133" r="20"></circle><rect id="Rectangle" fill="#EC6941" x="397" y="98" width="40" height="40"></rect><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="0" width="90" height="40"></rect><text id="4" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="510.5625" y="25">4</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="40" width="90" height="40"></rect><text id="dst_over" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="487.484375" y="65">dst_over</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="80" width="90" height="90"></rect><rect id="Rectangle" fill="#EC6941" x="487" y="98" width="40" height="40"></rect><circle id="Oval" fill="#01C2FD" cx="522" cy="133" r="20"></circle><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="0" width="90" height="40"></rect><text id="5" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="600.609375" y="25">5</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="40" width="90" height="40"></rect><text id="src_in" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="585.257812" y="65">src_in</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="80" width="90" height="90"></rect><path d="M592.630087,138 C592.218765,136.4019 592,134.726498 592,133 C592,121.954305 600.954305,113 612,113 C613.726498,113 615.4019,113.218765 617,113.630087 L617,138 L592.630087,138 L592.630087,138 Z" id="Path" fill="#EC6941"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="170" width="110" height="40"></rect><text id="xfermodeNum" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="10.5625" y="195">xfermodeNum</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="210" width="110" height="40"></rect><text id="xfermode" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="25.375" y="235">xfermode</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="0" y="250" width="110" height="90"></rect><text id="混合效果" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#858585"><tspan x="31" y="295">混合效果</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="170" width="90" height="40"></rect><text id="6" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="150.585938" y="195">6</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="210" width="90" height="40"></rect><text id="dst_in" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="135.398438" y="235">dst_in</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="110" y="250" width="90" height="90"></rect><path d="M142.630087,308 C142.218765,306.4019 142,304.726498 142,303 C142,291.954305 150.954305,283 162,283 C163.726498,283 165.4019,283.218765 167,283.630087 L167,308 L142.630087,308 L142.630087,308 Z" id="Path" fill="#01C2FD"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="170" width="90" height="40"></rect><text id="7" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="240.632812" y="195">7</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="210" width="90" height="40"></rect><text id="src_out" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="220.734375" y="235">src_out</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="200" y="250" width="90" height="90"></rect><path d="M257,283.630087 C255.4019,283.218765 253.726498,283 252,283 C240.954305,283 232,291.954305 232,303 C232,304.726498 232.218765,306.4019 232.630087,308 L217,308 L217,268 L257,268 L257,283.630087 Z" id="Path" fill="#EC6941"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="170" width="90" height="40"></rect><text id="8" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="330.539062" y="195">8</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="210" width="90" height="40"></rect><text id="dst_out" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="311.375" y="235">dst_out</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="290" y="250" width="90" height="90"></rect><path d="M322.630087,308 L347,308 L347,283.630087 C355.626136,285.850301 362,293.680803 362,303 C362,314.045695 353.045695,323 342,323 C332.680803,323 324.850301,316.626136 322.630087,308 L322.630087,308 Z" id="Path" fill="#01C2FD"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="170" width="90" height="40"></rect><text id="9" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="420.585938" y="195">9</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="210" width="90" height="40"></rect><text id="src_atop" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="397.367188" y="235">src_atop</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="380" y="250" width="90" height="90"></rect><circle id="Oval" fill="#01C2FD" cx="432" cy="303" r="20"></circle><path d="M412.630087,308 C412.218765,306.4019 412,304.726498 412,303 C412,291.954305 420.954305,283 432,283 C433.726498,283 435.4019,283.218765 437,283.630087 L437,308 L412.630087,308 L412.630087,308 Z" id="Path" fill="#EC6941"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="170" width="90" height="40"></rect><text id="10" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="507.46875" y="195">10</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="210" width="90" height="40"></rect><text id="dst_atop" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="487.007812" y="235">dst_atop</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="470" y="250" width="90" height="90"></rect><rect id="Rectangle" fill="#EC6941" x="487" y="268" width="40" height="40"></rect><path d="M527,283.630087 L527,308 L502.630087,308 C502.218765,306.4019 502,304.726498 502,303 C502,291.954305 510.954305,283 522,283 C523.726498,283 525.4019,283.218765 527,283.630087 Z" id="Path" fill="#01C2FD"></path><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="170" width="90" height="40"></rect><text id="11" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#787878"><tspan x="598.8125" y="195">11</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="210" width="90" height="40"></rect><text id="xor" font-family="MI-LANTING--GBK1-Bold, MI LANTING" font-size="12" font-weight="bold" fill="#000000"><tspan x="594.96875" y="235">xor</tspan></text><rect id="Rectangle" stroke="#CACACA" fill="#FFFFFF" x="560" y="250" width="90" height="90"></rect><path d="M617,283.630087 C615.4019,283.218765 613.726498,283 612,283 C600.954305,283 592,291.954305 592,303 C592,304.726498 592.218765,306.4019 592.630087,308 L577,308 L577,268 L617,268 L617,283.630087 Z" id="Path" fill="#EC6941"></path><path d="M592.630087,308 L617,308 L617,283.630087 C625.626136,285.850301 632,293.680803 632,303 C632,314.045695 623.045695,323 612,323 C602.680803,323 594.850301,316.626136 592.630087,308 L592.630087,308 Z" id="Path" fill="#01C2FD"></path></g></g></svg></div> <br>
上图中被混合处理的两张图
<br> <div style="position:relative;top:10px;width:80px;height:80px;background:#EC6941;"></div> <div style="position:relative;left:160px;width:80px;height:80px;background:#01C2FD;border-radius:40px;"></div><br> <br> 



<!-- ====== Section ====== -->
<h2 id="笔刷"><a href="#笔刷" class="header-anchor">#</a> 笔刷 The Brush??</h2> <p>笔刷绝对是一个很神奇的功能,与混合功能搭配,可以做出刮奖、擦玻璃的效果</p> <p>笔刷代码:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Paint</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1920<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff6600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">weight</td> <td style="text-align:left;">笔刷宽度,支持表达式</td></tr> <tr><td style="text-align:left;">xfermoderow</td> <td style="text-align:left;">混合模式,参考 Image</td></tr> <tr><td style="text-align:left;">xfermoderow</td> <td style="text-align:left;">宽高,定义此笔刷能涂抹的区域</td></tr></tbody></table> <p>与图片混合功能搭配的示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wallpaper</span> <span class="token punctuation">/&gt;</span></span>                                                   // 调用系统壁纸,在这里是你手指擦过后露出的背景图
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1920<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>            // 图片混合
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fg.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>                           // fg.png是被擦的图片(高斯模糊+水珠雾气效果)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Paint</span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1920<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xfermode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clear<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>    // clear能产生擦除效果
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>示图:</p> <p><img src="http://f1.market.xiaomi.com/download/ThemeMarket/0f8ce44ee381e763d1d793e75fd403df12141d1f2/file.jpg" alt="image"></p> <br> 



<!-- ====== Section ====== -->
<h2 id="图片变形"><a href="#图片变形" class="header-anchor">#</a> 图片变形</h2> <p>示例主题:<a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/E69187E4B880E69187E38090E59BBEE78987E58F98E5BDA2E38091.mtz" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>摇一摇 demo【图片变形】.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>如图:</p> <p><img src="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/blog/mesharr.jpg" alt="image"></p> <p>注意了:控制图片节点用的数组,它的类型必须为 float[],这样</p> <p>但是在后面计算中暂时用 number[]</p> <p>图片变形暂时要自己计算在其它分辨率下的缩放比,示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img_w<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img_h<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img_m<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img_n<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- mesharr[]数组中,同时要有X坐标、Y坐标,所以申明范围时是:(#img_m+1)*(#img_n+1)*2=18--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scale_wh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#raw_screen_width/1.08)/1000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>      //(你锁屏按1080p写的就用这个计算)
        <span class="token comment">&lt;!-- 先分网格 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoopCommand</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(#img_m+1)*(#img_n+1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__a*2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#img_w/#img_m)*(#__a%(#img_m+1))<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__a*2+1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#img_h/#img_n)*int(#__a/(#img_m+1))<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoopCommand</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesh5_x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#mesharr[4*2]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesh5_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#mesharr[4*2+1]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#mesh5_x+int(#touch_x-#touch_begin_x)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>9<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#mesh5_y+int(#touch_y-#touch_begin_y)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#scale_wh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg3.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">mesh</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2,2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">meshVertsArr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mesharr<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>附件:<a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/img0927.mtz" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>img0927.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> 



<!-- ====== Section ====== -->
<h2 id="几何图形"><a href="#几何图形" class="header-anchor">#</a> 几何图形</h2> <p>目的:在一些内存要求高的场景下,使用绘制几何图形的方式替代<code>&lt;Image&gt;</code>以减小内存。</p> <p><strong>Rectangle(矩形、圆角矩形)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5,10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ff00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dash</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1,2,3,4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- FillShaders 填充着色;StrokeShaders 描边着色 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 线性渐变 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearGradient</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clamp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#050B2A<span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#81425D<span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C87960<span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearGradient</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 放射渐变 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadialGradient</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">tile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RadialGradient</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 扫描渐变 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SweepGradient</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">tile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SweepGradient</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rectangle</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">图形起始点;Rectangle 为左上角,其余的几何图形均为 中心点</td></tr> <tr><td style="text-align:left;">strokeColor</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/o</td> <td style="text-align:left;">描边颜色。支持多种 color 指定方式,以下所有 color 类的属性都是如此。</td></tr> <tr><td style="text-align:left;">fillColor</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/o</td> <td style="text-align:left;">填充色</td></tr> <tr><td style="text-align:left;">weight</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">描边的线宽</td></tr> <tr><td style="text-align:left;">cap</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">线头形状。butt 无线头(默认), round(半圆), squre(方形)</td></tr> <tr><td style="text-align:left;">dash</td> <td style="text-align:center;">number</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">虚线模式。格式“线长,间隔,线长,间隔....”,e.g. dash=&quot;1,2,3,4&quot;:1 像素宽的线段,2 像素的间隔,3 像素的线段,4 像素的间隔,如此重复...</td></tr> <tr><td style="text-align:left;">strokeAlign</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">描边对齐方式,inner 内描,center 中心描边,outer 外描(默认)</td></tr> <tr><td style="text-align:left;">xfermode</td> <td style="text-align:center;">int</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">混合模式,与<code>&lt;Image/&gt;</code>相同</td></tr> <tr><td style="text-align:left;">cornerRadius</td> <td style="text-align:center;">number</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">倒角半径;格式&quot;x 向半径,y 向半径&quot;</td></tr> <tr><td style="text-align:left;">cornerRadiusExp</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">倒角半径;支持表达式,格式&quot;x 向半径,y 向半径&quot;;&lt;font color=#ff</td></tr></tbody></table> <p><strong>FillShaders 与 StrokeShaders</strong></p> <p>填充着色器 和 描边着色器 语法一致:支持线性渐变着色,放射渐变着色(径向渐变),扫描渐变着色(圆周渐变),位图着色。
<br></p> <ul><li>LinearGradient 线性渐变</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x y x1 y1</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">渐变轴线(x , y) --&gt; (x1 , y1)</td></tr> <tr><td style="text-align:left;">tile</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/x</td> <td style="text-align:left;">铺展模式;clamp 拉伸(默认),mirror 镜像,repeat 重复</td></tr></tbody></table> <ul><li>RadialGradient 放射渐变</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">圆心位置</td></tr> <tr><td style="text-align:left;">rX rY</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">x y 方向的半径</td></tr></tbody></table> <ul><li>SweepGradient 扫描渐变</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x y</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">中心点位置</td></tr> <tr><td style="text-align:left;">rotation</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">旋转角</td></tr></tbody></table> <ul><li>GradientStop 渐变点;在指定的几个渐变点颜色之间做渐变</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">表达式/变量</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">color</td> <td style="text-align:center;">string</td> <td style="text-align:center;">x/o</td> <td style="text-align:left;">渐变点的颜色</td></tr> <tr><td style="text-align:left;">position</td> <td style="text-align:center;">number</td> <td style="text-align:center;">o/o</td> <td style="text-align:left;">渐变点位置,0~1.0 的浮点数</td></tr></tbody></table> <br> <p><strong>Ellipse(椭圆)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Ellipse</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ff00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dash</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1,2,3,4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Ellipse</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>x y     椭圆的中心位置;注意:这里是椭圆的中心点,而不是左上角的起点
w h     椭圆的宽,高
</code></pre></div><br> <p><strong>Circle(圆)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Circle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ff00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dash</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1,2,3,4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Circle</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>x y     圆心位置
r       半径
</code></pre></div><br> <p><strong>Arc(扇形、弧线)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Arc</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">startAngle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sweep</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ff00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dash</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1,2,3,4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Arc</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>x y w h         定位方式与 Ellipse 相同
startAngle      起始角
sweep           扫描角(扇形的角度)
close           是否闭合,true 闭合是扇形,false 不闭合是弧线
</code></pre></div><br> <p><strong>Line(直线)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Line</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ff00<span class="token punctuation">&quot;</span></span> <span class="token attr-name">weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dash</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1,2,3,4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strokeAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StrokeShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Line</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>x y x1 y1       直线起点(x,y),终点(x1,y1)
</code></pre></div><blockquote><p>注意事项:</p> <ul><li>对齐方式 align alignV:只有 Rectangle 支持,其他的都不支持,它们的 x y 都是指的中心点位置,不需要对齐方式。</li> <li>填充:线条类的图形忽略 fillColor 和 <code>&lt;FillShaders&gt;</code>;有面积的图形同时支持 stroke 和 fill,分别用于描边和填充。</li> <li>优先级:当 strokeColor 和 <code>&lt;StrokeShaders&gt;</code> 同时存在时,优先使用 <code>&lt;StrokeShaders&gt;</code> ;fillColor 和 <code>&lt;FillShaders&gt;</code> 亦如此。</li> <li>描边颜色:如果要出现描边,则 strokeColor 和 <code>&lt;StrokeShaders&gt;</code> 必须至少一个存在;都不存在就会没有描边。</li> <li>渐变定位:<code>&lt;LinearGradient x=&quot;&quot; y=&quot;&quot;&gt;</code> ... 中的 x y 都是相对它所在的图形元素定位的。</li></ul></blockquote> <br> 



<!-- ====== Section ====== -->
<h2 id="自定义图片"><a href="#自定义图片" class="header-anchor">#</a> 自定义图片</h2> <p>选择任意图片显示:</p> <p>config.xml 新增 ImagePicker 条目,可以让用户选择手机中的某个图片,获取其地址到变量中(注意:图片过大可能不能显示,比如像素过大的照片。)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Config</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>自定义图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请先将图片裁剪到合适大小和部位以确保显示效果,尺寸过大的照片请先缩小至屏幕大小,否则可能不能正常显示或费内存<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImagePicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片一<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择图片一<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImagePicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片二<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择图片二<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>manifest.xml 中 Image 支持 Uri 类型的 src,即 config 中选择的图片地址,@img1 @img2</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 个性化定制锁屏设置中 文件管理和相册选择图片不生效,故使用下列代码即可解决 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strContains(@img1,'com.android.fileexplorer'),strReplaceAll(@img1,'content://com.android.fileexplorer.myprovider/external_files/','file:///sdcard/'),strContains(@img1,'com.miui.gallery'),strReplaceAll(@img1,'content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2F','file:///sdcard/'),@img1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strContains(@img2,'com.android.fileexplorer'),strReplaceAll(@img2,'content://com.android.fileexplorer.myprovider/external_files/','file:///sdcard/'),strContains(@img2,'com.miui.gallery'),strReplaceAll(@img2,'content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2F','file:///sdcard/'),@img2)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span>  <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uri<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span>  <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@img2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uri<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>清除图片(将相应变量置空即可):</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#img1.has_bitmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>示例文件:<a href="http://f1.market.xiaomi.com/download/ThemeMarket/0240e5a2cd6fa7ef2cddde804baf97ef29e42680c" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>image_picker.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> 



<!-- ====== Section ====== -->
<h2 id="常用动画"><a href="#常用动画" class="header-anchor">#</a> 常用动画</h2> <p><strong>变量动画</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 按钮触发  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">值</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">initPause</td> <td style="text-align:left;">true/false</td> <td style="text-align:left;"><code>initPause=&quot;true&quot;</code> 无命令执行这个动画时,它停在初始态</td></tr> <tr><td style="text-align:left;">loop</td> <td style="text-align:left;">true/false</td> <td style="text-align:left;">是否循环,默认 true,<code>loop=&quot;false&quot;</code> 时,播放一次就停了</td></tr> <tr><td style="text-align:left;">time</td> <td style="text-align:left;">数字</td> <td style="text-align:left;">毫秒时间,不支持表达式 。绝对时间</td></tr> <tr><td style="text-align:left;">dtime</td> <td style="text-align:left;">数字 或者 表达式</td> <td style="text-align:left;">毫秒时间,支持表达式(新)。相对时间(相对上一个的时间)</td></tr></tbody></table> <p><strong>dtime和time的区别</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 两段动画结果一致 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni_0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>灵活运用示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAni<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numAniVar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 动画播放完时,若#numAni等于100,则执行名为 moveAni 的动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#numAni==100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 或者:动画时间#numAniVar等于-1时,执行名为 moveAni 的动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#numAniVar.current_frame==-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div id="Array_animation"></div> <p><strong>数组动画</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 自由选择播放 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_ani<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arrayAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_ani<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CubicEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 点击触发 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 播放第一个动画;targetIndex 从 0 开始到 5,共 6 个 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arrayAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 播放第二个动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arrayAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 按延迟时间依次播放 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Ani<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#delay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BackEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500+#delay<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#delay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BackEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dtime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500+#delay<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 点击触发 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 延迟时间 50ms --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>delay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_i*50<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!-- 播放动画 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Ani<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tags</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#Ani[0]==0 ** #Ani[9]==0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Ani<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tags</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#Ani[0]==1 ** #Ani[9]==1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100+#Ani[#_i]*300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100+#_i*100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Ani'+#_i+'= '+#Ani[#_i]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="元素动画"><a href="#元素动画" class="header-anchor">#</a> 元素动画</h2> <p>所有元素都支持动画(下面用 Image 来举例);动画分为:图片源,位置,大小,旋转,透明度<br>
每种动画相互独立,各自循环播放,动画由若干关键帧组成,关键帧包括帧属性和时间,除图片源动画外,其它动画会根据当前时间找到相邻的两个关键帧,然后线性插值计算当前的属性。 如果第一帧时间不从 0 开始,则默认时间为 0 的第一帧为图片原始属性,时间单位为毫秒。 位置动画中的位置是相对于图片自身的坐标。
<br></p> <p><strong>源动画</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pic.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SourcesAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Source</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pic1.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Source</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pic2.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Source</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pic3.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SourcesAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>注意:
只有图片支持图片源动画</p> <p>图片源动画稍有不同,没有插值;x, y 可选,表示相对图片的位置,当前的图片是在列表里的找到第一个大于当前时间的那个点指定的。</p></blockquote> <p><strong>等比缩放</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg2.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScaleAnimation</span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScaleAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--位移--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--平面旋转--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RotationAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>360<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RotationAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--非等比缩放--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SizeAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--透明度--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AlphaAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AlphaAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br>
例子:位置动画表示 1秒 从屏幕最左端到最右端,停留1秒,透明度动画表示开始透明度为175,在从最左端到最右端过程中透明度不变,到达最右端后0.5秒渐变为不透明,然后 500毫秒 变为透明消失。然后循环播放。
<div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-177<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>charging_light.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">category</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Charging<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AlphaAnimation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>175<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>175<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1500<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AlphaAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="动画控制"><a href="#动画控制" class="header-anchor">#</a> 动画控制</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>114<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dst.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ExpoEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>114<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dst.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ExpoEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ExpoEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(0,300)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tags</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">AnimationCommand</td> <td style="text-align:left;">播放动画现在统一用这个标签,原因是旧标签不支持 tags,你怀旧的话可以记两个</td></tr> <tr><td style="text-align:left;">target</td> <td style="text-align:left;">控制的动画目标名</td></tr> <tr><td style="text-align:left;">Index</td> <td style="text-align:left;">为数组动画添加索引;既<code>Index=&quot;#__ani&quot;</code>需要索引数组开头中<code>indexName</code>属性的名称;<br> 数组介绍可查看:<a href="#Element_array"><font color="#0055ff"><strong>元素数组</strong></font></a>;动画示例可查看:<a href="#Array_animation"><font color="#0055ff"><strong>数组动画</strong></font></a></td></tr> <tr><td style="text-align:left;">targetIndex</td> <td style="text-align:left;">数组动画索引角标,表示数组动画索引值为 1;例如<code>targetIndex=&quot;1&quot;</code>则表示控制数组动画的第二个动画(索引从 0 开始)</td></tr> <tr><td style="text-align:left;">command</td> <td style="text-align:left;">play (从头播放), pause(暂停), resume(从当前位置继续播放)</td></tr> <tr><td style="text-align:left;">tag</td> <td style="text-align:left;">用此标签可以实现 一个元素预置多个动画效果,用 tags 来选择性地播放其中一种</td></tr></tbody></table> <div class="language- extra-class"><pre class="language-text"><code>play(startTime,endTime,loop,delay)  4个参数都支持表达式,可只写前面的参数,后面的忽略
startTime   动画开始时间
endTime     动画结束时间
loop        是否循环播放,默认为0,需要写数字 0,1 或者数值表达式,如果为0表示只播放一遍就停止
delay       是否支持delay,默认0,需要写数字 0,1 或者数值表达式
</code></pre></div><table><thead><tr><th style="text-align:left;">示例</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">play(100)</td> <td style="text-align:left;">从 time 100 开始播放到结束,不循环播放</td></tr> <tr><td style="text-align:left;">play(100, 500)</td> <td style="text-align:left;">从 time 100 开始播放到 500,停止</td></tr> <tr><td style="text-align:left;">play(100,500,1)</td> <td style="text-align:left;">从 time 100 开始播放到 500,循环播放</td></tr></tbody></table> <br> 



<!-- ====== Section ====== -->
<h2 id="缓动函数"><a href="#缓动函数" class="header-anchor">#</a> 缓动函数</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>114<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dst.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PositionAnimation</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ExpoEaseOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PositionAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>缓动动画有两种实现方法:easeType 与 easeExp</p> <h4 id="easetype-缓动类型-对照表"><a href="#easetype-缓动类型-对照表" class="header-anchor">#</a> easeType 缓动类型,对照表</h4> <div class="easing-mode" data-v-2dd64f76><div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>SineEaseIn</h3> <div id="easeInSine" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><defs data-v-2dd64f76><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1" data-v-2dd64f76><stop stop-color="#FE0000" offset="0%" data-v-2dd64f76></stop> <stop stop-color="#D00000" offset="100%" data-v-2dd64f76></stop></linearGradient></defs> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,59.9 4.8,59.9 6.0,59.8 7.2,59.7 8.4,59.6 9.6,59.5 10.8,59.4 12.0,59.3 13.2,59.1 14.4,58.9 15.6,58.8 16.8,58.6 18.0,58.3 19.2,58.1 20.4,57.9 21.6,57.6 22.8,57.3 24.0,57.1 25.2,56.8 26.4,56.5 27.6,56.1 28.8,55.8 30.0,55.4 31.2,55.1 32.4,54.7 33.6,54.3 34.8,53.9 36.0,53.5 37.2,53.0 38.4,52.6 39.6,52.1 40.8,51.6 42.0,51.2 43.2,50.7 44.4,50.1 45.6,49.6 46.8,49.1 48.0,48.5 49.2,48.0 50.4,47.4 51.6,46.8 52.8,46.2 54.0,45.6 55.2,45.0 56.4,44.4 57.6,43.7 58.8,43.1 60.0,42.4 61.2,41.8 62.4,41.1 63.6,40.4 64.8,39.7 66.0,39.0 67.2,38.2 68.4,37.5 69.6,36.8 70.8,36.0 72.0,35.3 73.2,34.5 74.4,33.7 75.6,32.9 76.8,32.1 78.0,31.3 79.2,30.5 80.4,29.7 81.6,28.9 82.8,28.1 84.0,27.2 85.2,26.4 86.4,25.5 87.6,24.7 88.8,23.8 90.0,23.0 91.2,22.1 92.4,21.2 93.6,20.3 94.8,19.4 96.0,18.5 97.2,17.6 98.4,16.7 99.6,15.8 100.8,14.9 102.0,14.0 103.2,13.1 104.4,12.2 105.6,11.2 106.8,10.3 108.0,9.4 109.2,8.5 110.4,7.5 111.6,6.6 112.8,5.6 114.0,4.7 115.2,3.8 116.4,2.8 117.6,1.9 118.8,0.9 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>SineEaseOut</h3> <div id="easeOutSine" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,59.1 2.4,58.1 3.6,57.2 4.8,56.2 6.0,55.3 7.2,54.4 8.4,53.4 9.6,52.5 10.8,51.5 12.0,50.6 13.2,49.7 14.4,48.8 15.6,47.8 16.8,46.9 18.0,46.0 19.2,45.1 20.4,44.2 21.6,43.3 22.8,42.4 24.0,41.5 25.2,40.6 26.4,39.7 27.6,38.8 28.8,37.9 30.0,37.0 31.2,36.2 32.4,35.3 33.6,34.5 34.8,33.6 36.0,32.8 37.2,31.9 38.4,31.1 39.6,30.3 40.8,29.5 42.0,28.7 43.2,27.9 44.4,27.1 45.6,26.3 46.8,25.5 48.0,24.7 49.2,24.0 50.4,23.2 51.6,22.5 52.8,21.8 54.0,21.0 55.2,20.3 56.4,19.6 57.6,18.9 58.8,18.2 60.0,17.6 61.2,16.9 62.4,16.3 63.6,15.6 64.8,15.0 66.0,14.4 67.2,13.8 68.4,13.2 69.6,12.6 70.8,12.0 72.0,11.5 73.2,10.9 74.4,10.4 75.6,9.9 76.8,9.3 78.0,8.8 79.2,8.4 80.4,7.9 81.6,7.4 82.8,7.0 84.0,6.5 85.2,6.1 86.4,5.7 87.6,5.3 88.8,4.9 90.0,4.6 91.2,4.2 92.4,3.9 93.6,3.5 94.8,3.2 96.0,2.9 97.2,2.7 98.4,2.4 99.6,2.1 100.8,1.9 102.0,1.7 103.2,1.4 104.4,1.2 105.6,1.1 106.8,0.9 108.0,0.7 109.2,0.6 110.4,0.5 111.6,0.4 112.8,0.3 114.0,0.2 115.2,0.1 116.4,0.1 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>SineEaseInOut</h3> <div id="easeInOutSine" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,59.9 3.6,59.9 4.8,59.8 6.0,59.6 7.2,59.5 8.4,59.3 9.6,59.1 10.8,58.8 12.0,58.5 13.2,58.2 14.4,57.9 15.6,57.5 16.8,57.1 18.0,56.7 19.2,56.3 20.4,55.8 21.6,55.3 22.8,54.8 24.0,54.3 25.2,53.7 26.4,53.1 27.6,52.5 28.8,51.9 30.0,51.2 31.2,50.5 32.4,49.8 33.6,49.1 34.8,48.4 36.0,47.6 37.2,46.9 38.4,46.1 39.6,45.3 40.8,44.5 42.0,43.6 43.2,42.8 44.4,41.9 45.6,41.0 46.8,40.2 48.0,39.3 49.2,38.4 50.4,37.5 51.6,36.5 52.8,35.6 54.0,34.7 55.2,33.8 56.4,32.8 57.6,31.9 58.8,30.9 60.0,30.0 61.2,29.1 62.4,28.1 63.6,27.2 64.8,26.2 66.0,25.3 67.2,24.4 68.4,23.5 69.6,22.5 70.8,21.6 72.0,20.7 73.2,19.8 74.4,19.0 75.6,18.1 76.8,17.2 78.0,16.4 79.2,15.5 80.4,14.7 81.6,13.9 82.8,13.1 84.0,12.4 85.2,11.6 86.4,10.9 87.6,10.2 88.8,9.5 90.0,8.8 91.2,8.1 92.4,7.5 93.6,6.9 94.8,6.3 96.0,5.7 97.2,5.2 98.4,4.7 99.6,4.2 100.8,3.7 102.0,3.3 103.2,2.9 104.4,2.5 105.6,2.1 106.8,1.8 108.0,1.5 109.2,1.2 110.4,0.9 111.6,0.7 112.8,0.5 114.0,0.4 115.2,0.2 116.4,0.1 117.6,0.1 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuadEaseIn</h3> <div id="easeInQuad" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,59.9 4.8,59.9 6.0,59.9 7.2,59.8 8.4,59.7 9.6,59.6 10.8,59.5 12.0,59.4 13.2,59.3 14.4,59.1 15.6,59.0 16.8,58.8 18.0,58.7 19.2,58.5 20.4,58.3 21.6,58.1 22.8,57.8 24.0,57.6 25.2,57.4 26.4,57.1 27.6,56.8 28.8,56.5 30.0,56.3 31.2,55.9 32.4,55.6 33.6,55.3 34.8,55.0 36.0,54.6 37.2,54.2 38.4,53.9 39.6,53.5 40.8,53.1 42.0,52.7 43.2,52.2 44.4,51.8 45.6,51.3 46.8,50.9 48.0,50.4 49.2,49.9 50.4,49.4 51.6,48.9 52.8,48.4 54.0,47.9 55.2,47.3 56.4,46.7 57.6,46.2 58.8,45.6 60.0,45.0 61.2,44.4 62.4,43.8 63.6,43.1 64.8,42.5 66.0,41.8 67.2,41.2 68.4,40.5 69.6,39.8 70.8,39.1 72.0,38.4 73.2,37.7 74.4,36.9 75.6,36.2 76.8,35.4 78.0,34.7 79.2,33.9 80.4,33.1 81.6,32.3 82.8,31.4 84.0,30.6 85.2,29.8 86.4,28.9 87.6,28.0 88.8,27.1 90.0,26.3 91.2,25.3 92.4,24.4 93.6,23.5 94.8,22.6 96.0,21.6 97.2,20.6 98.4,19.7 99.6,18.7 100.8,17.7 102.0,16.7 103.2,15.6 104.4,14.6 105.6,13.5 106.8,12.5 108.0,11.4 109.2,10.3 110.4,9.2 111.6,8.1 112.8,7.0 114.0,5.9 115.2,4.7 116.4,3.5 117.6,2.4 118.8,1.2 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuadEaseOut</h3> <div id="easeOutQuad" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,58.8 2.4,57.6 3.6,56.5 4.8,55.3 6.0,54.2 7.2,53.0 8.4,51.9 9.6,50.8 10.8,49.7 12.0,48.6 13.2,47.5 14.4,46.5 15.6,45.4 16.8,44.4 18.0,43.3 19.2,42.3 20.4,41.3 21.6,40.3 22.8,39.4 24.0,38.4 25.2,37.4 26.4,36.5 27.6,35.6 28.8,34.7 30.0,33.8 31.2,32.9 32.4,32.0 33.6,31.1 34.8,30.2 36.0,29.4 37.2,28.6 38.4,27.7 39.6,26.9 40.8,26.1 42.0,25.4 43.2,24.6 44.4,23.8 45.6,23.1 46.8,22.3 48.0,21.6 49.2,20.9 50.4,20.2 51.6,19.5 52.8,18.8 54.0,18.2 55.2,17.5 56.4,16.9 57.6,16.2 58.8,15.6 60.0,15.0 61.2,14.4 62.4,13.8 63.6,13.3 64.8,12.7 66.0,12.1 67.2,11.6 68.4,11.1 69.6,10.6 70.8,10.1 72.0,9.6 73.2,9.1 74.4,8.7 75.6,8.2 76.8,7.8 78.0,7.3 79.2,6.9 80.4,6.5 81.6,6.1 82.8,5.8 84.0,5.4 85.2,5.0 86.4,4.7 87.6,4.4 88.8,4.1 90.0,3.8 91.2,3.5 92.4,3.2 93.6,2.9 94.8,2.6 96.0,2.4 97.2,2.2 98.4,1.9 99.6,1.7 100.8,1.5 102.0,1.4 103.2,1.2 104.4,1.0 105.6,0.9 106.8,0.7 108.0,0.6 109.2,0.5 110.4,0.4 111.6,0.3 112.8,0.2 114.0,0.2 115.2,0.1 116.4,0.1 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuadEaseInOut</h3> <div id="easeInOutQuad" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,59.9 4.8,59.8 6.0,59.7 7.2,59.6 8.4,59.4 9.6,59.2 10.8,59.0 12.0,58.8 13.2,58.5 14.4,58.3 15.6,58.0 16.8,57.6 18.0,57.3 19.2,56.9 20.4,56.5 21.6,56.1 22.8,55.7 24.0,55.2 25.2,54.7 26.4,54.2 27.6,53.7 28.8,53.1 30.0,52.5 31.2,51.9 32.4,51.3 33.6,50.6 34.8,49.9 36.0,49.2 37.2,48.5 38.4,47.7 39.6,46.9 40.8,46.1 42.0,45.3 43.2,44.4 44.4,43.6 45.6,42.7 46.8,41.7 48.0,40.8 49.2,39.8 50.4,38.8 51.6,37.8 52.8,36.8 54.0,35.7 55.2,34.6 56.4,33.5 57.6,32.4 58.8,31.2 60.0,30.0 61.2,28.8 62.4,27.6 63.6,26.5 64.8,25.4 66.0,24.3 67.2,23.2 68.4,22.2 69.6,21.2 70.8,20.2 72.0,19.2 73.2,18.3 74.4,17.3 75.6,16.4 76.8,15.6 78.0,14.7 79.2,13.9 80.4,13.1 81.6,12.3 82.8,11.5 84.0,10.8 85.2,10.1 86.4,9.4 87.6,8.7 88.8,8.1 90.0,7.5 91.2,6.9 92.4,6.3 93.6,5.8 94.8,5.3 96.0,4.8 97.2,4.3 98.4,3.9 99.6,3.5 100.8,3.1 102.0,2.7 103.2,2.4 104.4,2.0 105.6,1.7 106.8,1.5 108.0,1.2 109.2,1.0 110.4,0.8 111.6,0.6 112.8,0.4 114.0,0.3 115.2,0.2 116.4,0.1 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CubicEaseIn</h3> <div id="easeInCubic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,60.0 8.4,60.0 9.6,60.0 10.8,60.0 12.0,59.9 13.2,59.9 14.4,59.9 15.6,59.9 16.8,59.8 18.0,59.8 19.2,59.8 20.4,59.7 21.6,59.7 22.8,59.6 24.0,59.5 25.2,59.4 26.4,59.4 27.6,59.3 28.8,59.2 30.0,59.1 31.2,58.9 32.4,58.8 33.6,58.7 34.8,58.5 36.0,58.4 37.2,58.2 38.4,58.0 39.6,57.8 40.8,57.6 42.0,57.4 43.2,57.2 44.4,57.0 45.6,56.7 46.8,56.4 48.0,56.2 49.2,55.9 50.4,55.6 51.6,55.2 52.8,54.9 54.0,54.5 55.2,54.2 56.4,53.8 57.6,53.4 58.8,52.9 60.0,52.5 61.2,52.0 62.4,51.6 63.6,51.1 64.8,50.6 66.0,50.0 67.2,49.5 68.4,48.9 69.6,48.3 70.8,47.7 72.0,47.0 73.2,46.4 74.4,45.7 75.6,45.0 76.8,44.3 78.0,43.5 79.2,42.8 80.4,42.0 81.6,41.1 82.8,40.3 84.0,39.4 85.2,38.5 86.4,37.6 87.6,36.7 88.8,35.7 90.0,34.7 91.2,33.7 92.4,32.6 93.6,31.5 94.8,30.4 96.0,29.3 97.2,28.1 98.4,26.9 99.6,25.7 100.8,24.4 102.0,23.2 103.2,21.8 104.4,20.5 105.6,19.1 106.8,17.7 108.0,16.3 109.2,14.8 110.4,13.3 111.6,11.7 112.8,10.2 114.0,8.6 115.2,6.9 116.4,5.2 117.6,3.5 118.8,1.8 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CubicEaseOut</h3> <div id="easeOutCubic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,58.2 2.4,56.5 3.6,54.8 4.8,53.1 6.0,51.4 7.2,49.8 8.4,48.3 9.6,46.7 10.8,45.2 12.0,43.7 13.2,42.3 14.4,40.9 15.6,39.5 16.8,38.2 18.0,36.8 19.2,35.6 20.4,34.3 21.6,33.1 22.8,31.9 24.0,30.7 25.2,29.6 26.4,28.5 27.6,27.4 28.8,26.3 30.0,25.3 31.2,24.3 32.4,23.3 33.6,22.4 34.8,21.5 36.0,20.6 37.2,19.7 38.4,18.9 39.6,18.0 40.8,17.2 42.0,16.5 43.2,15.7 44.4,15.0 45.6,14.3 46.8,13.6 48.0,13.0 49.2,12.3 50.4,11.7 51.6,11.1 52.8,10.5 54.0,10.0 55.2,9.4 56.4,8.9 57.6,8.4 58.8,8.0 60.0,7.5 61.2,7.1 62.4,6.6 63.6,6.2 64.8,5.8 66.0,5.5 67.2,5.1 68.4,4.8 69.6,4.4 70.8,4.1 72.0,3.8 73.2,3.6 74.4,3.3 75.6,3.0 76.8,2.8 78.0,2.6 79.2,2.4 80.4,2.2 81.6,2.0 82.8,1.8 84.0,1.6 85.2,1.5 86.4,1.3 87.6,1.2 88.8,1.1 90.0,0.9 91.2,0.8 92.4,0.7 93.6,0.6 94.8,0.6 96.0,0.5 97.2,0.4 98.4,0.3 99.6,0.3 100.8,0.2 102.0,0.2 103.2,0.2 104.4,0.1 105.6,0.1 106.8,0.1 108.0,0.1 109.2,0.0 110.4,0.0 111.6,0.0 112.8,0.0 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CubicEaseInOut</h3> <div id="easeInOutCubic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,59.9 8.4,59.9 9.6,59.9 10.8,59.8 12.0,59.8 13.2,59.7 14.4,59.6 15.6,59.5 16.8,59.3 18.0,59.2 19.2,59.0 20.4,58.8 21.6,58.6 22.8,58.4 24.0,58.1 25.2,57.8 26.4,57.4 27.6,57.1 28.8,56.7 30.0,56.3 31.2,55.8 32.4,55.3 33.6,54.7 34.8,54.1 36.0,53.5 37.2,52.9 38.4,52.1 39.6,51.4 40.8,50.6 42.0,49.7 43.2,48.8 44.4,47.8 45.6,46.8 46.8,45.8 48.0,44.6 49.2,43.5 50.4,42.2 51.6,40.9 52.8,39.6 54.0,38.1 55.2,36.6 56.4,35.1 57.6,33.5 58.8,31.8 60.0,30.0 61.2,28.2 62.4,26.5 63.6,24.9 64.8,23.4 66.0,21.9 67.2,20.4 68.4,19.1 69.6,17.8 70.8,16.5 72.0,15.4 73.2,14.2 74.4,13.2 75.6,12.2 76.8,11.2 78.0,10.3 79.2,9.4 80.4,8.6 81.6,7.9 82.8,7.1 84.0,6.5 85.2,5.9 86.4,5.3 87.6,4.7 88.8,4.2 90.0,3.8 91.2,3.3 92.4,2.9 93.6,2.6 94.8,2.2 96.0,1.9 97.2,1.6 98.4,1.4 99.6,1.2 100.8,1.0 102.0,0.8 103.2,0.7 104.4,0.5 105.6,0.4 106.8,0.3 108.0,0.2 109.2,0.2 110.4,0.1 111.6,0.1 112.8,0.1 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuartEaseIn</h3> <div id="easeInQuart" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,60.0 8.4,60.0 9.6,60.0 10.8,60.0 12.0,60.0 13.2,60.0 14.4,60.0 15.6,60.0 16.8,60.0 18.0,60.0 19.2,60.0 20.4,59.9 21.6,59.9 22.8,59.9 24.0,59.9 25.2,59.9 26.4,59.9 27.6,59.8 28.8,59.8 30.0,59.8 31.2,59.7 32.4,59.7 33.6,59.6 34.8,59.6 36.0,59.5 37.2,59.4 38.4,59.4 39.6,59.3 40.8,59.2 42.0,59.1 43.2,59.0 44.4,58.9 45.6,58.7 46.8,58.6 48.0,58.5 49.2,58.3 50.4,58.1 51.6,57.9 52.8,57.8 54.0,57.5 55.2,57.3 56.4,57.1 57.6,56.8 58.8,56.5 60.0,56.3 61.2,55.9 62.4,55.6 63.6,55.3 64.8,54.9 66.0,54.5 67.2,54.1 68.4,53.7 69.6,53.2 70.8,52.7 72.0,52.2 73.2,51.7 74.4,51.1 75.6,50.5 76.8,49.9 78.0,49.3 79.2,48.6 80.4,47.9 81.6,47.2 82.8,46.4 84.0,45.6 85.2,44.8 86.4,43.9 87.6,43.0 88.8,42.0 90.0,41.0 91.2,40.0 92.4,38.9 93.6,37.8 94.8,36.6 96.0,35.4 97.2,34.2 98.4,32.9 99.6,31.5 100.8,30.1 102.0,28.7 103.2,27.2 104.4,25.6 105.6,24.0 106.8,22.4 108.0,20.6 109.2,18.9 110.4,17.0 111.6,15.1 112.8,13.2 114.0,11.1 115.2,9.0 116.4,6.9 117.6,4.7 118.8,2.4 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuartEaseOut</h3> <div id="easeOutQuart" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,57.6 2.4,55.3 3.6,53.1 4.8,51.0 6.0,48.9 7.2,46.8 8.4,44.9 9.6,43.0 10.8,41.1 12.0,39.4 13.2,37.6 14.4,36.0 15.6,34.4 16.8,32.8 18.0,31.3 19.2,29.9 20.4,28.5 21.6,27.1 22.8,25.8 24.0,24.6 25.2,23.4 26.4,22.2 27.6,21.1 28.8,20.0 30.0,19.0 31.2,18.0 32.4,17.0 33.6,16.1 34.8,15.2 36.0,14.4 37.2,13.6 38.4,12.8 39.6,12.1 40.8,11.4 42.0,10.7 43.2,10.1 44.4,9.5 45.6,8.9 46.8,8.3 48.0,7.8 49.2,7.3 50.4,6.8 51.6,6.3 52.8,5.9 54.0,5.5 55.2,5.1 56.4,4.7 57.6,4.4 58.8,4.1 60.0,3.8 61.2,3.5 62.4,3.2 63.6,2.9 64.8,2.7 66.0,2.5 67.2,2.2 68.4,2.1 69.6,1.9 70.8,1.7 72.0,1.5 73.2,1.4 74.4,1.3 75.6,1.1 76.8,1.0 78.0,0.9 79.2,0.8 80.4,0.7 81.6,0.6 82.8,0.6 84.0,0.5 85.2,0.4 86.4,0.4 87.6,0.3 88.8,0.3 90.0,0.2 91.2,0.2 92.4,0.2 93.6,0.1 94.8,0.1 96.0,0.1 97.2,0.1 98.4,0.1 99.6,0.1 100.8,0.0 102.0,0.0 103.2,0.0 104.4,0.0 105.6,0.0 106.8,0.0 108.0,0.0 109.2,0.0 110.4,0.0 111.6,0.0 112.8,0.0 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuartEaseInOut</h3> <div id="easeInOutQuart" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,60.0 8.4,60.0 9.6,60.0 10.8,60.0 12.0,60.0 13.2,59.9 14.4,59.9 15.6,59.9 16.8,59.8 18.0,59.8 19.2,59.7 20.4,59.6 21.6,59.5 22.8,59.4 24.0,59.2 25.2,59.1 26.4,58.9 27.6,58.7 28.8,58.4 30.0,58.1 31.2,57.8 32.4,57.4 33.6,57.0 34.8,56.6 36.0,56.1 37.2,55.6 38.4,55.0 39.6,54.3 40.8,53.6 42.0,52.8 43.2,51.9 44.4,51.0 45.6,50.0 46.8,48.9 48.0,47.7 49.2,46.4 50.4,45.1 51.6,43.6 52.8,42.0 54.0,40.3 55.2,38.5 56.4,36.6 57.6,34.5 58.8,32.3 60.0,30.0 61.2,27.7 62.4,25.5 63.6,23.4 64.8,21.5 66.0,19.7 67.2,18.0 68.4,16.4 69.6,14.9 70.8,13.6 72.0,12.3 73.2,11.1 74.4,10.0 75.6,9.0 76.8,8.1 78.0,7.2 79.2,6.4 80.4,5.7 81.6,5.0 82.8,4.4 84.0,3.9 85.2,3.4 86.4,3.0 87.6,2.6 88.8,2.2 90.0,1.9 91.2,1.6 92.4,1.3 93.6,1.1 94.8,0.9 96.0,0.8 97.2,0.6 98.4,0.5 99.6,0.4 100.8,0.3 102.0,0.2 103.2,0.2 104.4,0.1 105.6,0.1 106.8,0.1 108.0,0.0 109.2,0.0 110.4,0.0 111.6,0.0 112.8,0.0 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuintEaseIn</h3> <div id="easeInQuint" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,60.0 8.4,60.0 9.6,60.0 10.8,60.0 12.0,60.0 13.2,60.0 14.4,60.0 15.6,60.0 16.8,60.0 18.0,60.0 19.2,60.0 20.4,60.0 21.6,60.0 22.8,60.0 24.0,60.0 25.2,60.0 26.4,60.0 27.6,60.0 28.8,60.0 30.0,59.9 31.2,59.9 32.4,59.9 33.6,59.9 34.8,59.9 36.0,59.9 37.2,59.8 38.4,59.8 39.6,59.8 40.8,59.7 42.0,59.7 43.2,59.6 44.4,59.6 45.6,59.5 46.8,59.5 48.0,59.4 49.2,59.3 50.4,59.2 51.6,59.1 52.8,59.0 54.0,58.9 55.2,58.8 56.4,58.6 57.6,58.5 58.8,58.3 60.0,58.1 61.2,57.9 62.4,57.7 63.6,57.5 64.8,57.2 66.0,57.0 67.2,56.7 68.4,56.4 69.6,56.1 70.8,55.7 72.0,55.3 73.2,54.9 74.4,54.5 75.6,54.0 76.8,53.6 78.0,53.0 79.2,52.5 80.4,51.9 81.6,51.3 82.8,50.6 84.0,49.9 85.2,49.2 86.4,48.4 87.6,47.6 88.8,46.7 90.0,45.8 91.2,44.8 92.4,43.8 93.6,42.7 94.8,41.5 96.0,40.3 97.2,39.1 98.4,37.8 99.6,36.4 100.8,34.9 102.0,33.4 103.2,31.8 104.4,30.1 105.6,28.3 106.8,26.5 108.0,24.6 109.2,22.6 110.4,20.5 111.6,18.3 112.8,16.0 114.0,13.6 115.2,11.1 116.4,8.5 117.6,5.8 118.8,2.9 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuintEaseOut</h3> <div id="easeOutQuint" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,57.1 2.4,54.2 3.6,51.5 4.8,48.9 6.0,46.4 7.2,44.0 8.4,41.7 9.6,39.5 10.8,37.4 12.0,35.4 13.2,33.5 14.4,31.7 15.6,29.9 16.8,28.2 18.0,26.6 19.2,25.1 20.4,23.6 21.6,22.2 22.8,20.9 24.0,19.7 25.2,18.5 26.4,17.3 27.6,16.2 28.8,15.2 30.0,14.2 31.2,13.3 32.4,12.4 33.6,11.6 34.8,10.8 36.0,10.1 37.2,9.4 38.4,8.7 39.6,8.1 40.8,7.5 42.0,7.0 43.2,6.4 44.4,6.0 45.6,5.5 46.8,5.1 48.0,4.7 49.2,4.3 50.4,3.9 51.6,3.6 52.8,3.3 54.0,3.0 55.2,2.8 56.4,2.5 57.6,2.3 58.8,2.1 60.0,1.9 61.2,1.7 62.4,1.5 63.6,1.4 64.8,1.2 66.0,1.1 67.2,1.0 68.4,0.9 69.6,0.8 70.8,0.7 72.0,0.6 73.2,0.5 74.4,0.5 75.6,0.4 76.8,0.4 78.0,0.3 79.2,0.3 80.4,0.2 81.6,0.2 82.8,0.2 84.0,0.1 85.2,0.1 86.4,0.1 87.6,0.1 88.8,0.1 90.0,0.1 91.2,0.0 92.4,0.0 93.6,0.0 94.8,0.0 96.0,0.0 97.2,0.0 98.4,0.0 99.6,0.0 100.8,0.0 102.0,0.0 103.2,0.0 104.4,0.0 105.6,0.0 106.8,0.0 108.0,0.0 109.2,0.0 110.4,0.0 111.6,0.0 112.8,0.0 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>QuintEaseInOut</h3> <div id="easeInOutQuint" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,60.0 8.4,60.0 9.6,60.0 10.8,60.0 12.0,60.0 13.2,60.0 14.4,60.0 15.6,60.0 16.8,59.9 18.0,59.9 19.2,59.9 20.4,59.9 21.6,59.8 22.8,59.8 24.0,59.7 25.2,59.6 26.4,59.5 27.6,59.4 28.8,59.2 30.0,59.1 31.2,58.9 32.4,58.6 33.6,58.3 34.8,58.0 36.0,57.7 37.2,57.3 38.4,56.8 39.6,56.2 40.8,55.6 42.0,55.0 43.2,54.2 44.4,53.3 45.6,52.4 46.8,51.3 48.0,50.2 49.2,48.9 50.4,47.5 51.6,45.9 52.8,44.2 54.0,42.3 55.2,40.2 56.4,38.0 57.6,35.5 58.8,32.9 60.0,30.0 61.2,27.1 62.4,24.5 63.6,22.0 64.8,19.8 66.0,17.7 67.2,15.8 68.4,14.1 69.6,12.5 70.8,11.1 72.0,9.8 73.2,8.7 74.4,7.6 75.6,6.7 76.8,5.8 78.0,5.0 79.2,4.4 80.4,3.8 81.6,3.2 82.8,2.7 84.0,2.3 85.2,2.0 86.4,1.7 87.6,1.4 88.8,1.1 90.0,0.9 91.2,0.8 92.4,0.6 93.6,0.5 94.8,0.4 96.0,0.3 97.2,0.2 98.4,0.2 99.6,0.1 100.8,0.1 102.0,0.1 103.2,0.1 104.4,0.0 105.6,0.0 106.8,0.0 108.0,0.0 109.2,0.0 110.4,0.0 111.6,0.0 112.8,0.0 114.0,0.0 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ExpoEaseIn</h3> <div id="easeInExpo" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,59.9 2.4,59.9 3.6,59.9 4.8,59.9 6.0,59.9 7.2,59.9 8.4,59.9 9.6,59.9 10.8,59.9 12.0,59.9 13.2,59.9 14.4,59.9 15.6,59.9 16.8,59.8 18.0,59.8 19.2,59.8 20.4,59.8 21.6,59.8 22.8,59.8 24.0,59.8 25.2,59.7 26.4,59.7 27.6,59.7 28.8,59.7 30.0,59.7 31.2,59.6 32.4,59.6 33.6,59.6 34.8,59.6 36.0,59.5 37.2,59.5 38.4,59.5 39.6,59.4 40.8,59.4 42.0,59.3 43.2,59.3 44.4,59.2 45.6,59.2 46.8,59.1 48.0,59.1 49.2,59.0 50.4,58.9 51.6,58.8 52.8,58.8 54.0,58.7 55.2,58.6 56.4,58.5 57.6,58.4 58.8,58.3 60.0,58.1 61.2,58.0 62.4,57.8 63.6,57.7 64.8,57.5 66.0,57.3 67.2,57.2 68.4,57.0 69.6,56.7 70.8,56.5 72.0,56.3 73.2,56.0 74.4,55.7 75.6,55.4 76.8,55.1 78.0,54.7 79.2,54.3 80.4,53.9 81.6,53.5 82.8,53.0 84.0,52.5 85.2,52.0 86.4,51.4 87.6,50.8 88.8,50.1 90.0,49.4 91.2,48.6 92.4,47.8 93.6,46.9 94.8,46.0 96.0,45.0 97.2,43.9 98.4,42.8 99.6,41.5 100.8,40.2 102.0,38.8 103.2,37.3 104.4,35.6 105.6,33.9 106.8,32.0 108.0,30.0 109.2,27.8 110.4,25.5 111.6,23.1 112.8,20.4 114.0,17.6 115.2,14.5 116.4,11.3 117.6,7.8 118.8,4.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ExpoEaseOut</h3> <div id="easeOutExpo" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,56.0 2.4,52.2 3.6,48.7 4.8,45.5 6.0,42.4 7.2,39.6 8.4,36.9 9.6,34.5 10.8,32.2 12.0,30.0 13.2,28.0 14.4,26.1 15.6,24.4 16.8,22.7 18.0,21.2 19.2,19.8 20.4,18.5 21.6,17.2 22.8,16.1 24.0,15.0 25.2,14.0 26.4,13.1 27.6,12.2 28.8,11.4 30.0,10.6 31.2,9.9 32.4,9.2 33.6,8.6 34.8,8.0 36.0,7.5 37.2,7.0 38.4,6.5 39.6,6.1 40.8,5.7 42.0,5.3 43.2,4.9 44.4,4.6 45.6,4.3 46.8,4.0 48.0,3.8 49.2,3.5 50.4,3.3 51.6,3.0 52.8,2.8 54.0,2.7 55.2,2.5 56.4,2.3 57.6,2.2 58.8,2.0 60.0,1.9 61.2,1.7 62.4,1.6 63.6,1.5 64.8,1.4 66.0,1.3 67.2,1.2 68.4,1.2 69.6,1.1 70.8,1.0 72.0,0.9 73.2,0.9 74.4,0.8 75.6,0.8 76.8,0.7 78.0,0.7 79.2,0.6 80.4,0.6 81.6,0.5 82.8,0.5 84.0,0.5 85.2,0.4 86.4,0.4 87.6,0.4 88.8,0.4 90.0,0.3 91.2,0.3 92.4,0.3 93.6,0.3 94.8,0.3 96.0,0.2 97.2,0.2 98.4,0.2 99.6,0.2 100.8,0.2 102.0,0.2 103.2,0.2 104.4,0.1 105.6,0.1 106.8,0.1 108.0,0.1 109.2,0.1 110.4,0.1 111.6,0.1 112.8,0.1 114.0,0.1 115.2,0.1 116.4,0.1 117.6,0.1 118.8,0.1 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ExpoEaseInOut</h3> <div id="easeInOutExpo" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,59.9 6.0,59.9 7.2,59.9 8.4,59.9 9.6,59.9 10.8,59.9 12.0,59.9 13.2,59.9 14.4,59.8 15.6,59.8 16.8,59.8 18.0,59.8 19.2,59.7 20.4,59.7 21.6,59.6 22.8,59.6 24.0,59.5 25.2,59.5 26.4,59.4 27.6,59.3 28.8,59.2 30.0,59.1 31.2,58.9 32.4,58.8 33.6,58.6 34.8,58.4 36.0,58.1 37.2,57.8 38.4,57.5 39.6,57.2 40.8,56.7 42.0,56.3 43.2,55.7 44.4,55.1 45.6,54.3 46.8,53.5 48.0,52.5 49.2,51.4 50.4,50.1 51.6,48.6 52.8,46.9 54.0,45.0 55.2,42.8 56.4,40.2 57.6,37.3 58.8,33.9 60.0,30.0 61.2,26.1 62.4,22.7 63.6,19.8 64.8,17.2 66.0,15.0 67.2,13.1 68.4,11.4 69.6,9.9 70.8,8.6 72.0,7.5 73.2,6.5 74.4,5.7 75.6,4.9 76.8,4.3 78.0,3.8 79.2,3.3 80.4,2.8 81.6,2.5 82.8,2.2 84.0,1.9 85.2,1.6 86.4,1.4 87.6,1.2 88.8,1.1 90.0,0.9 91.2,0.8 92.4,0.7 93.6,0.6 94.8,0.5 96.0,0.5 97.2,0.4 98.4,0.4 99.6,0.3 100.8,0.3 102.0,0.2 103.2,0.2 104.4,0.2 105.6,0.2 106.8,0.1 108.0,0.1 109.2,0.1 110.4,0.1 111.6,0.1 112.8,0.1 114.0,0.1 115.2,0.1 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CircEaseIn</h3> <div id="easeInCirc" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,59.9 7.2,59.9 8.4,59.9 9.6,59.8 10.8,59.8 12.0,59.7 13.2,59.6 14.4,59.6 15.6,59.5 16.8,59.4 18.0,59.3 19.2,59.2 20.4,59.1 21.6,59.0 22.8,58.9 24.0,58.8 25.2,58.7 26.4,58.5 27.6,58.4 28.8,58.2 30.0,58.1 31.2,57.9 32.4,57.8 33.6,57.6 34.8,57.4 36.0,57.2 37.2,57.0 38.4,56.8 39.6,56.6 40.8,56.4 42.0,56.2 43.2,56.0 44.4,55.7 45.6,55.5 46.8,55.2 48.0,55.0 49.2,54.7 50.4,54.5 51.6,54.2 52.8,53.9 54.0,53.6 55.2,53.3 56.4,53.0 57.6,52.6 58.8,52.3 60.0,52.0 61.2,51.6 62.4,51.2 63.6,50.9 64.8,50.5 66.0,50.1 67.2,49.7 68.4,49.3 69.6,48.9 70.8,48.4 72.0,48.0 73.2,47.5 74.4,47.1 75.6,46.6 76.8,46.1 78.0,45.6 79.2,45.1 80.4,44.5 81.6,44.0 82.8,43.4 84.0,42.8 85.2,42.3 86.4,41.6 87.6,41.0 88.8,40.4 90.0,39.7 91.2,39.0 92.4,38.3 93.6,37.5 94.8,36.8 96.0,36.0 97.2,35.2 98.4,34.3 99.6,33.5 100.8,32.6 102.0,31.6 103.2,30.6 104.4,29.6 105.6,28.5 106.8,27.4 108.0,26.2 109.2,24.9 110.4,23.5 111.6,22.1 112.8,20.5 114.0,18.7 115.2,16.8 116.4,14.6 117.6,11.9 118.8,8.5 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CircEaseOut</h3> <div id="easeOutCirc" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,51.5 2.4,48.1 3.6,45.4 4.8,43.2 6.0,41.3 7.2,39.5 8.4,37.9 9.6,36.5 10.8,35.1 12.0,33.8 13.2,32.6 14.4,31.5 15.6,30.4 16.8,29.4 18.0,28.4 19.2,27.4 20.4,26.5 21.6,25.7 22.8,24.8 24.0,24.0 25.2,23.2 26.4,22.5 27.6,21.7 28.8,21.0 30.0,20.3 31.2,19.6 32.4,19.0 33.6,18.4 34.8,17.7 36.0,17.2 37.2,16.6 38.4,16.0 39.6,15.5 40.8,14.9 42.0,14.4 43.2,13.9 44.4,13.4 45.6,12.9 46.8,12.5 48.0,12.0 49.2,11.6 50.4,11.1 51.6,10.7 52.8,10.3 54.0,9.9 55.2,9.5 56.4,9.1 57.6,8.8 58.8,8.4 60.0,8.0 61.2,7.7 62.4,7.4 63.6,7.0 64.8,6.7 66.0,6.4 67.2,6.1 68.4,5.8 69.6,5.5 70.8,5.3 72.0,5.0 73.2,4.8 74.4,4.5 75.6,4.3 76.8,4.0 78.0,3.8 79.2,3.6 80.4,3.4 81.6,3.2 82.8,3.0 84.0,2.8 85.2,2.6 86.4,2.4 87.6,2.2 88.8,2.1 90.0,1.9 91.2,1.8 92.4,1.6 93.6,1.5 94.8,1.3 96.0,1.2 97.2,1.1 98.4,1.0 99.6,0.9 100.8,0.8 102.0,0.7 103.2,0.6 104.4,0.5 105.6,0.4 106.8,0.4 108.0,0.3 109.2,0.2 110.4,0.2 111.6,0.1 112.8,0.1 114.0,0.1 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>CircEaseInOut</h3> <div id="easeInOutCirc" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,59.9 4.8,59.9 6.0,59.8 7.2,59.8 8.4,59.7 9.6,59.6 10.8,59.5 12.0,59.4 13.2,59.3 14.4,59.1 15.6,59.0 16.8,58.8 18.0,58.6 19.2,58.4 20.4,58.2 21.6,58.0 22.8,57.7 24.0,57.5 25.2,57.2 26.4,56.9 27.6,56.6 28.8,56.3 30.0,56.0 31.2,55.6 32.4,55.2 33.6,54.9 34.8,54.4 36.0,54.0 37.2,53.5 38.4,53.1 39.6,52.5 40.8,52.0 42.0,51.4 43.2,50.8 44.4,50.2 45.6,49.5 46.8,48.8 48.0,48.0 49.2,47.2 50.4,46.3 51.6,45.3 52.8,44.2 54.0,43.1 55.2,41.8 56.4,40.2 57.6,38.4 58.8,36.0 60.0,30.0 61.2,24.0 62.4,21.6 63.6,19.8 64.8,18.2 66.0,16.9 67.2,15.8 68.4,14.7 69.6,13.7 70.8,12.8 72.0,12.0 73.2,11.2 74.4,10.5 75.6,9.8 76.8,9.2 78.0,8.6 79.2,8.0 80.4,7.5 81.6,6.9 82.8,6.5 84.0,6.0 85.2,5.6 86.4,5.1 87.6,4.8 88.8,4.4 90.0,4.0 91.2,3.7 92.4,3.4 93.6,3.1 94.8,2.8 96.0,2.5 97.2,2.3 98.4,2.0 99.6,1.8 100.8,1.6 102.0,1.4 103.2,1.2 104.4,1.0 105.6,0.9 106.8,0.7 108.0,0.6 109.2,0.5 110.4,0.4 111.6,0.3 112.8,0.2 114.0,0.2 115.2,0.1 116.4,0.1 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BackEaseIn</h3> <div id="easeInBack" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.1 4.8,60.2 6.0,60.2 7.2,60.3 8.4,60.4 9.6,60.6 10.8,60.7 12.0,60.9 13.2,61.0 14.4,61.2 15.6,61.4 16.8,61.6 18.0,61.8 19.2,61.9 20.4,62.2 21.6,62.4 22.8,62.6 24.0,62.8 25.2,63.0 26.4,63.2 27.6,63.4 28.8,63.6 30.0,63.8 31.2,64.1 32.4,64.3 33.6,64.4 34.8,64.6 36.0,64.8 37.2,65.0 38.4,65.1 39.6,65.3 40.8,65.4 42.0,65.6 43.2,65.7 44.4,65.8 45.6,65.8 46.8,65.9 48.0,66.0 49.2,66.0 50.4,66.0 51.6,66.0 52.8,66.0 54.0,65.9 55.2,65.8 56.4,65.7 57.6,65.6 58.8,65.4 60.0,65.3 61.2,65.1 62.4,64.8 63.6,64.5 64.8,64.2 66.0,63.9 67.2,63.6 68.4,63.2 69.6,62.7 70.8,62.2 72.0,61.7 73.2,61.2 74.4,60.6 75.6,60.0 76.8,59.3 78.0,58.6 79.2,57.9 80.4,57.1 81.6,56.2 82.8,55.4 84.0,54.4 85.2,53.5 86.4,52.4 87.6,51.3 88.8,50.2 90.0,49.0 91.2,47.8 92.4,46.5 93.6,45.2 94.8,43.8 96.0,42.3 97.2,40.8 98.4,39.3 99.6,37.6 100.8,36.0 102.0,34.2 103.2,32.4 104.4,30.5 105.6,28.6 106.8,26.6 108.0,24.5 109.2,22.4 110.4,20.2 111.6,17.9 112.8,15.6 114.0,13.2 115.2,10.7 116.4,8.1 117.6,5.5 118.8,2.8 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BackEaseOut</h3> <div id="easeOutBack" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,57.2 2.4,54.5 3.6,51.9 4.8,49.3 6.0,46.8 7.2,44.4 8.4,42.1 9.6,39.8 10.8,37.6 12.0,35.5 13.2,33.4 14.4,31.4 15.6,29.5 16.8,27.6 18.0,25.8 19.2,24.0 20.4,22.4 21.6,20.7 22.8,19.2 24.0,17.7 25.2,16.2 26.4,14.8 27.6,13.5 28.8,12.2 30.0,11.0 31.2,9.8 32.4,8.7 33.6,7.6 34.8,6.5 36.0,5.6 37.2,4.6 38.4,3.8 39.6,2.9 40.8,2.1 42.0,1.4 43.2,0.7 44.4,0.0 45.6,-0.6 46.8,-1.2 48.0,-1.7 49.2,-2.2 50.4,-2.7 51.6,-3.2 52.8,-3.6 54.0,-3.9 55.2,-4.2 56.4,-4.5 57.6,-4.8 58.8,-5.1 60.0,-5.3 61.2,-5.4 62.4,-5.6 63.6,-5.7 64.8,-5.8 66.0,-5.9 67.2,-6.0 68.4,-6.0 69.6,-6.0 70.8,-6.0 72.0,-6.0 73.2,-5.9 74.4,-5.8 75.6,-5.8 76.8,-5.7 78.0,-5.6 79.2,-5.4 80.4,-5.3 81.6,-5.1 82.8,-5.0 84.0,-4.8 85.2,-4.6 86.4,-4.4 87.6,-4.3 88.8,-4.1 90.0,-3.8 91.2,-3.6 92.4,-3.4 93.6,-3.2 94.8,-3.0 96.0,-2.8 97.2,-2.6 98.4,-2.4 99.6,-2.2 100.8,-1.9 102.0,-1.8 103.2,-1.6 104.4,-1.4 105.6,-1.2 106.8,-1.0 108.0,-0.9 109.2,-0.7 110.4,-0.6 111.6,-0.4 112.8,-0.3 114.0,-0.2 115.2,-0.2 116.4,-0.1 117.6,-0.0 118.8,-0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BackEaseInOut</h3> <div id="easeInOutBack" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.1 3.6,60.3 4.8,60.4 6.0,60.7 7.2,60.9 8.4,61.2 9.6,61.6 10.8,61.9 12.0,62.3 13.2,62.6 14.4,63.0 15.6,63.4 16.8,63.7 18.0,64.1 19.2,64.4 20.4,64.8 21.6,65.1 22.8,65.3 24.0,65.6 25.2,65.7 26.4,65.9 27.6,66.0 28.8,66.0 30.0,66.0 31.2,65.9 32.4,65.7 33.6,65.5 34.8,65.1 36.0,64.7 37.2,64.2 38.4,63.6 39.6,62.9 40.8,62.1 42.0,61.2 43.2,60.1 44.4,58.9 45.6,57.6 46.8,56.2 48.0,54.6 49.2,52.9 50.4,51.0 51.6,49.0 52.8,46.8 54.0,44.4 55.2,41.9 56.4,39.2 57.6,36.3 58.8,33.3 60.0,30.0 61.2,26.7 62.4,23.7 63.6,20.8 64.8,18.1 66.0,15.6 67.2,13.2 68.4,11.0 69.6,9.0 70.8,7.1 72.0,5.4 73.2,3.8 74.4,2.4 75.6,1.1 76.8,-0.1 78.0,-1.2 79.2,-2.1 80.4,-2.9 81.6,-3.6 82.8,-4.2 84.0,-4.7 85.2,-5.1 86.4,-5.5 87.6,-5.7 88.8,-5.9 90.0,-6.0 91.2,-6.0 92.4,-6.0 93.6,-5.9 94.8,-5.7 96.0,-5.6 97.2,-5.3 98.4,-5.1 99.6,-4.8 100.8,-4.4 102.0,-4.1 103.2,-3.7 104.4,-3.4 105.6,-3.0 106.8,-2.6 108.0,-2.3 109.2,-1.9 110.4,-1.6 111.6,-1.2 112.8,-0.9 114.0,-0.7 115.2,-0.4 116.4,-0.3 117.6,-0.1 118.8,-0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ElasticEaseIn</h3> <div id="easeInElastic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,60.0 7.2,59.9 8.4,59.9 9.6,59.9 10.8,59.9 12.0,59.9 13.2,59.9 14.4,59.9 15.6,59.9 16.8,59.9 18.0,59.9 19.2,59.9 20.4,60.0 21.6,60.0 22.8,60.1 24.0,60.1 25.2,60.2 26.4,60.2 27.6,60.3 28.8,60.3 30.0,60.3 31.2,60.3 32.4,60.3 33.6,60.3 34.8,60.3 36.0,60.2 37.2,60.2 38.4,60.1 39.6,59.9 40.8,59.8 42.0,59.7 43.2,59.5 44.4,59.4 45.6,59.3 46.8,59.1 48.0,59.1 49.2,59.0 50.4,59.0 51.6,59.1 52.8,59.2 54.0,59.3 55.2,59.6 56.4,59.8 57.6,60.2 58.8,60.5 60.0,60.9 61.2,61.3 62.4,61.7 63.6,62.1 64.8,62.4 66.0,62.7 67.2,62.8 68.4,62.8 69.6,62.6 70.8,62.3 72.0,61.9 73.2,61.2 74.4,60.5 75.6,59.5 76.8,58.5 78.0,57.3 79.2,56.2 80.4,55.1 81.6,54.0 82.8,53.2 84.0,52.5 85.2,52.1 86.4,52.1 87.6,52.5 88.8,53.4 90.0,54.7 91.2,56.5 92.4,58.7 93.6,61.4 94.8,64.3 96.0,67.5 97.2,70.8 98.4,73.9 99.6,76.9 100.8,79.4 102.0,81.2 103.2,82.2 104.4,82.3 105.6,81.1 106.8,78.7 108.0,75.0 109.2,69.9 110.4,63.6 111.6,56.1 112.8,47.8 114.0,38.8 115.2,29.6 116.4,20.6 117.6,12.3 118.8,5.2 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ElasticEaseOut</h3> <div id="easeOutElastic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,54.8 2.4,47.7 3.6,39.4 4.8,30.4 6.0,21.2 7.2,12.2 8.4,3.9 9.6,-3.6 10.8,-9.9 12.0,-15.0 13.2,-18.7 14.4,-21.1 15.6,-22.3 16.8,-22.2 18.0,-21.2 19.2,-19.4 20.4,-16.9 21.6,-13.9 22.8,-10.8 24.0,-7.5 25.2,-4.3 26.4,-1.4 27.6,1.3 28.8,3.5 30.0,5.3 31.2,6.6 32.4,7.5 33.6,7.9 34.8,7.9 36.0,7.5 37.2,6.8 38.4,6.0 39.6,4.9 40.8,3.8 42.0,2.7 43.2,1.5 44.4,0.5 45.6,-0.5 46.8,-1.2 48.0,-1.9 49.2,-2.3 50.4,-2.6 51.6,-2.8 52.8,-2.8 54.0,-2.7 55.2,-2.4 56.4,-2.1 57.6,-1.7 58.8,-1.3 60.0,-0.9 61.2,-0.5 62.4,-0.2 63.6,0.2 64.8,0.4 66.0,0.7 67.2,0.8 68.4,0.9 69.6,1.0 70.8,1.0 72.0,0.9 73.2,0.9 74.4,0.7 75.6,0.6 76.8,0.5 78.0,0.3 79.2,0.2 80.4,0.1 81.6,-0.1 82.8,-0.2 84.0,-0.2 85.2,-0.3 86.4,-0.3 87.6,-0.3 88.8,-0.3 90.0,-0.3 91.2,-0.3 92.4,-0.3 93.6,-0.2 94.8,-0.2 96.0,-0.1 97.2,-0.1 98.4,-0.0 99.6,0.0 100.8,0.1 102.0,0.1 103.2,0.1 104.4,0.1 105.6,0.1 106.8,0.1 108.0,0.1 109.2,0.1 110.4,0.1 111.6,0.1 112.8,0.1 114.0,0.0 115.2,0.0 116.4,0.0 117.6,-0.0 118.8,-0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>ElasticEaseInOut</h3> <div id="easeInOutElastic" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,60.0 3.6,60.0 4.8,60.0 6.0,59.9 7.2,59.9 8.4,59.9 9.6,59.9 10.8,60.0 12.0,60.0 13.2,60.0 14.4,60.1 15.6,60.1 16.8,60.2 18.0,60.2 19.2,60.3 20.4,60.3 21.6,60.3 22.8,60.3 24.0,60.2 25.2,60.1 26.4,60.0 27.6,59.8 28.8,59.5 30.0,59.3 31.2,59.0 32.4,58.8 33.6,58.6 34.8,58.5 36.0,58.6 37.2,58.8 38.4,59.2 39.6,59.9 40.8,60.8 42.0,61.9 43.2,63.1 44.4,64.4 45.6,65.6 46.8,66.5 48.0,67.0 49.2,67.0 50.4,66.1 51.6,64.3 52.8,61.4 54.0,57.4 55.2,52.4 56.4,46.8 57.6,40.7 58.8,34.9 60.0,30.0 61.2,25.1 62.4,19.3 63.6,13.2 64.8,7.6 66.0,2.6 67.2,-1.4 68.4,-4.3 69.6,-6.1 70.8,-7.0 72.0,-7.0 73.2,-6.5 74.4,-5.6 75.6,-4.4 76.8,-3.1 78.0,-1.9 79.2,-0.8 80.4,0.1 81.6,0.8 82.8,1.2 84.0,1.4 85.2,1.5 86.4,1.4 87.6,1.2 88.8,1.0 90.0,0.7 91.2,0.5 92.4,0.2 93.6,0.0 94.8,-0.1 96.0,-0.2 97.2,-0.3 98.4,-0.3 99.6,-0.3 100.8,-0.3 102.0,-0.2 103.2,-0.2 104.4,-0.1 105.6,-0.1 106.8,-0.0 108.0,0.0 109.2,0.0 110.4,0.1 111.6,0.1 112.8,0.1 114.0,0.1 115.2,0.0 116.4,0.0 117.6,0.0 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div></div> <div class="easing-group" data-v-2dd64f76><div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BounceEaseIn</h3> <div id="easeInBounce" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,59.6 2.4,59.4 3.6,59.2 4.8,59.1 6.0,59.1 7.2,59.2 8.4,59.3 9.6,59.6 10.8,60.0 12.0,59.3 13.2,58.6 14.4,58.0 15.6,57.5 16.8,57.0 18.0,56.7 19.2,56.5 20.4,56.3 21.6,56.3 22.8,56.3 24.0,56.4 25.2,56.6 26.4,56.9 27.6,57.3 28.8,57.8 30.0,58.4 31.2,59.0 32.4,59.8 33.6,58.8 34.8,57.3 36.0,55.8 37.2,54.5 38.4,53.2 39.6,52.0 40.8,51.0 42.0,50.0 43.2,49.1 44.4,48.2 45.6,47.5 46.8,46.9 48.0,46.3 49.2,45.9 50.4,45.5 51.6,45.3 52.8,45.1 54.0,45.0 55.2,45.0 56.4,45.1 57.6,45.3 58.8,45.6 60.0,45.9 61.2,46.4 62.4,46.9 63.6,47.6 64.8,48.3 66.0,49.1 67.2,50.0 68.4,51.0 69.6,52.1 70.8,53.3 72.0,54.6 73.2,56.0 74.4,57.4 75.6,59.0 76.8,58.8 78.0,55.6 79.2,52.5 80.4,49.4 81.6,46.5 82.8,43.6 84.0,40.8 85.2,38.2 86.4,35.6 87.6,33.1 88.8,30.7 90.0,28.4 91.2,26.1 92.4,24.0 93.6,22.0 94.8,20.0 96.0,18.1 97.2,16.4 98.4,14.7 99.6,13.1 100.8,11.6 102.0,10.2 103.2,8.9 104.4,7.7 105.6,6.5 106.8,5.5 108.0,4.5 109.2,3.7 110.4,2.9 111.6,2.2 112.8,1.6 114.0,1.1 115.2,0.7 116.4,0.4 117.6,0.2 118.8,0.0 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BounceEaseOut</h3> <div id="easeOutBounce" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,60.0 2.4,59.8 3.6,59.6 4.8,59.3 6.0,58.9 7.2,58.4 8.4,57.8 9.6,57.1 10.8,56.3 12.0,55.5 13.2,54.5 14.4,53.5 15.6,52.3 16.8,51.1 18.0,49.8 19.2,48.4 20.4,46.9 21.6,45.3 22.8,43.6 24.0,41.8 25.2,40.0 26.4,38.0 27.6,36.0 28.8,33.9 30.0,31.6 31.2,29.3 32.4,26.9 33.6,24.4 34.8,21.8 36.0,19.2 37.2,16.4 38.4,13.5 39.6,10.6 40.8,7.5 42.0,4.4 43.2,1.2 44.4,1.0 45.6,2.6 46.8,4.0 48.0,5.4 49.2,6.7 50.4,7.9 51.6,9.0 52.8,10.0 54.0,10.9 55.2,11.7 56.4,12.4 57.6,13.1 58.8,13.6 60.0,14.1 61.2,14.4 62.4,14.7 63.6,14.9 64.8,15.0 66.0,15.0 67.2,14.9 68.4,14.7 69.6,14.5 70.8,14.1 72.0,13.7 73.2,13.1 74.4,12.5 75.6,11.8 76.8,10.9 78.0,10.0 79.2,9.0 80.4,8.0 81.6,6.8 82.8,5.5 84.0,4.2 85.2,2.7 86.4,1.2 87.6,0.2 88.8,1.0 90.0,1.6 91.2,2.2 92.4,2.7 93.6,3.1 94.8,3.4 96.0,3.6 97.2,3.7 98.4,3.7 99.6,3.7 100.8,3.5 102.0,3.3 103.2,3.0 104.4,2.5 105.6,2.0 106.8,1.4 108.0,0.7 109.2,0.0 110.4,0.4 111.6,0.7 112.8,0.8 114.0,0.9 115.2,0.9 116.4,0.8 117.6,0.6 118.8,0.4 120.0,0.0" data-v-2dd64f76></path></svg></div> <div class="easing" data-v-2dd64f76><h3 class="easing-title" data-v-2dd64f76>BounceEaseInOut</h3> <div id="easeInOutBounce" class="example" data-v-2dd64f76><svg width="21px" height="12px" data-v-2dd64f76><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-2dd64f76><polygon fill="url(#linearGradient-1)" points="5.38105681 0 20.5244141 0 20.5244141 12 5.38105681 12 0.524414062 6" data-v-2dd64f76></polygon></g></svg></div> <svg viewBox="-2 -40 124 140" width="124" height="140" data-v-2dd64f76><line x1="0" x2="120" y1="0" y2="0" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <line x1="0" x2="120" y1="60" y2="60" stroke="#bbb" stroke-width="1" data-v-2dd64f76></line> <path fill="transparent" stroke="#000" stroke-width="2" d="M0,60 L1.2,59.7 2.4,59.5 3.6,59.6 4.8,59.8 6.0,59.6 7.2,59.0 8.4,58.5 9.6,58.2 10.8,58.1 12.0,58.2 13.2,58.5 14.4,58.9 15.6,59.5 16.8,59.4 18.0,57.9 19.2,56.6 20.4,55.5 21.6,54.5 22.8,53.8 24.0,53.2 25.2,52.8 26.4,52.5 27.6,52.5 28.8,52.6 30.0,53.0 31.2,53.5 32.4,54.2 33.6,55.0 34.8,56.1 36.0,57.3 37.2,58.7 38.4,59.4 39.6,56.2 40.8,53.2 42.0,50.4 43.2,47.8 44.4,45.3 45.6,43.1 46.8,41.0 48.0,39.1 49.2,37.4 50.4,35.8 51.6,34.4 52.8,33.3 54.0,32.3 55.2,31.5 56.4,30.8 57.6,30.4 58.8,30.1 60.0,30.0 61.2,29.9 62.4,29.6 63.6,29.2 64.8,28.5 66.0,27.7 67.2,26.7 68.4,25.6 69.6,24.2 70.8,22.6 72.0,20.9 73.2,19.0 74.4,16.9 75.6,14.7 76.8,12.2 78.0,9.6 79.2,6.8 80.4,3.8 81.6,0.6 82.8,1.3 84.0,2.7 85.2,3.9 86.4,5.0 87.6,5.8 88.8,6.5 90.0,7.0 91.2,7.4 92.4,7.5 93.6,7.5 94.8,7.2 96.0,6.8 97.2,6.2 98.4,5.5 99.6,4.5 100.8,3.4 102.0,2.1 103.2,0.6 104.4,0.5 105.6,1.1 106.8,1.5 108.0,1.8 109.2,1.9 110.4,1.8 111.6,1.5 112.8,1.0 114.0,0.4 115.2,0.2 116.4,0.4 117.6,0.5 118.8,0.3 120.0,0.0" data-v-2dd64f76></path></svg></div></div></div> <br> <p><a href="/docs/blog/easy.html"><font color="#0055ff"><strong>具体点击查看:缓动函数速查表</strong></font></a></p> <ul><li>BackEase 可以带 1 个参数,overshot</li> <li>ElasticEase 可以带 2 个参数,priod 和 amplitude</li> <li>参数为常数,比如 BackEaseIn(1.5) ElasticEase(2,3)</li></ul> <ol start="2"><li>用 easeExp 来填表达式的方式,引用一个内置变量 #__ratio ,可以自定义缓动函数</li></ol> <ul><li>比如 easeType=&quot;QuadEaseIn&quot; 也可以用 <code>easeExp=&quot;#__ratio*#__ratio&quot;</code> 来实现</li> <li>当有 easeExp 时,easeType 不起作用</li> <li>属性作用于从该帧到下一帧,最后一帧没用</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>easeAni<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__ratio*#__ratio<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="命令汇总"><a href="#命令汇总" class="header-anchor">#</a> 命令汇总</h2> <p><strong>示例:</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 控制对应name元素可见性 如控制name为test_a元素可见性的两种方式 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true/false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_a.visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true/false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 控制对应name播放动画 如控制name为test_b元素播放动画的两种方式 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_b.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 变量赋值,将name为test1的变量赋值为0,注意变量类型, --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 播放声音文件 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SoundCommand</span> <span class="token attr-name">sound</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>famous.wav<span class="token punctuation">&quot;</span></span> <span class="token attr-name">volume</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepCur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 关闭系统充电动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableChargeAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 开启系统充电动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableChargeAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 关闭屏下指纹 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFod<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 开启屏下指纹 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFod<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 关闭指纹识别动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFodAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 开启指纹识别动画 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFodAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 解锁 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="可见性命令"><a href="#可见性命令" class="header-anchor">#</a> <strong>可见性命令</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_a.visibility<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>(注意:上面只不过是两种不同的写法,效果一样)</p> <table><thead><tr><th style="text-align:left;">代码</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">Command</td> <td style="text-align:left;">基础命令,可以通过对象名和对象的属性来控制界面里的其他元素。通常控制的是元素的可见性(visibility)和动画播放(animation)。</td></tr> <tr><td style="text-align:left;">target</td> <td style="text-align:left;">控制目标名</td></tr> <tr><td style="text-align:left;">property</td> <td style="text-align:left;">属性名,目前支持:visibility</td></tr> <tr><td style="text-align:left;">value</td> <td style="text-align:left;">属性值,目前针对 boolean 有: true, false, toggle</td></tr></tbody></table> <h3 id="动画命令"><a href="#动画命令" class="header-anchor">#</a> <strong>动画命令</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_c.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test_c<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>上面两行是播放动画的两种写法,效果一样！</p> <h3 id="声音命令"><a href="#声音命令" class="header-anchor">#</a> <strong>声音命令</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SoundCommand</span> <span class="token attr-name">sound</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>famous.wav<span class="token punctuation">&quot;</span></span> <span class="token attr-name">volume</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepCur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">代码</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">sound</td> <td style="text-align:left;">填声音文件路径名</td></tr> <tr><td style="text-align:left;">volume</td> <td style="text-align:left;">声音大小,0 - 1 的一个浮点数</td></tr> <tr><td style="text-align:left;">loop</td> <td style="text-align:left;">是否循环播放,true/false,默认是 false.</td></tr> <tr><td style="text-align:left;">keepCur</td> <td style="text-align:left;">播放此音频时,是否保持当前正在播放的声音,true/false,默认 false</td></tr></tbody></table> <blockquote><p>注意:声音文件的大小要求不超过 500kB,时长不超过 10 秒(10 秒之后的声音播放不出来)。</p></blockquote> <h3 id="变量命令"><a href="#变量命令" class="header-anchor">#</a> <strong>变量命令</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--VariableCommand:用来控制变量(Var)的值--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#switch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">代码</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">name</td> <td style="text-align:left;">变量名</td></tr> <tr><td style="text-align:left;">expression</td> <td style="text-align:left;">赋值表达式</td></tr> <tr><td style="text-align:left;">condition</td> <td style="text-align:left;">条件判断,支持表达式。当 condition 里的条件判断为真时,执行命令;为假时,不执行。</td></tr> <tr><td style="text-align:left;">delay</td> <td style="text-align:left;">延迟,以毫秒记。读取该命令后延迟一段时间再执行</td></tr> <tr><td style="text-align:left;">delayCondition</td> <td style="text-align:left;">是延时判断,在 delay 的时间之后再进行判断</td></tr></tbody></table> <h3 id="通用命令"><a href="#通用命令" class="header-anchor">#</a> <strong>通用命令</strong></h3> <br> <p>1.ExternCommand:用来向外部程序发送命令
<code>&lt;ExternCommand command=&quot;命令名&quot; numPara=&quot;参数1,数字表达式&quot; strPara=&quot;参数2,字符串表达式&quot;/&gt;</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 解锁命令,100 毫秒后解锁 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 清理缓存 帧动画播放结束后执行可释放内存 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__clearResource<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>2.ExternalCommand
与 ExternCommand 相对,是用来接收外部命令的命令,典型的用法:在锁屏中,通常用来接收开屏/关屏命令,从而执行一些命令;在桌面插件中,用来检测切屏从而执行命令</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--resume 开屏时执行的命令,pause 关屏时执行的命令--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time_sys<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--桌面插件切屏时使用的示例--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__root.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__root.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="打开程序"><a href="#打开程序" class="header-anchor">#</a> <strong>打开程序</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.thememanager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.thememanager.ThemeResourceTabActivity<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><blockquote><p>要记得加上解锁命令,否则只是在后台打开了,还要解锁才能看到。</p></blockquote> <p>不解锁打开手电筒:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 使用2张切图通过#lightSwitch引用可展模拟开与关的状态,切图命名为:flashlight_0.png,flashlight_1.png --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flashlight.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#lightSwitch<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lightSwitch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!(#lightSwitch)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.intent.action.TOGGLE_TORCH<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.intent.extra.IS_ENABLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(int(@__miui_version_code)}=8,#lightSwitch,1)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>常用的几个系统开关写法</strong></p> <p>1.蓝牙<code>value=&quot;on&quot; value=&quot;off&quot;</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Bluetooth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>2.数据<code>value=&quot;on&quot; value=&quot;off&quot;</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>3.正常/静音/振动 (3 种状态切换)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--下面和上面同样效果--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>normal,silent,vibrate<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--仅正常和静音切换--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>normal,silent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--仅正常和振动切换--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>normal,vibrate<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--仅切换到静音,用其他button切换到其他状态--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>silent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>4.Wifi (toggle/on/off)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Wifi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">名词</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">bluetooth_state</td> <td style="text-align:left;">蓝牙状态</td> <td style="text-align:left;">0 关,1 开,2 连接中</td></tr> <tr><td style="text-align:left;">data_state</td> <td style="text-align:left;">数据状态</td> <td style="text-align:left;">0 关,1 开</td></tr> <tr><td style="text-align:left;">ring_mode</td> <td style="text-align:left;">声音模式</td> <td style="text-align:left;">0 静音,1 振动,2 正常</td></tr> <tr><td style="text-align:left;">wifi_state</td> <td style="text-align:left;">wifi 状态</td> <td style="text-align:left;">0 禁用,1 启用,2 问题,3 连接中</td></tr></tbody></table> <p>注意:上面四个开关的状态变量必须有相应的按钮才会正常显示</p> <p><strong>实例</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 4个系统常用开关 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">nmame</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle_four<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 1 正常/静音开关;切图为:ring_0.png、ring_1.png --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>94<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle/ring.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#ring_mode==2,0,1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>94<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RingMode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>normal,silent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 2 蓝牙开关;切图为:bluetooth_0.png、bluetooth_1.png --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>332<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle/bluetooth.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#bluetooth_state!=0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>332<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Bluetooth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 3 wifi开关;切图为:wifi_0.png、wifi_1.png --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>570<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle/wifi.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#wifi_state!=0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>570<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Wifi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 4 数据开关;切图为:data_0.png、data_1.png --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>808<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle/data.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#data_state<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>808<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>178<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>示例附件:<a href="https://ts.market.mi-img.com/download/ThemeMarket/0c1d1471e3e1913a737e5620823bee6e68f425aa2" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>常用开关示例 lock915.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="充电动画"><a href="#充电动画" class="header-anchor">#</a> 充电动画</h3> <p>随着手机充电方式的强大,快充、超级快充、无线充电、有线充电,各种效果的添加,大家是不是也希望主题可以做到各种效果呢？<strong>(参数仅在 MIUI11 开发版之后的版本支持,跨版本时请注意兼容性)</strong></p> <ul><li><strong>锁屏支持 显示/关闭 进入充电状态时刻的默认充电动画</strong></li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">disableChargeAnim</td> <td style="text-align:left;">0 显示,1 不显示(默认为 0)</td></tr></tbody></table> <p>示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 关闭系统充电动画 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableChargeAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 开启系统充电动画 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableChargeAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li><strong>获取充电状态</strong></li></ul> <div class="language- extra-class"><pre class="language-text"><code>#ChargeSpeed            0 普通充电, 1 快充, 2 超级快充,3 极速秒充(120w±)
#ChargeWireState        11 有线充电, 10 无线充电, -1 未充电
</code></pre></div><br> <h3 id="屏下指纹"><a href="#屏下指纹" class="header-anchor">#</a> 屏下指纹</h3> <p>目前部分小米手机已支持屏下指纹功能,屏下指纹开启时,可能会影响百变锁屏上的内容展示或带来较差的用户体验。<br>为此,百变锁屏支持关闭屏下指纹功能。<br><strong>注意</strong>⚠️:仅支持产生必要交互时关闭指纹功能(如 锁屏进入相机、进入负一屏时、进入锁屏游戏等情况),<br><strong>禁止默认非交互场景下关闭指纹功能</strong>。</p> <p>锁屏默认的状态时 开启屏下指纹功能,每次解锁后锁屏会重置这个状态,所以每次加载锁屏后如果要关掉功能均需下发命令给锁屏。</p> <br> <p><strong>控制屏下指纹功能和动画是否开启(关闭功能指纹图标会消失)</strong></p> <table><thead><tr><th style="text-align:left;">ExternCommand 命令</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">参数</th></tr></thead> <tbody><tr><td style="text-align:left;">disableFod</td> <td style="text-align:left;">指纹开关</td> <td style="text-align:left;">0开启;1关闭</td></tr> <tr><td style="text-align:left;">disableFodAnim</td> <td style="text-align:left;">指纹识别动画开关</td> <td style="text-align:left;">0开启;1关闭</td></tr></tbody></table> <p><strong>示例:</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 关闭屏下指纹 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFod<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 关闭指纹识别动画 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFodAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 开启屏下指纹 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFod<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 开启指纹识别动画 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disableFodAnim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">numPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>新增 指纹相关全局变量</strong></p> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">fod_enable</td> <td style="text-align:left;">系统是否启用了屏下指纹:0 关闭, 1 开启</td></tr> <tr><td style="text-align:left;">fod_x</td> <td style="text-align:left;">指纹区域 x 坐标</td></tr> <tr><td style="text-align:left;">fod_y</td> <td style="text-align:left;">指纹区域 y 坐标</td></tr> <tr><td style="text-align:left;">fod_width</td> <td style="text-align:left;">指纹区域 宽度</td></tr> <tr><td style="text-align:left;">fod_height</td> <td style="text-align:left;">指纹区域 高度</td></tr> <tr><td style="text-align:left;">fod_state_msg</td> <td style="text-align:left;">指纹状态:1 手指按下,2 手指抬起,3 识别失败,4 识别成功</td></tr></tbody></table> <p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/fingerprint.mtz" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>演示 demo.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> 



<!-- ====== Section ====== -->
<h2 id="控件用法"><a href="#控件用法" class="header-anchor">#</a> 控件用法</h2> <h3 id="__Button">按钮</h3> <p>Trigger 在按钮、Unlocker、Slider、命令组调用中的用法基本一样,但各控件有它们各自的特性和各条件下命令的不同用法,这里给大家详细讲下</p> <h3 id="按钮"><a href="#按钮" class="header-anchor">#</a> 按钮</h3> <p>按钮元素可以用来接收 点击、按下、双击、移动 等事件,并可根据 trigger 的定义来控制界面上其他元素</p> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">x, y, w, h</td> <td style="text-align:left;">指定坐标、区域大小</td></tr> <tr><td style="text-align:left;">haptic</td> <td style="text-align:left;">haptic=&quot;true&quot;时振动 ,前提是用户没有在系统设置中关闭</td></tr> <tr><td style="text-align:left;">alignChildren</td> <td style="text-align:left;">true/false,默认为 false,当为 true 时,内部元素按绝对坐标排布,反之是相对坐标</td></tr> <tr><td style="text-align:left;">action</td> <td style="text-align:left;">down (按下);move(移动); up (抬起);double (双击)</td></tr> <tr><td style="text-align:left;">interceptTouch</td> <td style="text-align:left;">是否截获以后的触摸事件,避免被其他 View 捕获,例如在自由桌面 widget 中可以防止在 widget 上进行触摸操作时桌面滚动和进入编辑模式</td></tr> <tr><td style="text-align:left;">Normal</td> <td style="text-align:left;">正常状态,所包含的元素只有在此状态下显示</td></tr> <tr><td style="text-align:left;">Pressed</td> <td style="text-align:left;">按下状态,所包含的元素只有在此状态下显示</td></tr></tbody></table> <div class="language-xml extra-class"><pre class="language-xml"><code>注意:
    1.按钮中trigger被triggers包含
    2.Button中 Image等各元素的坐标和Button自己的坐标是独立的,都是相对于Button的父元素。
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">interceptTouch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>double<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>打开应用程序</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeChatButton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>182<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>182<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 正常显示状态 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这里写 正常显示的元素,比如图片、文字等 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 按下显示状态 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这里写 按下显示的元素,比如图片、文字等 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 执行解锁命令;要记得加上解锁命令,否则只是在后台打开了,还要解锁才能看到 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 根据 action &amp; package(包名) &amp; class(类名) 启动 应用程序 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.ui.LauncherUI<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>【condition:条件】;满足 condition 条件时,执行 command,command=&quot;unlock&quot; 解锁命令</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--down (按下);move(移动); up (抬起);double (双击)--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--condition;当 #touch_begin_y-#touch_y 大于等于 300 时,解锁--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_begin_y-#touch_y }= 300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>用 Button 来做一个上滑手势,并解锁</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--解锁文字提示--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-100-#unlockMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>向上滑动解锁<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--解锁相关 变量、动画、按钮--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--实时变量--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#unlockDown==1,max(#touch_begin_y-#touch_y,0),max(#touch_begin_y-#touch_y,0) { 300,max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--动画--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockBack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BounceEaseOut<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--解锁按钮--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Command</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlockBack.animation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--condition 执行条件,当 max(#touch_begin_y-#touch_y,0) 大于等于 300px 时 unlock--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max(#-#touch_y,0) }= 300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>unlockMove  数值变量;
unlockBack  动画变量,播放时,值从 0-1 ;
Button      按钮的大小,通过 condition(条件) 来判断是否解锁 。
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code>down 时 unlockDown 等于 1,up,cancel 时 unlockDown 等于 0

从 unlockMove 开始解释,别被变量吓到了,简化之后实际是这样的 ifelse(x0,y0,x1,y1,0)

unlockDown==1 时, unlockMove 值等于 max(#touch_begin_y-#touch_y,0),
#touch_begin_y 减去 #touch_y 等于滑动距离,
max(#touch_begin_y-#touch_y,0) 小于 300 时,unlockMove 值等于max(#touch_begin_y-#touch_y,0)*(1-#unlockBack),否则结果为 0

按钮执行的命令
1.down 时 unlockDown 等于 1,up,cancel 时 unlockDown 等于 0
2.播放动画 unlockBack.animation
3.condition;当 max(#touch_begin_y-#touch_y,0) 大于等于 300 时,解锁
</code></pre></div><blockquote><p>注意:</p> <ul><li>按钮中 trigger 被 triggers 包含</li> <li>当定义 alignChildren=&quot;true&quot; 时,Button 内的元素坐标都是基于按钮的坐标来计算;否则坐标均是独立计算</li> <li><code>&lt;ExternCommand command=&quot;unlock&quot; /&gt;</code> 解锁命令;要记得加上,否则只是在后台打开了</li></ul></blockquote> <h3 id="滑动"><a href="#滑动" class="header-anchor">#</a> 滑动</h3> <h4 id="Unlocker_Slider">Unlocker,Slider</h4> <p><a href="https://zhuti.designer.xiaomi.com/docs/blog/introduction.html#%E9%94%81%E5%B1%8F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>请先看《百变锁屏入门》－解锁 Unlocker</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
Unlocker 与 Slider 的用法是一样的,都是通过滑动来激活某些操作,只不过 Unlocker 能直接解锁。</p> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">StartPoint</td> <td style="text-align:left;">起始点</td></tr> <tr><td style="text-align:left;">EndPoint</td> <td style="text-align:left;">目标点</td></tr> <tr><td style="text-align:left;">haptic</td> <td style="text-align:left;">haptic=&quot;true&quot;时振动 ,前提是用户没有在系统设置中关闭</td></tr> <tr><td style="text-align:left;">alignChildren</td> <td style="text-align:left;">true/false,为 true 时,内部元素按绝对坐标排布</td></tr> <tr><td style="text-align:left;">bounceInitSpeed(旧方案)</td> <td style="text-align:left;">回弹动画初始速度(距离单位为像素,时间单位为秒),支持表达式</td></tr> <tr><td style="text-align:left;">bounceAcceleration(旧方案)</td> <td style="text-align:left;">回弹动画加速度(距离单位为像素,时间单位为秒),支持表达式</td></tr> <tr><td style="text-align:left;">easeType=“”或 easeExp=“” (新方案)</td> <td style="text-align:left;">缓动类型;可查看:<a href="#%E7%BC%93%E5%8A%A8%E5%87%BD%E6%95%B0"><font color="#0055ff"><strong>缓动函数</strong></font></a></td></tr> <tr><td style="text-align:left;">easeTime=“”(新方案)</td> <td style="text-align:left;">缓动时间</td></tr> <tr><td style="text-align:left;">alwaysShow</td> <td style="text-align:left;">true/false&quot; 默认是 false,当一个 Slider 可见时,其他 Slider 消失。</td></tr> <tr><td style="text-align:left;">normalSound(StartPoint 下)</td> <td style="text-align:left;">指定在 normal 状态播放的音效</td></tr> <tr><td style="text-align:left;">pressedSound(StartPoint 下)</td> <td style="text-align:left;">指定在 press 状态播放的音效</td></tr> <tr><td style="text-align:left;">reachedSound(EndPoint 下)</td> <td style="text-align:left;">到达该 endpoint 后播放的音效</td></tr> <tr><td style="text-align:left;">NormalState</td> <td style="text-align:left;">正常状态</td></tr> <tr><td style="text-align:left;">PressedState</td> <td style="text-align:left;">按下状态</td></tr> <tr><td style="text-align:left;">ReachedState</td> <td style="text-align:left;">激活状态</td></tr></tbody></table> <blockquote><p>注意:</p> <ul><li>Unlocker 与 Slider 都有三种状态(NormalState、PressedState、ReachedState),都可以包含任意界面元素,如 Image Text 等,也可以不指定,相关元素在该状态下才显示</li> <li>示例中,起始点(StartPoint)和目标点(EndPoint)它们都可以包含 NormalState、PressedState、ReachedState 三个状态,但是在起始点(StartPoint)中的按下状态(PressedState)包含的元素会随你手指移动</li></ul></blockquote> <p>示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Slider</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slider<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StartPoint</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>320<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>QuadEaseOut<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeTime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NormalState</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>31<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-117<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock_button.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NormalState</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Trigger Slider的状态切换时,支持Trigger触发 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PressedState</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>640<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>240<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>640<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#FE9D01<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>小米主题<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PressedState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ReachedState</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SoundCommand</span> <span class="token attr-name">sound</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reached.mp3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">volume</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ReachedState</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StartPoint</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EndPoint</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>359<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-117<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>90<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>90<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Path</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-117<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>31<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Position</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>359<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Path</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NormalState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NormalState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PressedState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PressedState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ReachedState</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ReachedState</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EndPoint</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Slider</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="音乐播放器"><a href="#音乐播放器" class="header-anchor">#</a> 音乐播放器</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MusicControl</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autoShow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defAlbumCover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/default_bg.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enableLyric</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">updateLyricInterval</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 音乐窗口背景 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/music_bg.9.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 专辑图 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">layered</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_album_cover<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>226<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/music_bg.9.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xfermode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dst_in<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 歌曲名、歌手名、播放时间 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>296<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>61<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>674<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strIsEmpty(@music_control.title),'暂无音乐',@music_control.title)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>39<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>296<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>117<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>350<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strIsEmpty(@music_control.artist),'--',@music_control.artist)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>296<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>169<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>350<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strIsEmpty(@music_control.title),'--:--/--:--',formatDate('mm:ss / ',#music_control.music_position)+formatDate('mm:ss',#music_control.music_duration))<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>33<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 上一曲、播放、暂停、下一曲 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_prev<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width - 308<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>76<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/prev.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/prev.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width - 188<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>76<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/play.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/play.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_pause<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width - 188<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>76<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/pause.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/pause.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music_next<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width - 68<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>76<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/next.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>75<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music/next.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MusicControl</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>示例:<a href="http://f1.market.xiaomi.com/download/ThemeMarket/0ce0f54096bd792aa07faefa26c00926844438c84" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>音乐播放器 示例 lock915.mtz</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">autoShow</td> <td style="text-align:left;">是否根据系统播放音乐自动展现和关闭音乐组件</td></tr> <tr><td style="text-align:left;">defAlbumCover</td> <td style="text-align:left;">指定默认专辑图片,填路径文件名</td></tr> <tr><td style="text-align:left;">enableLyric</td> <td style="text-align:left;">true/false,是否开启歌词支持。开启歌词后会有一定性能的损失,不需要歌词的时候不要打开</td></tr> <tr><td style="text-align:left;">updateLyricInterval</td> <td style="text-align:left;">音乐信息的更新间隔。间隔越小,更新越及时,但带来的性能损失也越大,适当将间隔设小</td></tr> <tr><td style="text-align:left;">music_album_cover</td> <td style="text-align:left;">专辑图</td></tr> <tr><td style="text-align:left;">clip</td> <td style="text-align:left;">Group 内的元素只显示 w h 规定的区域,超出部份切除</td></tr> <tr><td style="text-align:left;">musicName.title</td> <td style="text-align:left;">歌曲名称;获取 <code>name=&quot;musicName&quot;</code> 标题文本</td></tr> <tr><td style="text-align:left;">musicName.artist</td> <td style="text-align:left;">歌手名称;获取 <code>name=&quot;musicName&quot;</code> 专辑文本</td></tr> <tr><td style="text-align:left;">musicName.album</td> <td style="text-align:left;">专辑名称;ps:专辑名可能会无数据</td></tr> <tr><td style="text-align:left;">musicName.lyric_before</td> <td style="text-align:left;">已播放的歌词</td></tr> <tr><td style="text-align:left;">musicName.lyric_after</td> <td style="text-align:left;">未播放的歌词</td></tr> <tr><td style="text-align:left;">musicName.lyric_last</td> <td style="text-align:left;">上一句歌词</td></tr> <tr><td style="text-align:left;">musicName.lyric_current</td> <td style="text-align:left;">正在播放的歌词</td></tr> <tr><td style="text-align:left;">musicName.lyric_next</td> <td style="text-align:left;">下一句歌词</td></tr> <tr><td style="text-align:left;">musicName.lyric_current_line_progress</td> <td style="text-align:left;">当前行歌词的行内播放进度,浮点数 0 ~ 1.0</td></tr> <tr><td style="text-align:left;">musicName.music_duration</td> <td style="text-align:left;">歌曲长度,单位 ms</td></tr> <tr><td style="text-align:left;">musicName.music_position</td> <td style="text-align:left;">歌曲当前播放位置,单位 ms</td></tr> <tr><td style="text-align:left;">musicName.package</td> <td style="text-align:left;">当前播放的音乐应用包名</td></tr> <tr><td style="text-align:left;">musicName.class</td> <td style="text-align:left;">当前播放的音乐应用类名</td></tr></tbody></table> <p>要点:</p> <ul><li><p>在从未开始播放音乐前,歌曲信息无法获取到,可以为 歌曲、歌手、专辑、时间 等文本写一个为空时判断,以显示无数据状态下的信息。示例:<code>ifelse(strIsEmpty(@musicName.title),'暂无音乐',@musicName.title)</code>;当<code>strIsEmpty(@musicName.title)==1</code> 时,显示 '暂无音乐',否则显示 @music.title</p></li> <li><p>音乐播放时长和总时长,可以用 DateTime 标签来写,示例:</p></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mm:ss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#musicName.music_position<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>专辑图为一张比例为 1:1 的图,可以用 <a href="#%E5%9B%BE%E7%89%87%E6%B7%B7%E5%90%88"><font color="#0055ff"><strong>图片混合</strong></font></a> 方式做成任意形状;比如:矩形圆角、圆盘;也可以给专辑图加上旋转,可以使专辑图在播放音乐时有旋转效果。</li></ul> <br> 



<!-- ====== Section ====== -->
<h2 id="日历"><a href="#日历" class="header-anchor">#</a> <strong>日历</strong></h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- layer对内部刷新不高的元素有着非常大的优化作用,但有一点要注意:它会自动移至当前界面图层的最上方 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>560<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>560<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 每月的第一天在日历表第一排的位置 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dw0_1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(7-(#date-#day_of_week)%7)%7+1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 闰年么？ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leap_year<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eq((#year%4),0)*ne((#year%100),0)+eq((#year%400),0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 这个月有多少天 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max_date<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28+ne(#leap_year+ne(#month+1,2),0)+ne((#month+1),2)+ne(#month,1)*ne(#month,3)*ne(#month,5)*ne(#month,8)*ne(#month,10)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fde<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__i<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>substr('日一二三四五六',#__i,1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20+#__i%7*80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lt(#__i,7)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i%7*80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/7)*80+70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>79<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>79<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>argb(55,255,255,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i-#dw0_1+2)!=#date<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 当天背景 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i%7*80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/7)*80+70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>79<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>79<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>argb(255,50,177,105)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i-#dw0_1+2)==#date<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time_sys+(#__i+2-#date-#dw0_1)*86400000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40+#__i%7*80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/7)*80+70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(120+135*eq(#__i-#dw0_1+2,#date))<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i-#dw0_1+2)*le(int(#__i-#dw0_1+2),#max_date)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 农历 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DateTime</span> <span class="token attr-name">formatExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(eqs(formatDate('e',#time_sys+(#__i+2-#date-#dw0_1)*86400000),'初一'),'N月e','e')<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time_sys+(#__i+2-#date-#dw0_1)*86400000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40+#__i%7*80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50+int(#__i/7)*80+70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(120+135*eq(#__i-#dw0_1+2,#date))<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i-#dw0_1+2)*le(int(#__i-#dw0_1+2),#max_date)<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layer</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>返回手势</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 返回手势 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Return<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#about*1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_begin_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ReturnMove*0.5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>858<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rotation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#about*180<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>429<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg/gesture_back_background.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ReturnMove/4+#about*(1080-#ReturnMove/2)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_begin_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg/gesture_back_arrow.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ReturnMove }= 100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ReturnMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#ReturnDown==1,min(abs(#touch_begin_x-#touch_x),168),min(abs(#touch_begin_x-#touch_x),168)*(1-#ReturnBack)*int(#ReturnMove}0))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ReturnBack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>QuadEaseOut<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_x{50 || #touch_x}1030<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ReturnDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_x}540<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ReturnDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ReturnBack<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!-- 当移动距离大于100px时,执行动画 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ReturnMove}100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a href="https://gitee.com/mitheme/image/raw/master/res/icon.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>返回手势附件素材</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> 



<!-- ====== Section ====== -->
<h2 id="外部数据"><a href="#外部数据" class="header-anchor">#</a> 外部数据</h2> <p><strong>ContentProvider</strong></p> <p>content provider 提供了查询应用程序信息的通用接口,定义了新的 xml 代码来查询 content provider,并查询到的信息绑定到变量上,用来显示第三方应用程序的信息,只要第三方应用提供相应的 content provider。比如:可以显示 天气信息、运动计步、待办事项、便签 等。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://sample/test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriFormat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriParas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col1,col2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">where</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">args</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>variable_name1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>variable_name2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dependency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><p>VariableBinders 定义各种变量绑定到的源。支持 ContentProviderBinder、WebServiceBinder、SensorBinder</p></li> <li><p>ContentProviderBinder 定义一个 content provider 源和绑定到它上面的变量</p></li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">uir</td> <td style="text-align:left;">指定选用哪个 content provider</td></tr> <tr><td style="text-align:left;">uriFormat</td> <td style="text-align:left;">如果 uri 需要添加变量,可以用格式化,需要和 uriParas 一起使用</td></tr> <tr><td style="text-align:left;">uriParas</td> <td style="text-align:left;">同 Text element 的格式</td></tr> <tr><td style="text-align:left;">columns</td> <td style="text-align:left;">需要查询的列名,用逗号分隔</td></tr> <tr><td style="text-align:left;">where</td> <td style="text-align:left;">查询条件,同 SQL</td></tr> <tr><td style="text-align:left;">args</td> <td style="text-align:left;">“where” 的参数.</td></tr> <tr><td style="text-align:left;">order</td> <td style="text-align:left;">排序条件, 同 SQL</td></tr> <tr><td style="text-align:left;">countName</td> <td style="text-align:left;">将查询结构数量绑定到该变量名</td></tr></tbody></table> <ul><li>Variable 定一个绑定变量</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">name</td> <td style="text-align:left;">变量名</td></tr> <tr><td style="text-align:left;">type</td> <td style="text-align:left;">content provider 中的数据类型: string/double/float/int/long</td></tr> <tr><td style="text-align:left;">column</td> <td style="text-align:left;">变量绑定到的列的名称.</td></tr> <tr><td style="text-align:left;">row</td> <td style="text-align:left;">变量绑定到的行数,默认为 0.</td></tr></tbody></table> <ul><li><p>支持 where 的格式化 where=&quot;&quot; whereFormat=&quot;&quot; whereParas=&quot;&quot;</p></li> <li><p>dependency 支持依赖关系,即某个 ContentProviderBinder 查询结束后获取的变量作为下一个 ContentProviderBinder 查询的参数()</p></li></ul> <br> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dependency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>name1 查询结束后会触发 name2 的查询</li> <li>name2 的查询可以使用 name1 的变量</li> <li>并且如果 name1 数据发生变化重新查询后,会触发 name2 的重新查询</li></ul> <br> <h3 id="消息通知"><a href="#消息通知" class="header-anchor">#</a> <strong>消息通知</strong></h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 查询通知 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://keyguard.notification/notifications<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon,title,content,time,info,subtext,key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasnotifications<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>List</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_list<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 通知列表;maxHeight 列表最大显示高度,超出部分不显示,可上下滚动列表 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>List</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>858<span class="token punctuation">&quot;</span></span> <span class="token attr-name">maxHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>370<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon:bitmap,title:string,content:string,time:string,info:string,subtext:string,key:int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>858<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>185<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 单条消息的显示大小和点击区域 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>858<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>185<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_bg.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_bg.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>21<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>114<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>114<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>190<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>32<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ee000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_title<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>190<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#b4000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>64<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#b4000000<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_time<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#notice_list.key<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_click<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AttrDataBinders</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AttrDataBinder</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bitmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AttrDataBinder</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AttrDataBinder</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AttrDataBinder</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AttrDataBinders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>List</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <h4 id="带滑动删除的消息通知"><a href="#带滑动删除的消息通知" class="header-anchor">#</a> <strong>带滑动删除的消息通知</strong></h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 查询通知 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://keyguard.notification/notifications<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon,title,content,time,key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasnotifications<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blob.bitmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blob.bitmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blob.bitmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blob.bitmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeUp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(0,0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_noticeAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(0,0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 通知 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>688<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_noticeMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#touch_x-#touch_begin_x)*#noticeMoveDown+#_noticeAni<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_noticeAni<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#touch_x-#touch_begin_x)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(int(#touch_x-#touch_begin_x)}=300,1080,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_noticeAni == 1080<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeUp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeUp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeUpAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeUpAni.current_frame == -1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MultiCommand</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@notice_key[#noticeDown]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_click<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MultiCommand</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- count=&quot;4&quot; 最多显示4条消息;size=&quot;4&quot; 消息时间,显示几条消息就有几个时间 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_notice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications}0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==#_notice,#_noticeMove,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_notice*193 - ifelse(#_notice}#noticeDown,#noticeUp*193,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>183<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==#_notice,255-int(#_noticeMove)/3,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_notice { #hasnotifications<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1024<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>183<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1024<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>183<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#eeeeee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeTime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-66<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>62<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#BFB7BE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>32<span class="token punctuation">&quot;</span></span> <span class="token attr-name">spacingAdd</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@notice_time[#_notice]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>194<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>62<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-194-66- ifelse(#time_format,100,150)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>38<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@notice_title[#_notice]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>194<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>121<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-194-66<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#606160<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">marqueeSpeed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@notice_content[#_notice]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fontFamily</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui-regular<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_notice<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeMoveDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeMoveDown<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_noticeAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(100,300)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.action_remove_keyguard_notification<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abs(#touch_x-#touch_begin_x){10<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_key<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@notice_key[#noticeDown]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.app.ExtraStatusBarManager.extra_notification_click<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 头像坐标;50 x坐标,30 y坐标;60 w宽度;60 h高度 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeIconXYWH<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60,36,110,110<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 通知图标;name 图标名称,从0-3,表示共计四条;visibility,用 hasnotifications 控制是否需要显示头像  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[0]+ifelse(#noticeDown==0,#_noticeMove,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[1]+0*193 - ifelse(0}#noticeDown,#noticeUp*193,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[2]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[3]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==0,255-int(#_noticeMove)/3,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications}=1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[0]+ifelse(#noticeDown==1,#_noticeMove,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[1]+1*193 - ifelse(1}#noticeDown,#noticeUp*193,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[2]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[3]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==1,255-int(#_noticeMove)/3,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications}=2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[0]+ifelse(#noticeDown==2,#_noticeMove,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[1]+2*193 - ifelse(2}#noticeDown,#noticeUp*193,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[2]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[3]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==2,255-int(#_noticeMove)/3,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications}=3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>notice_icon3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[0]+ifelse(#noticeDown==3,#_noticeMove,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[1]+3*193 - ifelse(3}#noticeDown,#noticeUp*193,0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[2]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#noticeIconXYWH[3]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#noticeDown==3,255-int(#_noticeMove)/3,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hasnotifications}=4<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <h3 id="天气查询"><a href="#天气查询" class="header-anchor">#</a> 天气查询</h3> <h4 id="接口返回字段"><a href="#接口返回字段" class="header-anchor">#</a> 接口返回字段</h4> <div class="language- extra-class"><pre class="language-text"><code>uri=&quot;content://weather/actualWeatherData/1&quot;
</code></pre></div><table><thead><tr><th style="text-align:left;">ColIndex</th> <th style="text-align:left;">字段名</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">类型(type)</th> <th style="text-align:left;">字段值示例</th> <th style="text-align:left;">备注</th></tr></thead> <tbody><tr><td style="text-align:left;">0</td> <td style="text-align:left;">publish_time</td> <td style="text-align:left;">实时天气信息发布时间(time mills)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">1508143200000</td> <td style="text-align:left;">可用于实时信息的时效判断</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">city_id</td> <td style="text-align:left;">城市唯一标识</td> <td style="text-align:left;">string</td> <td style="text-align:left;">39.959_116.298</td> <td style="text-align:left;">经纬度(北纬_东经)</td></tr> <tr><td style="text-align:left;">2</td> <td style="text-align:left;">city_name</td> <td style="text-align:left;">城市/街道名称</td> <td style="text-align:left;">string</td> <td style="text-align:left;">安宁庄南路</td> <td style="text-align:left;">能定位到街道时优先返回街道名,否则返回城市名</td></tr> <tr><td style="text-align:left;">3</td> <td style="text-align:left;">description</td> <td style="text-align:left;">天气现象(实时)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">多云</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">4</td> <td style="text-align:left;">temperature</td> <td style="text-align:left;">气温(实时)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">18℃</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">5</td> <td style="text-align:left;">temperature_range</td> <td style="text-align:left;">气温(预报)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">8℃~18℃</td> <td style="text-align:left;">支持数组,type=&quot;string[]&quot;</td></tr> <tr><td style="text-align:left;">6</td> <td style="text-align:left;">aqilevel</td> <td style="text-align:left;">AQI 等级</td> <td style="text-align:left;">int</td> <td style="text-align:left;">90</td> <td style="text-align:left;">参考见:<a href="#AQI%E7%AD%89%E7%BA%A7%5C%20%E4%B8%AD%E5%9B%BD%E5%A4%A7%E9%99%86%E6%A0%87%E5%87%86"><font color="#0055ff"><strong>AQI 等级</strong></font></a></td></tr> <tr><td style="text-align:left;">7</td> <td style="text-align:left;">locale</td> <td style="text-align:left;">语言</td> <td style="text-align:left;">string</td> <td style="text-align:left;">zh_CN</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">8</td> <td style="text-align:left;">weather_type</td> <td style="text-align:left;">天气类型(实时)</td> <td style="text-align:left;">int<br>string</td> <td style="text-align:left;">1</td> <td style="text-align:left;">type=&quot;int&quot;时不支持数组,type=&quot;string[]&quot;时支持数组<br>与天气现象对应关系参考见:<a href="#%E5%A4%A9%E6%B0%94%E7%8E%B0%E8%B1%A1%E4%BB%A3%E7%A0%81%E5%AF%B9%E7%85%A7%E8%A1%A8%EF%BC%9A"><font color="#0055ff"><strong>天气现象代码对照表</strong></font></a></td></tr> <tr><td style="text-align:left;">9</td> <td style="text-align:left;">humidity</td> <td style="text-align:left;">湿度</td> <td style="text-align:left;">int</td> <td style="text-align:left;">68%</td> <td style="text-align:left;">单位:%</td></tr> <tr><td style="text-align:left;">10</td> <td style="text-align:left;">sunrise</td> <td style="text-align:left;">日出时间</td> <td style="text-align:left;">int</td> <td style="text-align:left;">80760000</td> <td style="text-align:left;">距 0 点过去的毫秒数(换算成时间时只取 Hour 和 Minute,例如 80760000 换算后为 06:26)</td></tr> <tr><td style="text-align:left;">11</td> <td style="text-align:left;">sunset</td> <td style="text-align:left;">日落时间</td> <td style="text-align:left;">int</td> <td style="text-align:left;">34440000</td> <td style="text-align:left;">距 0 点过去的毫秒数(换算成时间时只取 Hour 和 Minute,34440000 换算后为 17:34)</td></tr> <tr><td style="text-align:left;">12</td> <td style="text-align:left;">wind</td> <td style="text-align:left;">风向,风力</td> <td style="text-align:left;">string</td> <td style="text-align:left;">东南风,2 级</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">13</td> <td style="text-align:left;">day</td> <td style="text-align:left;">日期偏移量</td> <td style="text-align:left;">int</td> <td style="text-align:left;">1</td> <td style="text-align:left;">0 代表昨天,1 代表今天,2 代表明天</td></tr> <tr><td style="text-align:left;">14</td> <td style="text-align:left;">pressure</td> <td style="text-align:left;">气压</td> <td style="text-align:left;">int</td> <td style="text-align:left;">1016hPa</td> <td style="text-align:left;">单位:hPa</td></tr> <tr><td style="text-align:left;">15</td> <td style="text-align:left;">timestamp</td> <td style="text-align:left;">预报天气信息发布时间(time mills)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">1508055000000</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">16</td> <td style="text-align:left;">tmphighs</td> <td style="text-align:left;">最高温(预报)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">18</td> <td style="text-align:left;">支持数组,type=&quot;string[]&quot;</td></tr> <tr><td style="text-align:left;">17</td> <td style="text-align:left;">tmplows</td> <td style="text-align:left;">最低温(预报)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">8</td> <td style="text-align:left;">支持数组,type=&quot;string[]&quot;</td></tr> <tr><td style="text-align:left;">18</td> <td style="text-align:left;">forecast_type</td> <td style="text-align:left;">天气类型(预报)</td> <td style="text-align:left;">int<br>string</td> <td style="text-align:left;">1</td> <td style="text-align:left;">type=&quot;int&quot;时不支持数组,type=&quot;string[]&quot;时支持数组<br>与天气现象对应关系参考见:<a href="#Weather_phenomenon_code_comparison_table"><font color="#0055ff"><strong>天气现象代码对照表</strong></font></a></td></tr> <tr><td style="text-align:left;">19</td> <td style="text-align:left;">weathernamesfrom</td> <td style="text-align:left;">天气现象(预报)</td> <td style="text-align:left;">string</td> <td style="text-align:left;">多云</td> <td style="text-align:left;">支持数组,type=&quot;string[]&quot;</td></tr> <tr><td style="text-align:left;">20</td> <td style="text-align:left;">weathernamesto</td> <td style="text-align:left;">同上</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">21</td> <td style="text-align:left;">temperature_unit</td> <td style="text-align:left;">气温单位</td> <td style="text-align:left;">int</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1 代表摄氏度,0 代表华氏度</td></tr> <tr><td style="text-align:left;">22</td> <td style="text-align:left;">water</td> <td style="text-align:left;">暂时无用(降水概率)</td> <td style="text-align:left;">-</td> <td style="text-align:left;">50%</td> <td style="text-align:left;">暂时无用</td></tr></tbody></table> <h4 id="aqi等级-中国大陆标准"><a href="#aqi等级-中国大陆标准" class="header-anchor">#</a> AQI等级 中国大陆标准</h4> <table><thead><tr><th style="text-align:left;">等级</th> <th style="text-align:left;">范围</th></tr></thead> <tbody><tr><td style="text-align:left;">优</td> <td style="text-align:left;">aqi &gt;= 0 &amp;&amp; aqi &lt;= 50</td></tr> <tr><td style="text-align:left;">良</td> <td style="text-align:left;">aqi &gt; 50 &amp;&amp; aqi &lt;= 100</td></tr> <tr><td style="text-align:left;">轻度污染</td> <td style="text-align:left;">aqi &gt; 100 &amp;&amp; aqi &lt;= 150</td></tr> <tr><td style="text-align:left;">中度污染</td> <td style="text-align:left;">aqi &gt; 150 &amp;&amp; aqi &lt;= 200</td></tr> <tr><td style="text-align:left;">重度污染</td> <td style="text-align:left;">aqi &gt; 200 &amp;&amp; aqi &lt;= 300</td></tr> <tr><td style="text-align:left;">严重污染</td> <td style="text-align:left;">aqi &gt; 300</td></tr></tbody></table> <ul><li>最多可以获取到未来 5 天天气详情(包含今天)</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- MIUI天气代码;uri 老接口:content://weather/weather,旧主题更新时请更换为新接口:content://weather/actualWeatherData/1 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://weather/actualWeatherData/1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_id,city_name,weather_type,aqilevel,description,temperature,temperature_range,forecast_type,tmphighs,tmplows,wind,humidity,sunrise,sunset,pressure,weathernamesfrom,publish_time,temperature_unit,somatosensory,kinect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasweather<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 城市北纬东经 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 城市/街道名称 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 天气类型(实时) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 今日温度 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_temperature<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>temperature<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 今日温度区间(20℃~30℃) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_temperature_range<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>temperature_range<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 天气现象(实时):晴 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 日出时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_sunrise<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sunrise<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 日落时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_sunset<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sunset<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 风力 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_wind<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wind<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 气压 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_pressure<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pressure<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 湿度 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_humidity<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>humidity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 天气类型(预报) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_forecast_type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>forecast_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 天气现象(预报) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_weathernamesfrom<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weathernamesfrom<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 最高温度 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_temphigh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tmphighs<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 最低温度 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_templow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tmplows<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 实时天气信息发布时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_publish_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>publish_time<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 气温单位,1代表摄氏度,0代表华氏度 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_temperature_unit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>temperature_unit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- AQI等级 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_aqi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aqilevel<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 空气质量 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>air_quality<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#weather_aqi}=0**#weather_aqi{=50,'空气优',#weather_aqi}50**#weather_aqi{=100,'空气良好',#weather_aqi}100**#weather_aqi{=150,'轻度污染',#weather_aqi}150**#weather_aqi{=200,'中度污染',#weather_aqi}200**#weather_aqi{=300,'重度污染',#weather_aqi}300,'严重污染','获取信息异常')<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 天气现象简化版;可用于天气图标展示。例如:srcid=&quot;#weatherId&quot; --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weatherId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#weather_id}25||#weather_id{0,0, (#weather_id}=4**#weather_id{=6||#weather_id}=8**#weather_id{=11||#weather_id==25),4,#weather_id}=13**#weather_id{=17,13 ,#weather_id}=18**#weather_id{=21||#weather_id==23,18,#weather_id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherAqi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dependency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriFormat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://weatherinfo/aqi/%s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriParas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@city_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aqi,pm25,pm10,so2,no2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasweatherinfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aqi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aqi<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pm25<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pm25<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pm10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pm10<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>so2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>so2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 把数据以文本的方式展示出来 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@weather_description+' '+@weather_location+' '+#pm25+' '+@air_quality<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__w<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300+60*#__w<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#FFFFFF<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@weather_forecast_type[#__w]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>就是将查询到的数据以文本或者是图形的方式展示出来,具体作用可以翻译 column 的值,再通过 Variable 自定义的变量名 展示出来。</p> <h4 id="天气现象代码对照表"><a href="#天气现象代码对照表" class="header-anchor">#</a> 天气现象代码对照表:</h4> <div class="language- extra-class"><pre><code>#weather_id=0代表晴天,=1代表多云...
</code></pre></div><table><thead><tr><th style="text-align:left;">天气现象编码 / 天气现象</th> <th style="text-align:left;">天气现象编码 / 天气现象</th> <th style="text-align:left;">天气现象编码 / 天气现象</th></tr></thead> <tbody><tr><td style="text-align:left;">0 :晴</td> <td style="text-align:left;">9 : 大雨</td> <td style="text-align:left;">18 : 强沙尘暴</td></tr> <tr><td style="text-align:left;">1 :多云</td> <td style="text-align:left;">10 : 中雨</td> <td style="text-align:left;">19 : 沙尘暴</td></tr> <tr><td style="text-align:left;">2 :阴</td> <td style="text-align:left;">11 : 小雨</td> <td style="text-align:left;">20 : 沙尘</td></tr> <tr><td style="text-align:left;">3 :雾</td> <td style="text-align:left;">12 : 雨夹雪</td> <td style="text-align:left;">21 : 扬沙</td></tr> <tr><td style="text-align:left;">4 :特大暴雨</td> <td style="text-align:left;">13 : 暴雪</td> <td style="text-align:left;">22 : 冰雹</td></tr> <tr><td style="text-align:left;">5 :大暴雨</td> <td style="text-align:left;">14 : 阵雪</td> <td style="text-align:left;">23 : 浮尘</td></tr> <tr><td style="text-align:left;">6 :暴雨</td> <td style="text-align:left;">15 : 大雪</td> <td style="text-align:left;">24 : 霾</td></tr> <tr><td style="text-align:left;">7 :雷阵雨</td> <td style="text-align:left;">16 : 中雪</td> <td style="text-align:left;">25 : 冻雨</td></tr> <tr><td style="text-align:left;">8 :阵雨</td> <td style="text-align:left;">17 : 小雪</td> <td style="text-align:left;">99 : 无</td></tr></tbody></table> <h4 id="简化版天气图标使用"><a href="#简化版天气图标使用" class="header-anchor">#</a> 简化版天气图标使用</h4> <p>在日常制作中如果画 26 个天气图标工作量较大,所以我们可以把一个类型的图标集合为一个图标即可。</p> <p>如下示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WeatherProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://weather/actualWeatherData/1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_name,weather_type,aqilevel,description,temperature,temperature_range<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasweather<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_temperature<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>temperature<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather_aqi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aqilevel<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 空气质量 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>air_quality<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#weather_aqi}=0**#weather_aqi{=50,'空气优',#weather_aqi}50**#weather_aqi{=100,'空气良好',#weather_aqi}100**#weather_aqi{=150,'轻度污染',#weather_aqi}150**#weather_aqi{=200,'中度污染',#weather_aqi}200**#weather_aqi{=300,'严重污染',#weather_aqi}300,'重度污染','获取信息异常')<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 天气类型简化版;可用于天气图标展示。例如:srcid=&quot;#weatherId&quot; --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weatherId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#weather_id}25||#weather_id{0,0, (#weather_id}=4**#weather_id{=6||#weather_id}=8**#weather_id{=11||#weather_id==25),4,#weather_id}=13**#weather_id{=17,13 ,#weather_id}=18**#weather_id{=21||#weather_id==23,18,#weather_id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 用图展示天气现象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weather.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#weatherId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>简化版图标对应天气现象示图:</p> <p><img src="http://f1.market.xiaomi.com/download/ThemeMarket/0260845347a564de52c171b428cc34290cfedd1dc/file.png" alt="image"></p> <p>11 个天气图标附件下载:<a href="http://f1.market.xiaomi.com/download/ThemeMarket/0051ee427fc61465e30de674fd93992c9227386b4/file.zip/" target="_blank" rel="noopener noreferrer"><font color="#0055ff"><strong>11 个天气图标素材.zip</strong></font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> <h3 id="运动计步"><a href="#运动计步" class="header-anchor">#</a> 运动计步</h3> <p><strong>新版计步(数据来源 小米健康;仅支持 miui12 使用)</strong></p> <p>旧版计步数据获取比较复杂,且无法获取 目标步数、公里数、卡路里 等,故增加 通过「小米健康」获取数据的方式 <strong>(仅支持 miui12 使用)</strong>。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 开屏刷新 运动记录数据 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 注意:不可卸载 小米健康App --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.mi.health.provider.main/activity/steps/brief<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>steps,goal,distance,energy,strength_duration,summary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasSteps<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 步数 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_steps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>steps<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 目标步数 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_goal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goal<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 距离 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_distance<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>distance<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 消耗卡路里 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_energy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>energy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 运动中高强度时长 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_strength_duration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>strength_duration<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 运动是否达标 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiSteps_summary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>summary<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>今日步数:' +@MiSteps_steps+ '步'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><br> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th> <th style="text-align:left;">单位</th> <th style="text-align:left;">类型</th></tr></thead> <tbody><tr><td style="text-align:left;">steps</td> <td style="text-align:left;">步数</td> <td style="text-align:left;">步 steps</td> <td style="text-align:left;">string</td></tr> <tr><td style="text-align:left;">goal</td> <td style="text-align:left;">目标步数</td> <td style="text-align:left;">步 steps</td> <td style="text-align:left;">string</td></tr> <tr><td style="text-align:left;">distance</td> <td style="text-align:left;">距离</td> <td style="text-align:left;">公里 km</td> <td style="text-align:left;">string</td></tr> <tr><td style="text-align:left;">energy</td> <td style="text-align:left;">消耗卡路里</td> <td style="text-align:left;">千卡 kcal</td> <td style="text-align:left;">string</td></tr> <tr><td style="text-align:left;">strength_duration</td> <td style="text-align:left;">运动中高强度时长</td> <td style="text-align:left;">分钟 minute</td> <td style="text-align:left;">string</td></tr> <tr><td style="text-align:left;">summary</td> <td style="text-align:left;">运动是否达标;<br>0 暂无<br>1 尚未达标<br>2 运动不足<br>3 运动达标</td> <td style="text-align:left;"></td> <td style="text-align:left;">string</td></tr></tbody></table> <p><strong>获取数据时异常处理,参考下面示例代码:</strong></p> <ul><li>未安装「小米健康」app 时,点击跳转至应用商店下载页面</li> <li>已安装 但从未打开提示用户获取数据,并且点击后跳转 健康运动 页面</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 判断是否有 小米健康应用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app_health<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>168<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>168<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ApplicationIcon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>com.mi.health,com.mi.health.home.HomeActivity'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#33ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>70<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#66ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>70<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>70<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#app_health.bmp_width,'打开','安装')<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 提示 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>39<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(!#app_health.bmp_width,'无法获取数据,请安装小米健康',strIsEmpty(@MiSteps_goal),'点击获取数据','查看运动详情')<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 未安装 跳转到应用商店 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.VIEW<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>market://details?id=com.mi.health<span class="token entity named-entity" title="&amp;">&amp;amp;</span>ref=mithemelocksreen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">flags</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>268435456<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!#app_health.bmp_width<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 已安装 打开运动页面 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.VIEW<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mi.health://localhost/d?action=steps<span class="token entity named-entity" title="&amp;">&amp;amp;</span>origin=mithemelocksreen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#app_health.bmp_width<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <font color="red">
    注意:上面的新版计步只有MIUI 12支持。<br>适配MIUI 11时注意设计与制作兼容,在V11的主题版本上可使用下面的旧版代码。
</font> <br> <p><strong>旧版计步(数据来源 小米计步)</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.miui.providers.steps/item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_id,_begin_time,_end_time,_mode,_steps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hassteps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">whereFormat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_begin_time&gt;='%d'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">whereParas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int((#time_sys-#hour24*3600000-#minute*60000-#second*1000)/1000)*1000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mi_step<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_steps<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mi_begin_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_begin_time<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mi_end_time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_end_time<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 初始化今天的总步数 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>step_today<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token comment">&lt;!-- 计算今天的总步数 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoopCommand</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hassteps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__s<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>step_today<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#step_today+int(@Mi_step[#__s])<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoopCommand</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#step_today<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">参数名称</th> <th style="text-align:left;">含义</th> <th style="text-align:left;">类型</th></tr></thead> <tbody><tr><td style="text-align:left;">_id</td> <td style="text-align:left;">记录在 sqlite 的 id,从 1 开始计</td> <td style="text-align:left;">string[]</td></tr> <tr><td style="text-align:left;">_begin_time</td> <td style="text-align:left;">计步打点开始时间(计步每次打点都有个开始时间和结束时间,隔一段时间存储到手机一次)</td> <td style="text-align:left;">string[]</td></tr> <tr><td style="text-align:left;">_end_time</td> <td style="text-align:left;">计步打点结束时间(计步每次打点都有个开始时间和结束时间,隔一段时间存储到手机一次)</td> <td style="text-align:left;">string[]</td></tr> <tr><td style="text-align:left;">_steps</td> <td style="text-align:left;">每次打点的步数</td> <td style="text-align:left;">string[]</td></tr> <tr><td style="text-align:left;">_mode</td> <td style="text-align:left;">计步模式: 0:不支持模式, 1:静止, 2:走路, 3:跑步, 11:骑车, 12:交通工具</td> <td style="text-align:left;">string[]</td></tr></tbody></table> <h3 id="语音文字"><a href="#语音文字" class="header-anchor">#</a> 语音文字</h3> <p>用来获取用户说了什么内容？可以用语音来加强锁屏的能力,也给了更多的可能性。比如:锁屏语音输入法,锁屏记事本 等。发挥你的想象,没有什么是做不到的。不是很明白怎么写？可以先看关于 <a href="#%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE"><font color="#0055ff"><strong>外部数据的介绍</strong></font></a></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 启动录音 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriFormat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.miui.voiceassist.speech.api/%s<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uriParas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@t1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">queryAtStart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 识别结果 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAiResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.miui.voiceassist.speech.api/status<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AsrStatus,AsrResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAiResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">queryAtStart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Asr_Status<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AsrStatus<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Asr_Result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AsrResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#second<span class="token punctuation">&quot;</span></span> <span class="token attr-name">threshold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pokewakelock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#f2f2f2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-160<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255*0.05<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>45<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@AsrResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 识别结果刷新 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">threshold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#MiAiResultRefresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAiResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AsrResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@Asr_Result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height - 80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">interceptTouch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Normal</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#FFFFFF<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Normal</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pressed</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#E8E8E8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cornerRadius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pressed</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(#screen_width-140)/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>42<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#MiAiResultRefresh,'松开结束','按下说话')<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 开始刷新识别结果 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAiResultRefresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(0,200)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- exe 是否需要语音内容执行  --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>start?session=20190401<span class="token entity named-entity" title="&amp;">&amp;amp;</span>vad=false<span class="token entity named-entity" title="&amp;">&amp;amp;</span>exe=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Asr_Result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MiAiResultRefresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play(1000,1200)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>cancel'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过 ContentProviderBinder 刷新接口 来启动启动小爱录音或者是停止录音</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 启动录音 --&gt;</span>
content://com.miui.voiceassist.speech.api/start?session=20190401<span class="token entity named-entity" title="&amp;">&amp;amp;</span>vad=false<span class="token entity named-entity" title="&amp;">&amp;amp;</span>exe=false

<span class="token comment">&lt;!-- 取消 --&gt;</span>
content://com.miui.voiceassist.speech.api/cancel

<span class="token comment">&lt;!-- 停止收音 表示说完话了,区别于取消 --&gt;</span>
content://com.miui.voiceassist.speech.api/stop
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">vad</td> <td style="text-align:left;">是否开启自动判停,若开启了,则不需要松手停止说(false,true)</td></tr> <tr><td style="text-align:left;">exe</td> <td style="text-align:left;">是否需要执行语音内容,既用户说的内容(false,true)</td></tr></tbody></table> <br> <p><strong>重点来了</strong></p> <p>根据 ContentProviderBinder 返回的值做一些交互,比如显示文字,录音时的动画等</p> <div class="language-xml extra-class"><pre class="language-xml"><code>content://com.miui.voiceassist.speech.api/status
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">AsrStatus</td> <td style="text-align:left;">状态;0 识别结束,空闲中,1 表示录音中,2 录音结束识别中</td></tr> <tr><td style="text-align:left;">AsrResult</td> <td style="text-align:left;">识别结果</td></tr> <tr><td style="text-align:left;">AsrVoiceVolume</td> <td style="text-align:left;">实时录音的音量大小,最大 100</td></tr></tbody></table> <br> <h3 id="作息"><a href="#作息" class="header-anchor">#</a> 作息</h3> <p><font color="#ff0000">MIUI13新增</font></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 作息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clockProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clockProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.android.deskclock.bedtimeProvider/bedtime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasdeskclock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 未设置作息管理,获取的睡眠数据无效 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_bedtime_state<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bedtime_state<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 入睡时间的小时,24小时制 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_sleep_hour<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sleep_hour<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 入睡时间的分 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_sleep_minute<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sleep_minute<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 起床时间的小时,24小时制 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_wake_hour<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wake_hour<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 起床时间的分 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_wake_minute<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wake_minute<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 重复周期 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_repeat_type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>repeat_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">uri</th> <th style="text-align:left;">content://com.android.deskclock.bedtimeProvider/bedtime</th> <th style="text-align:left;"></th> <th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">字段名</td> <td style="text-align:left;">说明</td> <td style="text-align:left;">数据类型</td> <td style="text-align:left;">字段名示意</td> <td style="text-align:left;">备注</td></tr> <tr><td style="text-align:left;">bedtime_state</td> <td style="text-align:left;">作息管理设置状态,0关闭;1开启</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">sleep_hour</td> <td style="text-align:left;">入睡时间的小时</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;">24小时制</td></tr> <tr><td style="text-align:left;">sleep_minute</td> <td style="text-align:left;">睡时间的分</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">wake_hour</td> <td style="text-align:left;">起床时间的小时</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;">24小时制</td></tr> <tr><td style="text-align:left;">wake_minute</td> <td style="text-align:left;">起床时间的分</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">repeat_type</td> <td style="text-align:left;">重复周期</td> <td style="text-align:left;">int</td> <td style="text-align:left;"></td> <td style="text-align:left;">每天:127<br>法定工作日:-1<br>周一至周五:31<br>自定义:其他数值</td></tr></tbody></table> <h3 id="闹钟"><a href="#闹钟" class="header-anchor">#</a> 闹钟</h3> <p><font color="#ff0000">MIUI13新增</font></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DeskClockProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DeskClockProvider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.android.deskclock/alarm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasdeskclock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 备注 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_message<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 开关 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_enabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 时 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_hour<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hour<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 分 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_minute<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minutes<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 响铃时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_alarmtime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alarmtime<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 重复方式 --&gt;</span>
        <span class="token comment">&lt;!-- 0: 一次性 --&gt;</span>
        <span class="token comment">&lt;!-- 1: 周一 --&gt;</span>
        <span class="token comment">&lt;!-- 2: 周二 --&gt;</span>
        <span class="token comment">&lt;!-- 4: 周三 --&gt;</span>
        <span class="token comment">&lt;!-- 8: 周四 --&gt;</span>
        <span class="token comment">&lt;!-- 16: 周五 --&gt;</span>
        <span class="token comment">&lt;!-- 32: 周六 --&gt;</span>
        <span class="token comment">&lt;!-- 64: 周日 --&gt;</span>
        <span class="token comment">&lt;!-- 128: 法定工作日 --&gt;</span>
        <span class="token comment">&lt;!-- 256: 法定节假日 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clock_daysofweek<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>daysofweek<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">uri</th> <th style="text-align:left;">&quot;content://com.android.deskclock/alarm</th> <th style="text-align:left;"></th> <th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">字段名</td> <td style="text-align:left;">说明</td> <td style="text-align:left;">数据类型</td> <td style="text-align:left;">字段名示意</td> <td style="text-align:left;">备注</td></tr> <tr><td style="text-align:left;">message</td> <td style="text-align:left;">备注</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">enabled</td> <td style="text-align:left;">开关</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">hour</td> <td style="text-align:left;">时</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">minutes</td> <td style="text-align:left;">分</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">alarmtime</td> <td style="text-align:left;">响铃时间</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">daysofweek</td> <td style="text-align:left;">重复方式</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;">0: 一次性 <br>1: 周一 <br>2: 周二 <br>4: 周三 <br>8: 周四<br>16: 周五<br>32: 周六<br>64: 周日<br>128: 法定工作日<br>256: 法定节假日</td></tr></tbody></table> <h3 id="待办事项"><a href="#待办事项" class="header-anchor">#</a> 待办事项</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init,resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ContentProvider接口在切屏时必须主动更新一次  --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BinderCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendarEvents<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendarEvents<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://com.android.calendar/events<span class="token punctuation">&quot;</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dtstart ASC<span class="token punctuation">&quot;</span></span> <span class="token attr-name">whereFormat</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasExtendedProperties=='%d' AND dtstart<span class="token entity named-entity" title="&gt;">&amp;gt;</span>='%d' AND dtstart<span class="token entity named-entity" title="&lt;">&amp;lt;</span>='%d'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">whereParas</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0,int((#time_sys-#hour24*3600000-#minute*60000-#second*1000)/1000)*1000,int((#time_sys-#hour24*3600000-#minute*60000-#second*1000+86400000)/1000)*1000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>events<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 标题 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 地点,没有则为null --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_eventLocation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eventLocation<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 提醒开始时间--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_dtstart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dtstart<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 提醒结束时间 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_dtend<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dtend<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 全天事件 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_allDay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>allDay<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 事件的最后时间, 空表示无限 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_lastDate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastDate<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 日程的类型 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendar_hasExtendedProperties<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasExtendedProperties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">uri</th> <th style="text-align:left;">content://com.android.calendar/events</th> <th style="text-align:left;"></th> <th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;">字段名</td> <td style="text-align:left;">说明</td> <td style="text-align:left;">数据类型</td> <td style="text-align:left;">字段名示意</td> <td style="text-align:left;">备注</td></tr> <tr><td style="text-align:left;">title</td> <td style="text-align:left;">标题</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">eventLocation</td> <td style="text-align:left;">地点,没有则为null</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">dtstart</td> <td style="text-align:left;">提醒开始时间</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">dtend</td> <td style="text-align:left;">提醒结束时间</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">allDay</td> <td style="text-align:left;">全天事件</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;">0不是;1是</td></tr> <tr><td style="text-align:left;">lastDate</td> <td style="text-align:left;">事件的最后时间, 空表示无限</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;">10800000</td> <td style="text-align:left;">距离0点的时间戳表示形式</td></tr> <tr><td style="text-align:left;">hasExtendedProperties</td> <td style="text-align:left;">类型</td> <td style="text-align:left;">string[]</td> <td style="text-align:left;"></td> <td style="text-align:left;">日程的类型(倒数日;纪念日;生日;日程)</td></tr></tbody></table> <br> 



<!-- ====== Section ====== -->
<h2 id="传感器调用"><a href="#传感器调用" class="header-anchor">#</a> 传感器调用</h2> <p>SensorBinder 支持重力感应,方向感应,加速度感应,气压感应(海拔高度) <br></p> <h3 id="重力传感器"><a href="#重力传感器" class="header-anchor">#</a> 重力传感器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gravity<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">rate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gravity_x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gravity_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gravity_z<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">index=&quot;0&quot;</td> <td style="text-align:left;">x 方向的重力加速度</td></tr> <tr><td style="text-align:left;">index=&quot;1&quot;</td> <td style="text-align:left;">y 方向的重力加速度</td></tr> <tr><td style="text-align:left;">index=&quot;2&quot;</td> <td style="text-align:left;">z 方向的重力加速度</td></tr></tbody></table> <p>rate;常量,单位是微秒,有 4 种特殊值 0,1,2,3;默认为 3 (不写的话)。</p> <blockquote><p>注意:值越小刷新越高/运动越流畅,也会相对耗电一点。</p> <ul><li>0 表示 0 微秒</li> <li>1 是 20000 微秒</li> <li>2 是 66667 微秒</li> <li>3 是 200000 微秒</li></ul></blockquote> <br> <h3 id="方向传感器"><a href="#方向传感器" class="header-anchor">#</a> 方向传感器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">index=&quot;0&quot;</td> <td style="text-align:left;">方位角,0~359,0=北,90=东,180=南,270=西</td></tr> <tr><td style="text-align:left;">index=&quot;1&quot;</td> <td style="text-align:left;">俯仰角,-180 ~ 180,z 轴转向 y 轴为正方向</td></tr> <tr><td style="text-align:left;">index=&quot;2&quot;</td> <td style="text-align:left;">滚转角,-90 ~ 90,x 轴转向 z 轴为正方向</td></tr></tbody></table> <br> <h3 id="加速度传感器"><a href="#加速度传感器" class="header-anchor">#</a> 加速度传感器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accelerometer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accelerometer_x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accelerometer_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accelerometer_z<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">index=&quot;0&quot;</td> <td style="text-align:left;">x 方向的加速度</td></tr> <tr><td style="text-align:left;">index=&quot;1&quot;</td> <td style="text-align:left;">y 方向的加速度</td></tr> <tr><td style="text-align:left;">index=&quot;2&quot;</td> <td style="text-align:left;">z 方向的加速度</td></tr></tbody></table> <br> <h3 id="线性加速度传感器"><a href="#线性加速度传感器" class="header-anchor">#</a> 线性加速度传感器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linear_acceleration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line_x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line_1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>线性加速度是去掉了重力加速度影响的:加速度 = 线性加速度 + 重力加速度</p> <br> <h3 id="气压传感器"><a href="#气压传感器" class="header-anchor">#</a> 气压传感器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pressure<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pressure<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">index=&quot;0&quot;</td> <td style="text-align:left;">气压值,单位 hPa。海平面的平均气压是 1013.25hPa,可以根据气压值估计海拔高度</td></tr></tbody></table> <br> <br> 



<!-- ====== Section ====== -->
<h2 id="广播"><a href="#广播" class="header-anchor">#</a> 广播</h2> <p>广播分成两部分:发送与接收</p> <ul><li>发送部分一般放 Trigger 中</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialization<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg_number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#rand_num<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>接收部分在 VariableBinders 里</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BroadcastBinder</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialization<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wallpaper_num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg_number<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BroadcastBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>action 属性中的名字可自己定义,一致即可。</p></blockquote> <br> 



<!-- ====== Section ====== -->
<h2 id="深色模式"><a href="#深色模式" class="header-anchor">#</a> 深色模式</h2> <p><strong>使用说明</strong></p> <p>设计师可根据全局变量 <code>#__darkmode_wallpaper</code> <code>#__darkmode</code> 自定义开启 【深色模式】后的显示效果。</p> <p>首先需要在 xml 的根节点增加 customizedDarkModeWallpaper=&quot;true&quot; 属性,如:</p> <br> <ul><li>百变壁纸</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- customizedDarkModeWallpaper=&quot;true&quot; 自定义深色模式 开启 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MiWallpaper</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">customizedDarkModeWallpaper</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bgScale<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#screen_height}2160,#screen_height/2160,1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- #__darkmode_wallpaper 打开深色模式 并 启用调暗效果 时值为 1;srcid=&quot;1&quot; 则显示图片 &quot;bg_1.jpg&quot; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#bgScale<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__darkmode_wallpaper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MiWallpaper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <ul><li>百变锁屏</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- customizedDarkModeWallpaper=&quot;true&quot; 自定义深色模式 开启 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">customizedDarkModeWallpaper</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>customizedDarkModeWallpaper 默认为 false,在【深色模式且壁纸调暗】开启时,默认 统一调暗效果;若为 true,则支持自定义调暗效果。</p> <p>MIUI12 20.6.1 之后的开发版 支持</p></blockquote> <br> <table><thead><tr><th style="text-align:left;">全局变量</th> <th style="text-align:left;">释义</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">__darkmode_wallpaper</td> <td style="text-align:left;">是否开启深色模式且支持调暗壁纸</td> <td style="text-align:left;">0 表示未开启<br>1 表示已开启</td></tr> <tr><td style="text-align:left;">__darkmode</td> <td style="text-align:left;">是否开启深色模式</td> <td style="text-align:left;">0 表示未开启<br>1 表示已开启</td></tr></tbody></table> <br> 



<!-- ====== Section ====== -->
<h2 id="锁屏设置"><a href="#锁屏设置" class="header-anchor">#</a> 锁屏设置</h2> <p><strong>锁屏个性化设置</strong><br>
主题可以带一个配置描述文件描述可以个性化配置的项目(config.xml 和 manifest.xml 放在同一个目录下)
可配置项目有:</p> <ul><li>开关</li> <li>文字输入</li> <li>文字选择</li> <li>数字输入</li> <li>数字选择</li> <li>程序快捷方式</li> <li>自定义图片</li></ul> <p>示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 根节点 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 设置组  text 设置组名称,显示在设置界面中的文本 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>日期时间<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 开关(summary:设置项详细说明;id:设置项对应的变量名称;default:缺省值) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBox</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show_date<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 文字输入 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StringInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>日期格式<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>format<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>M月d日<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 数字输入 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文字大小<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文字大小<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>size_date<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请选择<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 文字选择 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StringChoice</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">customizable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time_format<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 文字选择项目 value变量值 text界面显示文字 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hh:mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12小时<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>kk:mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>24小时<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StringChoice</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 数字选择 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberChoice</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 数字选择项目 value数值 text界面显示文字 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>模式1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>模式2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NumberChoice</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>自定义图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请先将图片裁剪到合适大小和部位以确保显示效果<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImagePicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片一<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择图片一<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImagePicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片二<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择图片二<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>快捷方式<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppPicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>左边快捷方式<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left_task<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppPicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>右边快捷方式<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right_task<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p>清除图片(将相应变量置空即可);最新自定义图片用法可查看:<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87"><font color="#0055ff"><strong>自定义图片</strong></font></a></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uri<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@img2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uri<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#img1.has_bitmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p>快速进入锁屏个性化设置界面的快捷方式(Button)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2+300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignChildren</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>280<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>128<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.thememanager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.maml.MamlConfigSettings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maml_code<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>lockstyle'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unlock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="多语言适配"><a href="#多语言适配" class="header-anchor">#</a> 多语言适配</h2> <p>MAML 支持多语言,下面以锁屏为例(锁屏的文件都在 lockscreen/advance 文件夹下,在这我们就其为根目录)
多语言的适配有图片资源的适配和字符串的适配两种:</p> <ul><li>图片资源的适配
都放在根目录下,只不过非默认的需新建相应语言的文件夹(如:images_en、images_cn_TW)
默认图片:a.png
中文繁体:images_zh_TW/a.png
英文:images_en/a.png</li> <li>字符串资源的适配
默认:strings/strings.xml
中文简体:strings/strings_zh_CN.xml
中文繁体:strings/strings_zh_TW.xml</li></ul> <p>看下面的示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- strings.xml 内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>musicName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Music player<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strings</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- strings_zh_CN.xml 内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>musicName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>打开音乐播放器<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strings</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- strings_zh_TW.xml 内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>musicName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>打開音樂播放器<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strings</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>manifest.xml 中可直接使用变量 @musicName</p> <ul><li>自定义配置文件的适配(config 文件直接加后缀即可)</li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">英文</td> <td style="text-align:left;">config.xml</td></tr> <tr><td style="text-align:left;">简体</td> <td style="text-align:left;">config_zh_CN.xml</td></tr> <tr><td style="text-align:left;">繁体</td> <td style="text-align:left;">config_zh_TW.xml</td></tr></tbody></table> <blockquote><p>适配多语言时,推荐 config.xml 为英文语言,再适配其他语言。</p></blockquote> <br> 



<!-- ====== Section ====== -->
<h2 id="高级教程"><a href="#高级教程" class="header-anchor">#</a> 高级教程</h2> <p><strong>动态帧率</strong></p> <ul><li>普通用法</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>普通用法二(充电有动画特效时可以在跟标签加入 充电/电量满/电量低 指定帧率,让指定电量状态帧率为 60-120,从而使动画更流畅)</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRateCharging</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRateBatteryLow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRateBatteryFull</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">代码</th></tr></thead> <tbody><tr><td style="text-align:left;">frameRate</td> <td style="text-align:left;">指定帧率,默认为 30。 注:目前小米手机屏幕刷新率最高为 120hz。</td></tr> <tr><td style="text-align:left;">frameRateCharging</td> <td style="text-align:left;">充电状态下 锁屏帧率</td></tr> <tr><td style="text-align:left;">frameRateBatteryLow</td> <td style="text-align:left;">电量低时 锁屏帧率</td></tr> <tr><td style="text-align:left;">frameRateBatteryFull</td> <td style="text-align:left;">电量满(100%)时 锁屏帧率</td></tr></tbody></table> <ul><li>高级用法</li></ul> <p>动态调整帧率,比如在播放动画或者滑动屏幕的时候把帧率提高到 60fps 或者 120fps,以保证动画和滑动不卡顿;其余时候可以降低到 30fps,在保证流畅度的前提下又可以兼顾省电。</p> <p>注:frameRate=&quot;120&quot;为目前高刷新率手机所支持的,在不支持 120 的手机上面还是以手机硬件所支持的最高刷新率为准。(比如写 120 时在 60hz 的机型上面最高只会到达 60hz)</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FramerateController</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>framerateControllerAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ControlPoint</span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ControlPoint</span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ControlPoint</span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2001<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FramerateController</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 在需要提高帧率时播放;比如有开屏动画时,在开屏时播放 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>framerateControllerAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 点击/滑动屏幕时提高帧率 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down,up,cancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>framerateControllerAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>move<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>framerateControllerAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#frame_rate{55<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <div id="Element_array"></div> <p><strong>元素数组</strong></p> <p>就是界面元素(图形、文字…)以特定规律的形式展现,避免类似代码的重复。<br>
例如:我要把 100 张 80x80 的矩形按 10 行 10 列(间距为 20 像素)的形式显示出来,如果是平常,我们至少得写 100 行代码,但现在用元素数组几行代码就行了。<br></p> <p>示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__i<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- % 与 int 的用法请看 表达式 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i%10*100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/10)*100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#99ffffff<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>36<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i%10*100+40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/10)*100+20<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#000000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">Array</td> <td style="text-align:left;">元素数组的标签(就是对各元素进行排列)</td></tr> <tr><td style="text-align:left;">indexName</td> <td style="text-align:left;">指数名称,可理解为元素数组内,用来给各元素编号的变量名</td></tr> <tr><td style="text-align:left;">count</td> <td style="text-align:left;">规定这个元素数组内同类型元素的个数,也就是 indexName 中你自定义的变量名的范围,在 Array 中的 count 不支持表达</td></tr></tbody></table> <br> <p><strong>循环处理</strong></p> <p>主要与数组配合使用,可节省大量的代码,并提高效率。</p> <p>示例:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>find<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__i<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#find[#__i]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#__i%10*90<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#__i/10)*90<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffffff<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1920<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoopCommand</span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>find<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#col<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#col<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoopCommand</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">LoopCommand</td> <td style="text-align:left;">循环标签</td></tr> <tr><td style="text-align:left;">indexName</td> <td style="text-align:left;">指数名称,用来标注循环计算次数的变量名(#col 等于 0 时,说明是第一次计算)</td></tr> <tr><td style="text-align:left;">count</td> <td style="text-align:left;">规定循环次数</td></tr> <tr><td style="text-align:left;">begin</td> <td style="text-align:left;">indexName 指定的变量到达某个值时开始计算</td></tr> <tr><td style="text-align:left;">end</td> <td style="text-align:left;">indexName 指定的变量到达某个值时终止计算</td></tr> <tr><td style="text-align:left;">loopCondition</td> <td style="text-align:left;">循环条件,可以用来中断循环</td></tr></tbody></table> <p>下面这段与前面 <code>&lt;LoopCommand/&gt;</code> 代码等效</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoopCommand</span> <span class="token attr-name">begin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">end</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>99<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>find<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#col<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#col<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoopCommand</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>贝塞尔曲线</strong></p> <p>重点:CanvasDrawer 是独立的,必须先计算在其它分辨率下的缩放比,</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oriy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>startx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starty<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>endx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>endy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 先初始化 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- scale_mum:CanvasDrawer是独立的,先计算在其它分辨率下的缩放比 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scale_mum<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#raw_screen_width/1.08)/1000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ctor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.graphics.Path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">return</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">returnType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>object<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveTo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float,float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#startx,#starty<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>quadTo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float,float,float,float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#orix,#oriy,#endx,#endy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ctor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.graphics.Paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">return</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">returnType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>object<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.maml.util.ReflectionHelper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEnumConstant<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String,String<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>android.graphics.Paint$Style','STROKE'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">return</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style<span class="token punctuation">&quot;</span></span> <span class="token attr-name">returnType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>object<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setStyle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.graphics.Paint$Style<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>style'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1920<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>argb(255,255,255,255)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">touchable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 初始点 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_x<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>y0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_y<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 滑动过程会刷新数据 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>move<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_x-#x0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#touch_y-#y0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>moveTo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float,float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#startx,#starty<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>quadTo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float,float,float,float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#orix+#dx,#oriy+#dy,#endx,#endy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#orix+#dx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oriy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#oriy+#dy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rectangle</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>240<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#scale_mum<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- CanvasDrawer;画布哦！对这功能给跪了！大家好好用！谢谢MAML之父 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CanvasDrawer</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>draw<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setStrokeWidth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0xff00ff00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__objCanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.graphics.Path,android.graphics.Paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>path','paint'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setStrokeWidth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setColor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0xff000000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setTextSize<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MethodCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>__objCanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drawTextOnPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">paramTypes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String,android.graphics.Path,float,float,android.graphics.Paint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">params</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>Hello World! This is a new awesome feature. 你好,这是很牛的新功哦！','path',0,-25,'paint'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CanvasDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="其他相关"><a href="#其他相关" class="header-anchor">#</a> 其他相关</h2> <p><strong>锁屏常亮</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 初期测试锁屏时防止黑屏,可加入该代码,方便测试锁屏效果 --&gt;</span>
<span class="token comment">&lt;!-- 注意:主题最终上线时该代码不可直接展示,不然锁屏会一直亮屏不会息屏;可以用条件控制什么时候可执行 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#second<span class="token punctuation">&quot;</span></span> <span class="token attr-name">threshold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pokewakelock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>相当于每 5 秒(second)触发一次;
pokewakelock 唤醒屏幕</p></blockquote> <br> <p><strong>全机型壁纸自适应算法</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i_bg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max(#screen_width/#i_bg.bmp_width,#screen_height/#i_bg.bmp_height)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><blockquote><p>适用对象:任意尺寸图片。(自定义的 Image 非<Wallpaper></Wallpaper>,因为 wallpaper 自带自适应缩放算法)<br>
原理:宽不够拉宽,高不够拉高.
即:壁纸按照屏幕中心对齐平铺的情况下,未铺满区域的就把壁纸整体按照前两者的比值进行等比缩放以填充未充满区域。</p></blockquote> <br> <div id="FullScreen_lockSreen_element_adaptation"></div> <h4 id="全面屏机型锁屏元素适配"><a href="#全面屏机型锁屏元素适配" class="header-anchor">#</a> 全面屏机型锁屏元素适配</h4> <p>目前手机分辨率各有所异,那么我们在制作锁屏时书写代码就需要注意在锁屏中处于底部的元素就需要用相对坐标来写,而非绝对坐标。</p> <p>解决方案:</p> <blockquote><ul><li>在全局变量中有一个<a href="#__screen_height"><font color="#0055ff"><strong>screen_height</strong></font></a>,表示在你当前代码设定分辨率下相对应的屏幕高度</li> <li>屏幕底的按钮坐标,以屏幕高度(screen_height)为参照,通俗地讲就是从底部上去多少像素</li></ul></blockquote> <p>示例(这里以系统默认锁屏底部两边的小图标为例):</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 底部左右小图标 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height-110<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>115<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon_left.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_width-115<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon_right.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>释义:y=&quot;#screen_height-110&quot; 这里的坐标表示用屏幕高度减去 110 就是底部图标最终显示的位置,不管任何机型都是用机型的分辨率高度减去 110;这样就保障了在不同机型底部按钮都会在底部位置。</p> <br> <p><strong>个性化设置中 文件管理和相册 选择图片不生效,用这行代码解决</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>diy_img_var<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strContains(@diy_img,'com.android.fileexplorer'),strReplaceAll(@diy_img,'content://com.android.fileexplorer.myprovider/external_files/','file:///sdcard/'),strContains(@diy_img,'com.miui.gallery'),strReplaceAll(@diy_img,'content://com.miui.gallery.open/raw/%2Fstorage%2Femulated%2F0%2F','file:///sdcard/'),@diy_img)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#screen_height/2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alignV</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Uri<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@diy_img_var<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>记得把下面代码放到 config.xml 中</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>自定义图片<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImagePicker</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>自定义图片<span class="token punctuation">&quot;</span></span> <span class="token attr-name">summary</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>图片最佳尺寸:200x200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>diy_img<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>在百变壁纸为时钟插件添加大背景</strong></p> <p>放时钟插件内:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 每次用不同的值发送一个广播(用于百变壁纸收到广播后触发计算) --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialization<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg_number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#time%1000000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>放百变壁纸内:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 收到时钟插件发的广播后开始计算有时钟时wallpaper_offset_x的值,并用ui_num记录 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BroadcastBinder</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialization<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg_num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">extra</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg_number<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#bg_num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ui_num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int(#wallpaper_offset_x*10000000)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BroadcastBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 背景 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2160<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fffcfed8<span class="token punctuation">&quot;</span></span>   <span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- wallpaper_offset_step:wallpaper_offset_x等于ui_num时,透明度为255;单屏偏移量,wallpaper_offset_x当前值与ui_num的差值的绝对值等于wallpaper_offset_step时,透明度为0 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rectangle</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fillColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fffcfed8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>255-int(255*abs(int(#wallpaper_offset_x*10000000)-#ui_num)/10000000/#wallpaper_offset_step)<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearGradient</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">tile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clamp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff46e1c6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GradientStop</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fffcfed8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearGradient</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FillShaders</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rectangle</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>倒计时</strong></p> <p>倒计时的计算逻辑其实很简单,看下面之前, 先搞清楚两点 日历的规律(四年一闰、百年不闰、四百年又闰 闰年时 2 月份多一天) 下面的倒计时以 0000 年为参照年份,计算方法是:目标年份至 0000 年过了多少天,现在的时间过了多少天,求两值的差值。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">screenWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>djs_text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(strIsEmpty(@djs_text),'距离过年',@djs_text)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lya<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eq((#year%4),0)*ne((#year%100),0)+eq((#year%400),0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>da<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(ge(#month,1)*31+(28+#lya)*ge(#month,2)+ge(#month,3)*31+ge(#month,4)*30+ge(#month,5)*31+ge(#month,6)*30+ge(#month,7)*31+ge(#month,8)*31+ge(#month,9)*30+ge(#month,10)*31+ge(#month,11)*30+ge(#month,12)*31)+(365*#year+int(#year/4)+int(#year/400)-int(#year/100))+#date-1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fa<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#hour24*60+#minute<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 目标日期(2021/2/12 23:59)与计算 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>y1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(isnull(#y1),2021,#y1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>m1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(isnull(#m1),2,#m1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(isnull(#d1),12,#d1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(isnull(#h1),23,#h1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>f1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(isnull(#f1),59,#f1)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lyz1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eq((#y1%4),0)*ne((#y1%100),0)+eq((#y1%400),0)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dz1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(gt(#m1,1)*31+(28+#lyz1)*gt(#m1,2)+gt(#m1,3)*31+gt(#m1,4)*30+gt(#m1,5)*31+gt(#m1,6)*30+gt(#m1,7)*31+gt(#m1,8)*31+gt(#m1,9)*30+gt(#m1,10)*31+gt(#m1,11)*30+gt(#m1,12)*31)+(365*#y1+int(#y1/4)+int(#y1/400)-int(#y1/100))+#d1-1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fz1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#h1*60+#f1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vvv1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ge(#dz1*1440+#fz1,#da*1440+#fa)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#vvv1,int(abs(#dz1-#da)-gt(#fa,#fz1)),int(abs(#dz1-#da)-gt(#fz1,#fa)))<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hour1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#vvv1,int((gt(#fa,#fz1)*1440+#fz1-#fa)/60),int((gt(#fz1,#fa)*1440+#fa-#fz1)/60))<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minute1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(#vvv1,int((gt(#fa,#fz1)*1440+#fz1-#fa)%60),int((gt(#fz1,#fa)*1440+#fa-#fz1)%60))<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--
            lya     今年是否闰年
            da      计算现在至００００年有多少天
            dz1     计算目标日期至００００年有多少天
            fa      今天过了多少分
            vvv1    判断目标日期在现在之前还是之后
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wallpaper</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span> <span class="token attr-name">textExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@djs_text+ifelse(#to,'('+#y1+'/'+#m1+'/'+#d1+'/'+#h1+':'+#f1+')','')+ifelse(#vvv1,'还有','已经')+#date1+'天'+#hour1+'时'+#minute1+'分'<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>将下面代码放入锁屏中的 config.xml 文件内可实现自定义倒计时目标时间:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Group</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>锁屏倒计时设置<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StringInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>倒计时自定义文字<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>djs_text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>目标 年<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>y1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2021<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>目标 月<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>m1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>目标 日<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>目标 时<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>23<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NumberInput</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>目标 分<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>f1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>59<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Group</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Config</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>摇一摇调出 NFC 界面</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SensorBinder</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>linear_acceleration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>va_x<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>va_y<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>va_z<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abs(#va_x*10)}120<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 线性加速度数据校正(取最大值),解决不同硬件灵敏度不同造成的问题 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>va_num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abs(#va_x*10)<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">persist</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(abs(#va_x*10))}#va_num<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 如果va_x实时值大于va_num*0.8,则打开NFC界面 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.intent.action.DOUBLE_CLICK<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.tsmclient<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abs(#va_x*10)}(0.8*#va_num)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>event_source<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>key_volume_down'<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SensorBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <p><strong>优化中需要注意的几点:</strong></p> <p>一个好的锁屏,不仅需要很好的视觉效果,还需要流畅的体验(用户手机的性能、玩机水平有高低,制作主题时,要考虑下如何用户最大化)。</p> <blockquote><ul><li>测试时尽量不要用顶配机,frameRate 写 60,实测效果:普通手机不要低于 30 帧/s,好一点的手机必需高于 40 帧/s(这里指的是能够达到的最高帧率,并非你在开头限定的帧率或是你在代码中写的动态帧率)。</li> <li>降低图片文件大小,减少缓存时读取的时间,节省运行内存:存储图片必需导出为 web 格式,或者后期压缩;能用 jpg 绝不用 png,webp 也是一个很好的选择！</li> <li>尽量用合适尺寸的图片,能用小尺寸绝不用大尺寸,有效减少计算量！</li> <li>代码逻辑上不要有冲突,必须精减。</li> <li>充分利用 visibility 控制各模块可见性,用 <Group visibility="#num"></Group> 通过变量 #num 是否大于 0 来判断只显示当前需要显示的部分。</li></ul></blockquote> <p><strong>Layer 优化利器详解</strong></p> <p>Layer,这个部件是一个 Group,但是可以单独设置帧率,实现 Layer 内部元素独立于其它部分的单独渲染刷新控制。这个部件在 MAML 渲染引擎底层对应到 Android 中的单独一个 View ,于是这个元素就可以像 View 一样设置 layer 类型来实现 GPU 硬件缓冲,提高绘制性能。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>25<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hardware</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>800<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotX</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pivotY</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">touchable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">interceptTouch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameRate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layer</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">释义</th></tr></thead> <tbody><tr><td style="text-align:left;">hardware</td> <td style="text-align:left;">是否使用硬件绘图缓冲,true 更快速但更占内存,false 相反</td></tr> <tr><td style="text-align:left;">frameRate</td> <td style="text-align:left;">指定 Layer 内部元素</td></tr> <tr><td style="text-align:left;">updatePosition</td> <td style="text-align:left;">Layer 位置(x y)是否需要更新, true/false</td></tr> <tr><td style="text-align:left;">updateSize</td> <td style="text-align:left;">Layer 大小(w h) 是否需要更新, true/false</td></tr> <tr><td style="text-align:left;">updateTranslation</td> <td style="text-align:left;">Layer 的 pivot/rotation/scale/alpha 等属性是否需要更新</td></tr></tbody></table> <blockquote><p>以上三个 updatePosition/updateSizeupdateTranslation 属性默认都为 true,如果某些属性值是固定的不需要更新(例如 x 不是表达式,或没有位移动画),设置成 false 会提高性能。</p></blockquote> <p>优化步骤:</p> <ul><li>当界面某块部分(如一个日历面板或天气面板等)和其它界面部分刷新率不同时,可以考虑把这块界面元素放到 Layer 中,先尝试 hardware=&quot;false&quot;,给 Layer 单独指定一个合适的刷新帧率 frameRate,看一下性能有没有问题,</li> <li>如果还是有问题可以把 hardware 设成 true 再测试,这时会额外耗费内存,不是必要的话最好不用。</li> <li>如果确实需要 hardware=&quot;true&quot;,但是内存使用又超出预算的话, Layer 提供一个函数接口 setHardwareLayer(boolean) 通过 MethodCommand 调用,在动画开始前设为 true,动画结束后设为 false 即可</li> <li>可以减少界面重复代码编写的数组和循环类组件: 部件数组、变量数组、LoopCommand 等等</li></ul> <blockquote><p>适用情景:</p> <ul><li>整体更新频率较高,但是部分区域(比如常见的日历)不需要频繁更新,可以把这部分放到一个 Layer 中指定较低帧率</li> <li>整体更新频率较低,但是有部分区域有动画需要频繁更新的,可以把这部分放到一个 Layer 单独指定动画帧率</li> <li>较复杂的动画滑进滑出面板,提高动画流畅度,用 Layer 设置合适的 hardware 属性</li></ul></blockquote> <p>注意,zorder 问题,Layer 内部元素在一个单独的图层中,类似如下:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wallpaper</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- layer1在最上的图层, img1和img2在原有默认的底图层,所以img2在layer1下面,如果必须要img2在Layer上面,则需要另建一个Layer --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img1.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img2.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Lockscreen</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> 



<!-- ====== Section ====== -->
<h2 id="aod-息屏"><a href="#aod-息屏" class="header-anchor">#</a> Aod-息屏</h2> <p><strong>主题包结构</strong></p> <p><img src="assets/file_002.png" alt="image"></p> <p><strong>制作须知:</strong></p> <ul><li>百变息屏基于 maml,可使用 maml 已有的全局变量;息屏效果仅做展示(时间、日期、通知 等),禁止使用 传感器/Button 跳转等 交互功能。</li> <li>息屏首次展示时,可播放动画,动画总时长不可超过 4000ms,超时的动画动会被强制停止,最高帧率建议使用 30 或 60,且无需使用动态帧率。</li> <li>息屏状态下,系统规定:1min/次 刷新时间;2min/次 刷新位置。(无法通过 maml 代码修改)</li> <li>限制大小;AOD 模块需保证 10M 之内,越小越好。</li> <li>含动画的效果,在初始化和动画结束 需规范代码书写方式,供系统获取动画状态。</li> <li>支持配置息屏通用开关(电量、通知、农历),支持用户关闭或开启。</li> <li>通知仅展示 icon,且与桌面图标一致,无法自行适配。</li> <li>尽量避免使用大量的 序列帧图片</li></ul> <br> <p><strong>AOD 设置页相关配置(aod_description.xml)</strong>
支持通过代码配置,可自定义支持用户控制开关项显示,且支持配置开关的默认状态。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version='1.0' encoding='utf-8' standalone='yes' ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MIUI_Theme_Values</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 类型;百变框架 maml_style --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>theme_type</span><span class="token punctuation">&gt;</span></span>maml_style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>theme_type</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 是否支持显示 农历、电量、通知 开关;1 支持,0 不支持,默认为 0 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>support_lunar_calendar</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>support_lunar_calendar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>support_battery</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>support_battery</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>support_notification</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>support_notification</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 开关初始状态;农历、电量、通知,1 开启,0 关闭,默认为 0 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lunar_calendar_enable</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lunar_calendar_enable</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>battery_enable</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>battery_enable</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>notification_enable</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>notification_enable</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MIUI_Theme_Values</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <table><thead><tr><th style="text-align:left;"><strong>配置项</strong></th> <th style="text-align:left;"><strong>参数</strong></th> <th style="text-align:left;"><strong>说明</strong></th></tr></thead> <tbody><tr><td style="text-align:left;">theme_type</td> <td style="text-align:left;">maml_style</td> <td style="text-align:left;">类型:百变框架(必写)</td></tr> <tr><td style="text-align:left;">support_lunar_calendar</td> <td style="text-align:left;">1 支持,0 不支持(默认)</td> <td style="text-align:left;">是否支持用户配置 农历 开关</td></tr> <tr><td style="text-align:left;">support_battery</td> <td style="text-align:left;">1 支持,0 不支持(默认)</td> <td style="text-align:left;">是否支持用户配置 电量 开关</td></tr> <tr><td style="text-align:left;">support_notification</td> <td style="text-align:left;">1 支持,0 不支持(默认)</td> <td style="text-align:left;">是否支持用户配置 通知 开关</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"><strong>全局变量</strong></td> <td style="text-align:left;"><strong>状态</strong></td> <td style="text-align:left;"><strong>说明</strong></td></tr> <tr><td style="text-align:left;">lunar_calendar_enable</td> <td style="text-align:left;">1 显示,0 不显示(默认)</td> <td style="text-align:left;">当支持 农历 开关时,开关状态</td></tr> <tr><td style="text-align:left;">battery_enable</td> <td style="text-align:left;">1 显示,0 不显示(默认)</td> <td style="text-align:left;">当支持 电量 开关时,开关状态</td></tr> <tr><td style="text-align:left;">notification_enable</td> <td style="text-align:left;">1 显示,0 不显示(默认)</td> <td style="text-align:left;">当支持 通知 开关时,开关状态</td></tr> <tr><td style="text-align:left;">preview_mode</td> <td style="text-align:left;">1 预览模式,0 息屏模式</td> <td style="text-align:left;">支持通知开关时,<br>需使用此变量确保设置页面内支持预览效果</td></tr></tbody></table> <br> <p><strong>含动画的效果,在初始化和动画结束 需规范代码书写方式,供系统获取动画状态。</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 初始化后,给系统一个状态;必须有 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>animationState<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>init'<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 首次展示的时候,播放的所有动画;action=&quot;play&quot; 与 action=&quot;resume&quot; 类似,但这里用 play --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnimationCommand</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>endAni<span class="token punctuation">&quot;</span></span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>play<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExternalCommands</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>endAni<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableAnimation</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>endAnimation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">initPause</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">easeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CubicEaseOut<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Item</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">time</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1200<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Triggers</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- #endAnimation.current_frame==-1 动画结束 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token attr-name">condition</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#endAnimation.current_frame==-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 在最长的动画结束后,给系统发个命令;注意:此命令只能存在一个,请勿重复使用 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExternCommand</span> <span class="token attr-name">command</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>animationState<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strPara</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>finish'<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Triggers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableAnimation</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Var</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>AOD 通知消息</strong>
aod 通知与锁屏通知有所不同,aod 通知仅显示图标,不显示具体的内容信息。aod 会过滤 app 发出的重复通知,比如 同一应用只展示一个图标,不会重复。具体可参考下方代码:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- aod通知;content://aod.notification/notifications --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ContentProviderBinder</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content://aod.notification/notifications<span class="token punctuation">&quot;</span></span> <span class="token attr-name">columns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pkg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">countName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasnotifications<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticePkg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pkg<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Trigger</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeCount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>min(#hasnotifications-1,3)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Trigger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ContentProviderBinder</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VariableBinders</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Var</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>noticeApp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string[]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">const</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>com.android.contacts,com.android.contacts.activities.TwelveKeyDialer','com.android.mms','com.miui.securitycenter','com.android.thememanager'<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Array</span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>945+int((#timeAni-1)*140)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">indexName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alpha</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#timeAni*255<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#notification_enable<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 预览通知图标 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540+#_i*132-132/2*3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ApplicationIcon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@noticeApp[#_i]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#preview_mode<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 真实通知图标 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Image</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>540+#_i*132-132/2*#noticeCount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">w</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span> <span class="token attr-name">h</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ApplicationIcon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">srcExp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@noticePkg[#_i]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">visibility</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#_i{=#noticeCount ** !#preview_mode<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Array</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>点击下载附件</strong><br></p> <ul><li><p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/E5B08FE7B1B3E4B8BBE9A298_E4B887E8B1A1E681AFE5B18FE8AEBEE8AEA1E588B6E4BD9CE8A784E88C83.pdf" target="_blank" rel="noopener noreferrer"><font color="#0055ff">MIUI 息屏设计制作规范.pdf</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://cnbj1.fds.api.xiaomi.com/mitheme-blog/files/E9A284E8A788E681AFE5B18FE4B8BBE9A298APP.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff">预览息屏主题 APP.zip</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>   若遇到预览app旧版无法使用,请安装新版。</p></li> <li><p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/AOD_demo3.0.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff">Aod 制作、演示 demo.zip</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/AodEditor-win32.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff">Windows 32 打包测试工具.zip</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/AodEditor-win64.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff">Windows 64 打包测试工具.zip</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="http://cnbj1.fds.api.xiaomi.com/mitheme-blog/AodEditor-mac.zip" target="_blank" rel="noopener noreferrer"><font color="#0055ff">Mac 打包测试工具.zip</font><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <br> 



<!-- ====== Section ====== -->
<h2 id="常用包名类名及获取方法"><a href="#常用包名类名及获取方法" class="header-anchor">#</a> 常用包名类名及获取方法</h2> <p><strong>获取方法</strong><br>
1、<a href="https://kpan.mioffice.cn/webfolder/ext/itQ6OeUv94E%40" target="_blank" rel="noopener noreferrer">下载并安装编辑器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,提取密码:123a<br>
2、在手机上打开需要跳转的软件<br>
3、打开编辑器,并将手机用数据线连接至电脑<br>
4、在编辑器中点击“当前界面跳转按钮”(点击后会自动复制包名类名)<br>
5、在你的代码中粘贴使用即可</p> <p><strong>下列IntentCommand在锁屏中需要搭配解锁命令使用</strong><br> <strong>若遇到无法正常跳转的问题,可能是因为app更改了相关包名类名,按照获取方法重新获取即可</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code>拨号 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.contacts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.contacts.activities.TwelveKeyDialer<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

联系人 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.contacts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.contacts.activities.PeopleActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

短信 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.mms<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.mms.ui.MmsTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

相机 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.camera<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.camera.Camera<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

个性主题 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.thememanager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.thememanager.ThemeResourceTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

日历 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.calendar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.calendar.AllInOneActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

天气 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.weather2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.weather2.ActivityWeatherMain<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

时钟 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.deskclock<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.deskclock.DeskClockTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

便签 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.notes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.notes.ui.NotesListActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

图库 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.gallery<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.gallery.app.Gallery<span class="token punctuation">&quot;</span></span><span class="token attr-name">|</span><span class="token punctuation">/&gt;</span></span>

相册 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.gallery<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.gallery.activity.HomePageActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

浏览器 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.browser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.browser.BrowserActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

计算器 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.calculator<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.calculator.cal.CalculatorActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

指南针 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.compass<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.compass.CompassActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

设置 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.settings<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.settings.MiuiSettings<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

米家 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.smarthome<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.smarthome.SmartHomeMainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

文件管理 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.fileexplorer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.fileexplorer.FileExplorerTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

小米视频 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.video<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.video.HomeActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

应用商店 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.market<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.market.ui.MarketTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

小爱同学、语音助手 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">category</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.voiceassist<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.voiceassistant.CTAAlertActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

安全中心 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.settings<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.securitycenter.Main<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

电子邮件 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.email.activity.Welcome<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

收音机 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.fmradio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.fmradio.FmRadioActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

录音机 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.soundrecorder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.soundrecorder.SoundRecorder<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

下载管理 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.providers.downloads.ui<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.providers.downloads.ui.DownloadList<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

UC浏览器 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.UCMobile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.UCMobile.main.UCMobile<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

小米商城 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.shop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaomi.shop.activity.MainTabActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

小米音乐 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.player<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.player.ui.MusicBrowserActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

QQ音乐 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.qqmusic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.qqmusic.activity.AppStarterActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

网易云音乐 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.netease.cloudmusic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.netease.cloudmusic.activity.LoadingActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

酷狗音乐 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.kugou.android<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.kugou.android.app.splash.SplashActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

虾米音乐 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fm.xiami.main<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fm.xiami.main.SplashActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

百度地图 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baidu.BaiduMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baidu.baidumaps.WelcomeScreen<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

今日头条 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.ss.android.article.news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.ss.android.article.news.activity.SplashActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

淘宝 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.taobao.taobao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.taobao.tao.welcome.Welcome<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

新浪微博 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.sina.weibo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.sina.weibo.SplashActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

手机QQ ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mobileqq<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mobileqq.activity.SplashActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.ui.LauncherUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 扫一扫 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.plugin.scanner.ui.BaseScanUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 付款码 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.plugin.offline.ui.WalletOfflineEntranceUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 收款码 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.plugin.collect.ui.CollectAdapterUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 朋友圈 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.plugin.sns.ui.SnsTimeLineUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

微信 我的名片 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.tencent.mm.plugin.setting.ui.setting.SelfQRCodeUI<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

支付宝 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.eg.android.AlipayGphone<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.eg.android.AlipayGphone.AlipayLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

支付宝 扫一扫 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.eg.android.AlipayGphone<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alipay.mobile.scan.as.main.MainCaptureActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

支付宝 付款码 ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.eg.android.AlipayGphone<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.eg.android.AlipayGphone.FastStartActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

公交卡(小米钱包) ▽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.tsmclient<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.tsmclient.ui.quick.DoubleClickActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><strong>不解锁使用</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 录音机 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.soundrecorder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.soundrecorder.SoundRecorder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>StartActivityWhenLocked<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigation_tab<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 计算器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.calculator<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.miui.calculator.cal.CalculatorActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>StartActivityWhenLocked<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigation_tab<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 相机 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.camera<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.android.camera.Camera<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ShowCameraWhenLocked<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>StartActivityWhenLocked<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 手电筒 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VariableCommand</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lightSwitch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!(#lightSwitch)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IntentCommand</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.intent.action.TOGGLE_TORCH<span class="token punctuation">&quot;</span></span> <span class="token attr-name">broadcast</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Extra</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miui.intent.extra.IS_ENABLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boolean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ifelse(int(@__miui_version_code)}=8,#lightSwitch,1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>IntentCommand</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <br></div><!----> </main></div><div class="global-ui"></div></div>
   
  </body>
</html>
